{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1},{"_id":"source/imgs/dogs.jpeg","path":"imgs/dogs.jpeg","modified":1,"renderable":0},{"_id":"source/images/00bf6b1d3993dfd678ac116ba75b5363f8901c01.png","path":"images/00bf6b1d3993dfd678ac116ba75b5363f8901c01.png","modified":1,"renderable":0},{"_id":"source/images/0399299fb68cd20b1dbbf9bfc411a229dca7c1f6.png","path":"images/0399299fb68cd20b1dbbf9bfc411a229dca7c1f6.png","modified":1,"renderable":0},{"_id":"source/images/05f25e6b5715fb1458d1c2bbe5ffb845e96ceb18.png","path":"images/05f25e6b5715fb1458d1c2bbe5ffb845e96ceb18.png","modified":1,"renderable":0},{"_id":"source/images/08690bdfc1e6150bb42999e5439e49088317371c.png","path":"images/08690bdfc1e6150bb42999e5439e49088317371c.png","modified":1,"renderable":0},{"_id":"source/images/09b966c799d4c8ca44612f1eb98fd1eefd377fb2.png","path":"images/09b966c799d4c8ca44612f1eb98fd1eefd377fb2.png","modified":1,"renderable":0},{"_id":"source/images/0a2334193585c03a9c88aa9bba490578052d37da.png","path":"images/0a2334193585c03a9c88aa9bba490578052d37da.png","modified":1,"renderable":0},{"_id":"source/images/0db520fdf28e05e081f24b9b3b7388315bfc7919.png","path":"images/0db520fdf28e05e081f24b9b3b7388315bfc7919.png","modified":1,"renderable":0},{"_id":"source/images/0f8310bececba0c2bb686514134da7b4a0bad7a7.png","path":"images/0f8310bececba0c2bb686514134da7b4a0bad7a7.png","modified":1,"renderable":0},{"_id":"source/images/133a03eb24d1a706df56bc177f7585f919b74960.png","path":"images/133a03eb24d1a706df56bc177f7585f919b74960.png","modified":1,"renderable":0},{"_id":"source/images/1370c97bc57284c414da5d7fdafdff2dace046f2.png","path":"images/1370c97bc57284c414da5d7fdafdff2dace046f2.png","modified":1,"renderable":0},{"_id":"source/images/1447a3ce37d405d6b028245b5d0f7f728bd17a96.png","path":"images/1447a3ce37d405d6b028245b5d0f7f728bd17a96.png","modified":1,"renderable":0},{"_id":"source/images/1a334b7c374f4d28bfb35f39ed5a141b5711586f.png","path":"images/1a334b7c374f4d28bfb35f39ed5a141b5711586f.png","modified":1,"renderable":0},{"_id":"source/images/1b1e89cdf915e9f65674687924ace1a5670a2bda.png","path":"images/1b1e89cdf915e9f65674687924ace1a5670a2bda.png","modified":1,"renderable":0},{"_id":"source/images/212d5a449a50e458f1b3dd8c00c2be3b012b8428.png","path":"images/212d5a449a50e458f1b3dd8c00c2be3b012b8428.png","modified":1,"renderable":0},{"_id":"source/images/213d86fb49e1239668dee499bd5d7b236fe795e2.png","path":"images/213d86fb49e1239668dee499bd5d7b236fe795e2.png","modified":1,"renderable":0},{"_id":"source/images/231205b84b2517b89eeae51949fdbbfec0243eb4.png","path":"images/231205b84b2517b89eeae51949fdbbfec0243eb4.png","modified":1,"renderable":0},{"_id":"source/images/23e4df4bf1de153009fd961cdc0f186257e092b8.png","path":"images/23e4df4bf1de153009fd961cdc0f186257e092b8.png","modified":1,"renderable":0},{"_id":"source/images/30b7afcaa4ce763e3adf2f3593ffc7f1c6a6ef54.png","path":"images/30b7afcaa4ce763e3adf2f3593ffc7f1c6a6ef54.png","modified":1,"renderable":0},{"_id":"source/images/36f2494692678be6a00e116ff9825209ef2a65cf.png","path":"images/36f2494692678be6a00e116ff9825209ef2a65cf.png","modified":1,"renderable":0},{"_id":"source/images/37abbbb12469481e6af19ce4be56d0a048a9be90.png","path":"images/37abbbb12469481e6af19ce4be56d0a048a9be90.png","modified":1,"renderable":0},{"_id":"source/images/3d99aefa7286c3164e9a874f2faac64a1446844f.png","path":"images/3d99aefa7286c3164e9a874f2faac64a1446844f.png","modified":1,"renderable":0},{"_id":"source/images/3e468fe601bb6c15b0ac6f549c0c5e45c728f9d1.png","path":"images/3e468fe601bb6c15b0ac6f549c0c5e45c728f9d1.png","modified":1,"renderable":0},{"_id":"source/images/4165a937f4c8ada78735d80ebb76ba95358b283f.png","path":"images/4165a937f4c8ada78735d80ebb76ba95358b283f.png","modified":1,"renderable":0},{"_id":"source/images/453e9f4901e5f1de0ae927c3d173d1e69018a583.png","path":"images/453e9f4901e5f1de0ae927c3d173d1e69018a583.png","modified":1,"renderable":0},{"_id":"source/images/4547ae89def8d522551b0f2cdecdad5658ee8530.png","path":"images/4547ae89def8d522551b0f2cdecdad5658ee8530.png","modified":1,"renderable":0},{"_id":"source/images/46e0d1afaf15e13bef5d940501c08f8559ed72b5.png","path":"images/46e0d1afaf15e13bef5d940501c08f8559ed72b5.png","modified":1,"renderable":0},{"_id":"source/images/477f24a0d47507502f0dfc97355a94d92f735509.png","path":"images/477f24a0d47507502f0dfc97355a94d92f735509.png","modified":1,"renderable":0},{"_id":"source/images/4e3a669077936ea7c6f19d682c3362be9fc1c270.png","path":"images/4e3a669077936ea7c6f19d682c3362be9fc1c270.png","modified":1,"renderable":0},{"_id":"source/images/4fd944c16b3f85f74727b41fc78d87359054db4f.png","path":"images/4fd944c16b3f85f74727b41fc78d87359054db4f.png","modified":1,"renderable":0},{"_id":"source/images/5b3606bc366335e96009e6266a5d6b86092fc72d.png","path":"images/5b3606bc366335e96009e6266a5d6b86092fc72d.png","modified":1,"renderable":0},{"_id":"source/images/5ebb3bddccb1817a247ec3c30ce88189c5d988cb.png","path":"images/5ebb3bddccb1817a247ec3c30ce88189c5d988cb.png","modified":1,"renderable":0},{"_id":"source/images/61a28206c2d2fb89752cd37f37c8112fa3658e66.png","path":"images/61a28206c2d2fb89752cd37f37c8112fa3658e66.png","modified":1,"renderable":0},{"_id":"source/images/639cf43bac0db5f637594b8a71a94dc655172205.png","path":"images/639cf43bac0db5f637594b8a71a94dc655172205.png","modified":1,"renderable":0},{"_id":"source/images/6489e8a5f01b6de04754ae5238f20b693cb18f0b.png","path":"images/6489e8a5f01b6de04754ae5238f20b693cb18f0b.png","modified":1,"renderable":0},{"_id":"source/images/688548cfede693dcb4287b0915302ef4a9ceb905.png","path":"images/688548cfede693dcb4287b0915302ef4a9ceb905.png","modified":1,"renderable":0},{"_id":"source/images/68ce01c3af321af3fc2cf6da1d5537927157f090.png","path":"images/68ce01c3af321af3fc2cf6da1d5537927157f090.png","modified":1,"renderable":0},{"_id":"source/images/6a5e676a58d9059a7a290844beba2e1558f7c0f4.png","path":"images/6a5e676a58d9059a7a290844beba2e1558f7c0f4.png","modified":1,"renderable":0},{"_id":"source/images/6ada637a949cf249034ab68f78aed795e61af20b.png","path":"images/6ada637a949cf249034ab68f78aed795e61af20b.png","modified":1,"renderable":0},{"_id":"source/images/6d4f59b37197e75bff112c621bf1524c5af712a5.png","path":"images/6d4f59b37197e75bff112c621bf1524c5af712a5.png","modified":1,"renderable":0},{"_id":"source/images/7069d69b0c915b9f27ccecfc731850849d5a1e50.png","path":"images/7069d69b0c915b9f27ccecfc731850849d5a1e50.png","modified":1,"renderable":0},{"_id":"source/images/7787d2201b4e05057aa77f046d8a80605e5aa21f.png","path":"images/7787d2201b4e05057aa77f046d8a80605e5aa21f.png","modified":1,"renderable":0},{"_id":"source/images/7902138d9bf946f6d7893f43d07131c63a7e47a6.png","path":"images/7902138d9bf946f6d7893f43d07131c63a7e47a6.png","modified":1,"renderable":0},{"_id":"source/images/7c4a93b18e55add96c46913425a60b1cf7b82fcd.png","path":"images/7c4a93b18e55add96c46913425a60b1cf7b82fcd.png","modified":1,"renderable":0},{"_id":"source/images/7e75b5d82750938cf1c4f52908c1a4c3ecdc8095.png","path":"images/7e75b5d82750938cf1c4f52908c1a4c3ecdc8095.png","modified":1,"renderable":0},{"_id":"source/images/6aa176a56ce7d5a5af1d22a91e141759c7938da6.png","path":"images/6aa176a56ce7d5a5af1d22a91e141759c7938da6.png","modified":1,"renderable":0},{"_id":"source/images/7faedcf60c808cf866cebddf14a848839eefd236.png","path":"images/7faedcf60c808cf866cebddf14a848839eefd236.png","modified":1,"renderable":0},{"_id":"source/images/82a8f16cdb3304a2d7efd121779786c21065fd7b.png","path":"images/82a8f16cdb3304a2d7efd121779786c21065fd7b.png","modified":1,"renderable":0},{"_id":"source/images/82bf186bb7a7e0db263e43405521541f19e5b374.png","path":"images/82bf186bb7a7e0db263e43405521541f19e5b374.png","modified":1,"renderable":0},{"_id":"source/images/82c4ab39614782bc5135a55d4e7a0902749b4453.png","path":"images/82c4ab39614782bc5135a55d4e7a0902749b4453.png","modified":1,"renderable":0},{"_id":"source/images/83f9ed76cca0ef8c956909511fad20319aaf1d43.png","path":"images/83f9ed76cca0ef8c956909511fad20319aaf1d43.png","modified":1,"renderable":0},{"_id":"source/images/87719b28415cdcff43416487c2813d47375a6961.png","path":"images/87719b28415cdcff43416487c2813d47375a6961.png","modified":1,"renderable":0},{"_id":"source/images/8a55323c68ecb1797e67f3018b72feb6780e3def.png","path":"images/8a55323c68ecb1797e67f3018b72feb6780e3def.png","modified":1,"renderable":0},{"_id":"source/images/964c41bd1fca5636e64e7d8960ea38ad7862a7f4.png","path":"images/964c41bd1fca5636e64e7d8960ea38ad7862a7f4.png","modified":1,"renderable":0},{"_id":"source/images/96844c9457a8fdf0ee6d865688efb7126b80c36e.png","path":"images/96844c9457a8fdf0ee6d865688efb7126b80c36e.png","modified":1,"renderable":0},{"_id":"source/images/96ae3924006f3a11007207d031717463b3bbac6c.png","path":"images/96ae3924006f3a11007207d031717463b3bbac6c.png","modified":1,"renderable":0},{"_id":"source/images/990e8dc15dfc3d4fbf6b0bc347ce50c486580b24.png","path":"images/990e8dc15dfc3d4fbf6b0bc347ce50c486580b24.png","modified":1,"renderable":0},{"_id":"source/images/9acc6865a65ea15430d42d4d3cc44f9793f6a715.png","path":"images/9acc6865a65ea15430d42d4d3cc44f9793f6a715.png","modified":1,"renderable":0},{"_id":"source/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png","path":"images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png","modified":1,"renderable":0},{"_id":"source/images/a4e08000d57f7e73b9f7bf1cdb9e2f5ba83e9455.png","path":"images/a4e08000d57f7e73b9f7bf1cdb9e2f5ba83e9455.png","modified":1,"renderable":0},{"_id":"source/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png","path":"images/a75ba65438f575f4b3ef567312e611840f91cfaf.png","modified":1,"renderable":0},{"_id":"source/images/ab245dbb3a70ff7671109b47f39a1375aa896e67.png","path":"images/ab245dbb3a70ff7671109b47f39a1375aa896e67.png","modified":1,"renderable":0},{"_id":"source/images/ad5f286e4e7bc9726aea771fd8dd836bbbec47a5.png","path":"images/ad5f286e4e7bc9726aea771fd8dd836bbbec47a5.png","modified":1,"renderable":0},{"_id":"source/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf","path":"images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf","modified":1,"renderable":0},{"_id":"source/images/b2c52d796c98ffb94100da0438420e7cd483cd01.png","path":"images/b2c52d796c98ffb94100da0438420e7cd483cd01.png","modified":1,"renderable":0},{"_id":"source/images/b32c68fa9d60da210505be648152958708936b6a.png","path":"images/b32c68fa9d60da210505be648152958708936b6a.png","modified":1,"renderable":0},{"_id":"source/images/bfccfee6cba1e46a6031d9c7c2b70da97c13423c.png","path":"images/bfccfee6cba1e46a6031d9c7c2b70da97c13423c.png","modified":1,"renderable":0},{"_id":"source/images/b517688cf5875de82bd1deea8f8764bff7b90ed9.png","path":"images/b517688cf5875de82bd1deea8f8764bff7b90ed9.png","modified":1,"renderable":0},{"_id":"source/images/c42f554486a4c5ace455ddaa6b320b6fd755d904.png","path":"images/c42f554486a4c5ace455ddaa6b320b6fd755d904.png","modified":1,"renderable":0},{"_id":"source/images/bde042b155cb56f19e4e168dc27d2940fd1580ff.png","path":"images/bde042b155cb56f19e4e168dc27d2940fd1580ff.png","modified":1,"renderable":0},{"_id":"source/images/c43f0fb17247ff0559363e3350b5848aa9d9aea4.png","path":"images/c43f0fb17247ff0559363e3350b5848aa9d9aea4.png","modified":1,"renderable":0},{"_id":"source/images/c4b0621e622948b0f276c177681fc93042e22fba.png","path":"images/c4b0621e622948b0f276c177681fc93042e22fba.png","modified":1,"renderable":0},{"_id":"source/images/c5475754c914e4fc8616218ea075f6aed92d8bc7.png","path":"images/c5475754c914e4fc8616218ea075f6aed92d8bc7.png","modified":1,"renderable":0},{"_id":"source/images/c8d9fae679b67b805a9e12f320e70dc8fca10aa1.png","path":"images/c8d9fae679b67b805a9e12f320e70dc8fca10aa1.png","modified":1,"renderable":0},{"_id":"source/images/ca4acb61c008141a83bf4db021354d1b42850cb2.png","path":"images/ca4acb61c008141a83bf4db021354d1b42850cb2.png","modified":1,"renderable":0},{"_id":"source/images/cc862b36f59d295bd77d64adb5e6b796c68099ff.png","path":"images/cc862b36f59d295bd77d64adb5e6b796c68099ff.png","modified":1,"renderable":0},{"_id":"source/images/cfcdf117dd1192b8c7003cb0b2a3bd30e97803fc.png","path":"images/cfcdf117dd1192b8c7003cb0b2a3bd30e97803fc.png","modified":1,"renderable":0},{"_id":"source/images/d137ddc3b4e8f4e61cddbdbbffd7a7b4e27ec57d.png","path":"images/d137ddc3b4e8f4e61cddbdbbffd7a7b4e27ec57d.png","modified":1,"renderable":0},{"_id":"source/images/d6ebb2c8e78f3eebee2ccf56cbe0bb36e15b7ec0.png","path":"images/d6ebb2c8e78f3eebee2ccf56cbe0bb36e15b7ec0.png","modified":1,"renderable":0},{"_id":"source/images/d959af017055f0c9d66531ee5e22e402b329b6c0.png","path":"images/d959af017055f0c9d66531ee5e22e402b329b6c0.png","modified":1,"renderable":0},{"_id":"source/images/db90a8315faa1528cf9847b300e3d9d4b25c54de.png","path":"images/db90a8315faa1528cf9847b300e3d9d4b25c54de.png","modified":1,"renderable":0},{"_id":"source/images/e03e984c489d88c178be758aee9b839174c1ba5b.png","path":"images/e03e984c489d88c178be758aee9b839174c1ba5b.png","modified":1,"renderable":0},{"_id":"source/images/e058a82acde3fe0d917cc172375c1838b5fa959e.png","path":"images/e058a82acde3fe0d917cc172375c1838b5fa959e.png","modified":1,"renderable":0},{"_id":"source/images/e4c4ab79e883880c71761e195ce99f95079141a6.png","path":"images/e4c4ab79e883880c71761e195ce99f95079141a6.png","modified":1,"renderable":0},{"_id":"source/images/e68f82882020d7d891a80e98459c280c481572a9.png","path":"images/e68f82882020d7d891a80e98459c280c481572a9.png","modified":1,"renderable":0},{"_id":"source/images/e6c28ba6b083dc8458b1311d2d7d18a94934167b.png","path":"images/e6c28ba6b083dc8458b1311d2d7d18a94934167b.png","modified":1,"renderable":0},{"_id":"source/images/ecb7c0fed195365ef31c17fb5f0cf2deb9423e79.png","path":"images/ecb7c0fed195365ef31c17fb5f0cf2deb9423e79.png","modified":1,"renderable":0},{"_id":"source/images/f5503233e757ca0b05d941c193f8b9207863bf1e.png","path":"images/f5503233e757ca0b05d941c193f8b9207863bf1e.png","modified":1,"renderable":0},{"_id":"source/images/f5ebef5abe60bb2772d33dee08181a8149cb9fde.png","path":"images/f5ebef5abe60bb2772d33dee08181a8149cb9fde.png","modified":1,"renderable":0},{"_id":"source/images/f692c29f6c1915c992cd32514c5f86d1b2bd8876.png","path":"images/f692c29f6c1915c992cd32514c5f86d1b2bd8876.png","modified":1,"renderable":0},{"_id":"source/images/f6df3690fe8dcff8aaa65aaebfe30a859049fafb.png","path":"images/f6df3690fe8dcff8aaa65aaebfe30a859049fafb.png","modified":1,"renderable":0},{"_id":"source/images/f8f413892356a5dff1d989153e2fd65a0d4a92f0.png","path":"images/f8f413892356a5dff1d989153e2fd65a0d4a92f0.png","modified":1,"renderable":0},{"_id":"source/images/f9ae5e9b0ad88d664d887ba7613940616549ca36.png","path":"images/f9ae5e9b0ad88d664d887ba7613940616549ca36.png","modified":1,"renderable":0},{"_id":"source/images/fc6773fec6a6ce305fe9361c9a404122cd96155d.png","path":"images/fc6773fec6a6ce305fe9361c9a404122cd96155d.png","modified":1,"renderable":0}],"Cache":[{"_id":"source/categories/index.md","hash":"f2afc2511afcd2d4d50511d73e367c3f29431a1f","modified":1670922420866},{"_id":"source/_posts/(2022)贵州大学商业数据分析课程看板.md","hash":"36187ea5e2ce7e4f8c5318eed592ab5b42e88cfa","modified":1670922421186},{"_id":"source/_posts/00-贵州商学院课程看板.md","hash":"7ff0d30d18f5c3121bd339df32ffec30f04aa8b5","modified":1670922422068},{"_id":"source/_posts/02-商业数据分析中四大问题入门.md","hash":"7848e8e68b649d06e154f2428c4928b46ba90164","modified":1670922421187},{"_id":"source/_posts/01-商业数据分析中常见的技术.md","hash":"ea1445e5b9cecf5159102858ec2c61738aae040a","modified":1670922421187},{"_id":"source/_posts/04-机器学习模型理解.md","hash":"a030d5b3e802893fd09b0278c28624ecb30e09a7","modified":1670922421188},{"_id":"source/_posts/03课程内容安排.md","hash":"3977d79dd580b164abd295967103e817e6b4e62a","modified":1670922421159},{"_id":"source/_posts/04-手机品牌识别之神经网络.md","hash":"e3964c808311cfc40b7989feae92db52ab8a69dc","modified":1670922421162},{"_id":"source/_posts/04-课程内容安排.md","hash":"75718a220462f33ba11c5eb7d811437a2a189977","modified":1670922421155},{"_id":"source/_posts/2022-11-25实验结果.md","hash":"4981d316eda563ac4d7984c8f5d256c87c51681c","modified":1670922421487},{"_id":"source/_posts/2022-11-26实验结果.md","hash":"26afed4c889417ac12eb5146e0e94a9dee8b8b41","modified":1670922421295},{"_id":"source/_posts/2022-12-09实验设计.md","hash":"fadb9e78a4c4db9ce3e7e498584bb88d973aa37a","modified":1670922421695},{"_id":"source/_posts/03-线性回归原理分析及实现.md","hash":"6ce3a57cfec876a8f39303277d9e2a3ad4691eee","modified":1670922421186},{"_id":"source/_posts/AIOPS2018数据集.md","hash":"813044d88c6810f24427fdef1cd0ea5806cacad2","modified":1670922421394},{"_id":"source/_posts/AIOPS2018数据集的引用论文分析.md","hash":"7f7b6b96b21ef9a067bb037eb071547d1461d3b6","modified":1670922421559},{"_id":"source/_posts/About.md","hash":"dcc8fb2435e4db5b8aa7e9163a9f96c154554082","modified":1670922421799},{"_id":"source/_posts/ODDS数据集划分标准及常见问题.md","hash":"cfd5d9fd98579b2dbe0cb3a88050dbcc142540dd","modified":1670922421398},{"_id":"source/_posts/DeepContrastiveOne-ClassTimeSeriesAnomalyDetection.md","hash":"d929c9c2bf77ea8db8b1b45ee35a47dd70d078bc","modified":1670922421721},{"_id":"source/_posts/Obsidian&Hexo笔记编写最佳实践.md","hash":"93787878657660e429013f81b29fbe708c1730b4","modified":1670922421847},{"_id":"source/_posts/bash手册.md","hash":"89b47ef6ff5002ec7106950a3c3db415d3e2f602","modified":1670922421725},{"_id":"source/_posts/contrastivelearning.md","hash":"7c5452918ab08dfe97a259b833624f13c83dee49","modified":1670922421556},{"_id":"source/_posts/决策树decisiontree.md","hash":"75d3062c16c295a771871327a13e67dc1ceaa930","modified":1670922421653},{"_id":"source/_posts/Python手册.md","hash":"5f977a22d3dddaf34748c37edd9bb6f50030da60","modified":1670922421718},{"_id":"source/_posts/商业数据分析-01-大纲.md","hash":"d9021eb185a620471404d7c063c2e38db93edb85","modified":1670922421139},{"_id":"source/_posts/数智教育数据可视化创新大赛数据分析.md","hash":"51ae567df7d320d9e18577b468c521ea4fc157fd","modified":1670922421187},{"_id":"source/_posts/相关资料.md","hash":"f2580c23f78e52414d7b3f973be5f502cffbce54","modified":1670922421160},{"_id":"source/_posts/表格解读的方法.md","hash":"1d5226832a09a3b99bdd3c6ab8053a393b4130aa","modified":1670922421624},{"_id":"source/_posts/重定向.md","hash":"aa42c64c523b3e1267e3268416d50c6be97b45ed","modified":1670922421495},{"_id":"source/tags/index.md","hash":"8fd5b6e8c9f2325b142e772e37e7e89281b600e0","modified":1670922420868},{"_id":"source/imgs/dogs.jpeg","hash":"0f13026399518d1646996cb18b363ce8d767ee48","modified":1670922420855},{"_id":"source/images/1a334b7c374f4d28bfb35f39ed5a141b5711586f.png","hash":"797c3d42291c2974142830e06cebec63544fddd9","modified":1670922421693},{"_id":"source/images/30b7afcaa4ce763e3adf2f3593ffc7f1c6a6ef54.png","hash":"39bbb7479a82e3a9a7283980b2505500c13fe8d4","modified":1670922421158},{"_id":"source/images/3e468fe601bb6c15b0ac6f549c0c5e45c728f9d1.png","hash":"455cc32e85a566204c87f3493fc111565f082fcf","modified":1670922421289},{"_id":"source/_posts/COCA源码分析.md","hash":"09ca7de855f8c5c89781bd5bf0a888550bae70e4","modified":1670922421864},{"_id":"source/images/6ada637a949cf249034ab68f78aed795e61af20b.png","hash":"29b92286c8cca4d22616907d2c3faef7f48a4efe","modified":1670922421690},{"_id":"source/images/7787d2201b4e05057aa77f046d8a80605e5aa21f.png","hash":"7dee22a1b204eed48c04e50707031516dca7e00f","modified":1670922421678},{"_id":"source/images/87719b28415cdcff43416487c2813d47375a6961.png","hash":"759d27eb0c9eba2c417b40e3e08f6dab36521f53","modified":1670922421693},{"_id":"source/images/8a55323c68ecb1797e67f3018b72feb6780e3def.png","hash":"d2d1b370def955fd83257738f7adf46d42ab6ef2","modified":1670922421683},{"_id":"source/images/990e8dc15dfc3d4fbf6b0bc347ce50c486580b24.png","hash":"ef10743cacfa600e1583e5d32e8b616118b5b587","modified":1670922421289},{"_id":"source/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf","hash":"92964cf4eba892485439b9760be336bc77d273c8","modified":1670922421288},{"_id":"source/images/b32c68fa9d60da210505be648152958708936b6a.png","hash":"c6a5ab005ece586f41b5e101e0bdcdac8f361241","modified":1670922421157},{"_id":"source/images/ca4acb61c008141a83bf4db021354d1b42850cb2.png","hash":"68675d50b9a5767314ff39f6c337a4d986fb6a9f","modified":1670922421159},{"_id":"source/images/e03e984c489d88c178be758aee9b839174c1ba5b.png","hash":"16d21524da1049f8c1e1080d94967c6fe29f0283","modified":1670922421686},{"_id":"source/images/f5ebef5abe60bb2772d33dee08181a8149cb9fde.png","hash":"0a237e9f2c67ef162a42bfbebcd6dc1b1f62a38b","modified":1670922421691},{"_id":"source/images/05f25e6b5715fb1458d1c2bbe5ffb845e96ceb18.png","hash":"2132e9a076e2ddc6b3a95cfb42affe878042d2a3","modified":1670922421149},{"_id":"source/images/0db520fdf28e05e081f24b9b3b7388315bfc7919.png","hash":"be1a4aa817d48cb897eed9d18fba90f6e16a513e","modified":1670922421158},{"_id":"source/images/1b1e89cdf915e9f65674687924ace1a5670a2bda.png","hash":"2969e0259d4984dd111e602f8919d18215507d63","modified":1670922421175},{"_id":"source/images/453e9f4901e5f1de0ae927c3d173d1e69018a583.png","hash":"9cfeb471a79f902b3afa0d18f54ef2764753db91","modified":1670922421166},{"_id":"source/images/477f24a0d47507502f0dfc97355a94d92f735509.png","hash":"c88031e52a95ad366d492ed470f1fa336be5315e","modified":1670922421690},{"_id":"source/images/5ebb3bddccb1817a247ec3c30ce88189c5d988cb.png","hash":"9e869682c2f08e1b1e4ec52d4109a8c96e8e6d77","modified":1670922421153},{"_id":"source/images/6489e8a5f01b6de04754ae5238f20b693cb18f0b.png","hash":"d3282a52591bf6b043d89034f84168e9a1c26e8e","modified":1670922421385},{"_id":"source/images/82bf186bb7a7e0db263e43405521541f19e5b374.png","hash":"3f3146f4e043a64c3634aba00943936b112e5a15","modified":1670922421182},{"_id":"source/images/83f9ed76cca0ef8c956909511fad20319aaf1d43.png","hash":"f877e6129dab75fb64b137484111c051758bb50a","modified":1670922421385},{"_id":"source/images/68ce01c3af321af3fc2cf6da1d5537927157f090.png","hash":"a49ab3e7543088bac3bc5ded3e7efca6cad3cdef","modified":1670922421178},{"_id":"source/images/9acc6865a65ea15430d42d4d3cc44f9793f6a715.png","hash":"32af5f575c301121eaec6e15a28ff63d16c43cb1","modified":1670922421180},{"_id":"source/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png","hash":"99e21bec1bc1b7b96ba280739e0de2e442c85028","modified":1670922421178},{"_id":"source/images/ab245dbb3a70ff7671109b47f39a1375aa896e67.png","hash":"c46bf0c4f0892d0588a873e21a5a8c5b84f33a1d","modified":1670922421683},{"_id":"source/images/ad5f286e4e7bc9726aea771fd8dd836bbbec47a5.png","hash":"bc1d21cb3ef2db435a153138e16173331d64d3b8","modified":1670922421725},{"_id":"source/images/c43f0fb17247ff0559363e3350b5848aa9d9aea4.png","hash":"f1f5f65b6009f5900523b23def0494f8af0387c0","modified":1670922421387},{"_id":"source/images/c5475754c914e4fc8616218ea075f6aed92d8bc7.png","hash":"5677eb05b7bea3efea1550602200779356c3abb4","modified":1670922421148},{"_id":"source/images/c4b0621e622948b0f276c177681fc93042e22fba.png","hash":"aab23cc71a214e1d9d010e133b367eb1d0be19c5","modified":1670922421691},{"_id":"source/images/f9ae5e9b0ad88d664d887ba7613940616549ca36.png","hash":"11cc792f27ff995c0a4c835b9aef84b74ab6a19e","modified":1670922421393},{"_id":"source/images/00bf6b1d3993dfd678ac116ba75b5363f8901c01.png","hash":"38ed2fdca4609df2684aedd0f90a2152bcfbccc1","modified":1670922421692},{"_id":"source/images/09b966c799d4c8ca44612f1eb98fd1eefd377fb2.png","hash":"e7cced7209639dbbf46db8b3b8cf2c2202f519b1","modified":1670922421383},{"_id":"source/images/133a03eb24d1a706df56bc177f7585f919b74960.png","hash":"a8f9873f0c5fa24b3162afc6963a6fd650d3251a","modified":1670922421183},{"_id":"source/images/1370c97bc57284c414da5d7fdafdff2dace046f2.png","hash":"c26aaa85a3111e598950930726e4cee7f37a3435","modified":1670922421381},{"_id":"source/images/1447a3ce37d405d6b028245b5d0f7f728bd17a96.png","hash":"a5d1496c0fec199e5936bd6a553f15d795b4ed6d","modified":1670922421383},{"_id":"source/images/212d5a449a50e458f1b3dd8c00c2be3b012b8428.png","hash":"5c3e81f85b7e2aa51815f40fea886c6b19ec4af6","modified":1670922421391},{"_id":"source/images/231205b84b2517b89eeae51949fdbbfec0243eb4.png","hash":"cadf328f5d72fcc408c12edd1f34fb1666c33b2b","modified":1670922421392},{"_id":"source/images/23e4df4bf1de153009fd961cdc0f186257e092b8.png","hash":"7ffd46169087aa242de2ea563ece5683fb2adb0c","modified":1670922421150},{"_id":"source/images/37abbbb12469481e6af19ce4be56d0a048a9be90.png","hash":"0b77f22e6c15e3d9883c44b94f8bd932596909b1","modified":1670922421382},{"_id":"source/images/3d99aefa7286c3164e9a874f2faac64a1446844f.png","hash":"38cf915f61371cb5fbb3f6f3572ffb593536b878","modified":1670922421393},{"_id":"source/images/4547ae89def8d522551b0f2cdecdad5658ee8530.png","hash":"602ce0f433a5d3c83d3981ca9fcc9ac5301ecad3","modified":1670922421182},{"_id":"source/images/46e0d1afaf15e13bef5d940501c08f8559ed72b5.png","hash":"247f66406c868dd21d01d9ece8ce87112b814ca4","modified":1670922421379},{"_id":"source/images/639cf43bac0db5f637594b8a71a94dc655172205.png","hash":"a0f36fc9a8b1cb7d9cc85765cdadff4d066b45b6","modified":1670922421390},{"_id":"source/images/688548cfede693dcb4287b0915302ef4a9ceb905.png","hash":"c3f400dbe17f903191c5281d4a87618c25392937","modified":1670922421380},{"_id":"source/images/7c4a93b18e55add96c46913425a60b1cf7b82fcd.png","hash":"86cd4ec9f89853c7fa6dd772f2c7f1adc6784c9e","modified":1670922421386},{"_id":"source/images/7902138d9bf946f6d7893f43d07131c63a7e47a6.png","hash":"1327979976c1eb32aa1c4dfbc4709f8350100608","modified":1670922421380},{"_id":"source/images/82a8f16cdb3304a2d7efd121779786c21065fd7b.png","hash":"80c498fbf1b7ebdc9c4152fc3b33da1d50f922d0","modified":1670922421389},{"_id":"source/images/82c4ab39614782bc5135a55d4e7a0902749b4453.png","hash":"b06cdc55b57165541fcdea518078c4fe2632d72e","modified":1670922421294},{"_id":"source/images/6aa176a56ce7d5a5af1d22a91e141759c7938da6.png","hash":"ede09aa525b313d0997cdbdc840707a0093dff09","modified":1670922421151},{"_id":"source/images/a4e08000d57f7e73b9f7bf1cdb9e2f5ba83e9455.png","hash":"b44afc62e60335b2fe20bb4c1c4344d5fa670d77","modified":1670922421386},{"_id":"source/images/b2c52d796c98ffb94100da0438420e7cd483cd01.png","hash":"e44834a8b4a69930583c4855ca242d7542412854","modified":1670922421388},{"_id":"source/images/c42f554486a4c5ace455ddaa6b320b6fd755d904.png","hash":"29143184e7322294e8ced6add2e755c9a46ae901","modified":1670922421392},{"_id":"source/images/6d4f59b37197e75bff112c621bf1524c5af712a5.png","hash":"bc1e941bca83c8e689b078b137b91b8b19259bbd","modified":1670922421391},{"_id":"source/images/cc862b36f59d295bd77d64adb5e6b796c68099ff.png","hash":"48c5869ad8d0945ce66fc9850b47eaf0766b7c7e","modified":1670922421394},{"_id":"source/images/d137ddc3b4e8f4e61cddbdbbffd7a7b4e27ec57d.png","hash":"b47cf51b87f08c4a21a2805a3b6c12bafd038f30","modified":1670922421382},{"_id":"source/images/e4c4ab79e883880c71761e195ce99f95079141a6.png","hash":"389a5fb34c226af93dd0a6d0294e5292519d4514","modified":1670922421689},{"_id":"source/images/e68f82882020d7d891a80e98459c280c481572a9.png","hash":"af5c6480d417e12fed82324b8ddea76528c05f5f","modified":1670922421688},{"_id":"source/images/f5503233e757ca0b05d941c193f8b9207863bf1e.png","hash":"da0ebb273f55a63fa884d3f4173e17189e9d820e","modified":1670922421387},{"_id":"source/images/e6c28ba6b083dc8458b1311d2d7d18a94934167b.png","hash":"afcc42931d6ec352db392560c9a824e5107e1069","modified":1670922421381},{"_id":"source/images/fc6773fec6a6ce305fe9361c9a404122cd96155d.png","hash":"f820ac87ac00bc957613d51a228688ec3aae4ff3","modified":1670922421384},{"_id":"source/images/0a2334193585c03a9c88aa9bba490578052d37da.png","hash":"9bd5a171486668316d4f6b94532a7d29ca9ce7d5","modified":1670922421377},{"_id":"source/images/213d86fb49e1239668dee499bd5d7b236fe795e2.png","hash":"1ad9d8e6a555b92012610d557deef6324359530f","modified":1670922421151},{"_id":"source/images/7069d69b0c915b9f27ccecfc731850849d5a1e50.png","hash":"6ebf53d5f72f489438b7465f5e3267725bfe77ad","modified":1670922421378},{"_id":"source/images/7e75b5d82750938cf1c4f52908c1a4c3ecdc8095.png","hash":"eb29a1b844a066fcb9e389cbed0b70cb40ea5795","modified":1670922421149},{"_id":"source/images/964c41bd1fca5636e64e7d8960ea38ad7862a7f4.png","hash":"27540e59656c3e9923cdfb34f924ae9a11e81322","modified":1670922421847},{"_id":"source/images/bfccfee6cba1e46a6031d9c7c2b70da97c13423c.png","hash":"51290ffb1c760b77a254afa654e7bb3335ff0d96","modified":1670922421686},{"_id":"source/images/bde042b155cb56f19e4e168dc27d2940fd1580ff.png","hash":"863dffa96497bcb76e72a995052d56f2c2bb9ac1","modified":1670922421390},{"_id":"source/images/db90a8315faa1528cf9847b300e3d9d4b25c54de.png","hash":"547a37dee3a57c7c3235eb5d682f0dd123e24a30","modified":1670922421685},{"_id":"source/images/e058a82acde3fe0d917cc172375c1838b5fa959e.png","hash":"8b852cb20f3d2e896b2dc5959a39ba03f9704b7b","modified":1670922421290},{"_id":"source/images/36f2494692678be6a00e116ff9825209ef2a65cf.png","hash":"ab446a94d07ac101252cfd11febab2d6beec0d13","modified":1670922421177},{"_id":"source/images/5b3606bc366335e96009e6266a5d6b86092fc72d.png","hash":"016ce66f3bee41835d961e09b1ea7fe4b6baa2e4","modified":1670922421177},{"_id":"source/images/96844c9457a8fdf0ee6d865688efb7126b80c36e.png","hash":"d76cac8a15e73637b1f2fcdd66b334d56e9160c1","modified":1670922421720},{"_id":"source/images/b517688cf5875de82bd1deea8f8764bff7b90ed9.png","hash":"c0e461ae1884d2efaea10052244319f0dc294dbf","modified":1670922421143},{"_id":"source/images/d959af017055f0c9d66531ee5e22e402b329b6c0.png","hash":"31ccc580af8477bc390044d425df7474b27a083f","modified":1670922421689},{"_id":"source/images/f6df3690fe8dcff8aaa65aaebfe30a859049fafb.png","hash":"4fe5cafbbba06db0939e7bf088a63a00e57339bb","modified":1670922421687},{"_id":"source/images/f8f413892356a5dff1d989153e2fd65a0d4a92f0.png","hash":"a564683a54554fa9eece9c5365c4ab6d71e43b65","modified":1670922421143},{"_id":"source/images/4165a937f4c8ada78735d80ebb76ba95358b283f.png","hash":"e6f40de0a1c5b6f43f6503485cd025b49a8e8059","modified":1670922421179},{"_id":"source/images/4e3a669077936ea7c6f19d682c3362be9fc1c270.png","hash":"d9b1e0c4a40f9fc38ba16fec503ab2dd833bbc02","modified":1670922421152},{"_id":"source/images/7faedcf60c808cf866cebddf14a848839eefd236.png","hash":"37bc1f871556a0d522719440e0f4db1147065a42","modified":1670922421144},{"_id":"source/images/96ae3924006f3a11007207d031717463b3bbac6c.png","hash":"dd449de4a2bc3838c50ee4019eaa0bb566734772","modified":1670922421142},{"_id":"source/images/c8d9fae679b67b805a9e12f320e70dc8fca10aa1.png","hash":"9a50c2b54703432db3025f8aa2d38cff8aba2c32","modified":1670922421623},{"_id":"source/images/f692c29f6c1915c992cd32514c5f86d1b2bd8876.png","hash":"80e71a677cc7d55b764a982cead24b5d54718621","modified":1670922421554},{"_id":"source/images/0399299fb68cd20b1dbbf9bfc411a229dca7c1f6.png","hash":"de9c78623768c9eaa1d23b6d53ebdf834086fc0b","modified":1670922421681},{"_id":"source/images/ecb7c0fed195365ef31c17fb5f0cf2deb9423e79.png","hash":"49b7e292fef1714e6013b7d99586f3f62de07d07","modified":1670922421682},{"_id":"source/images/61a28206c2d2fb89752cd37f37c8112fa3658e66.png","hash":"bfedb8fc70599f507616e4eeed617df8f9b0ae9d","modified":1670922421555},{"_id":"source/images/08690bdfc1e6150bb42999e5439e49088317371c.png","hash":"1c1349571cd55937d2aa87105fb4e488871f1b4c","modified":1670922421556},{"_id":"source/images/d6ebb2c8e78f3eebee2ccf56cbe0bb36e15b7ec0.png","hash":"39f5fe6716cdff32233b9677e9f9f8f4b28753f8","modified":1670922421164},{"_id":"source/images/0f8310bececba0c2bb686514134da7b4a0bad7a7.png","hash":"4b4e4baad5cc900d911c89fcfb824d738b93733a","modified":1670922421292},{"_id":"themes/butterfly/package.json","hash":"e3fa2b62a1c960102d1276d3e433c79ebb8fcde2","modified":1670653510229},{"_id":"themes/butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1670653510199},{"_id":"themes/butterfly/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1670666860440},{"_id":"themes/butterfly/plugins.yml","hash":"d46811a3c50f7057681ac496de4beda107aa26b6","modified":1670653510230},{"_id":"themes/butterfly/languages/default.yml","hash":"1e37a3695d50e3e61d7c36e58a6dac872a4a56cd","modified":1670653510201},{"_id":"themes/butterfly/_config.yml","hash":"8eaa0cec4a98b757a811beb231d2f40a607eaa77","modified":1670653510201},{"_id":"themes/butterfly/README_CN.md","hash":"25cfdbaf9883095322259c4f49bd08f0a7cffa0e","modified":1670653510200},{"_id":"themes/butterfly/README.md","hash":"c34579d9d7239828ce7d8abc235521eaf4ea9e17","modified":1670653510200},{"_id":"themes/butterfly/languages/en.yml","hash":"d1bb560698eb8b0079495b7b18b44facb610f9fd","modified":1670653510202},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"28b6f0c39155651d747eb595e0a283bc97be2e09","modified":1670653510202},{"_id":"themes/butterfly/layout/category.pug","hash":"710708cfdb436bc875602abf096c919ccdf544db","modified":1670653510203},{"_id":"themes/butterfly/layout/archive.pug","hash":"a0c034c2d319320a54046805e80b58dc48b7e233","modified":1670653510203},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"947f794e862bb2813e36887f777bdb760f70a322","modified":1670653510202},{"_id":"themes/butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1670653510228},{"_id":"themes/butterfly/layout/post.pug","hash":"fc9f45252d78fcd15e4a82bfd144401cba5b169a","modified":1670653510229},{"_id":"themes/butterfly/layout/tag.pug","hash":"0440f42569df2676273c026a92384fa7729bc4e9","modified":1670653510229},{"_id":"themes/butterfly/layout/page.pug","hash":"baf469784aef227e4cc840550888554588e87a13","modified":1670653510229},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"346b6b650b9dee4844f3be7865886002f82da24c","modified":1670653510203},{"_id":"themes/butterfly/layout/includes/404.pug","hash":"cb49f737aca272ccfeb62880bd651eccee72a129","modified":1670653510203},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"919020d4cd7ae68694b2326edeed4328c7f933cd","modified":1670653510207},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"83a1f2d31792206d432e8e2041e284d88327c02e","modified":1670653510211},{"_id":"themes/butterfly/scripts/events/404.js","hash":"83cd7f73225ccad123afbd526ce1834eb1eb6a6d","modified":1670653510230},{"_id":"themes/butterfly/scripts/events/cdn.js","hash":"acfe765fb2c607bff7198630dbfa53a888c36357","modified":1670653510230},{"_id":"themes/butterfly/scripts/events/comment.js","hash":"a3d1f417965ca20253c36f9e93429f3df6268856","modified":1670653510230},{"_id":"themes/butterfly/scripts/events/init.js","hash":"3ace1139182d3d367149db138990891427f3356e","modified":1670653510231},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"02390a5b6ae1f57497b22ba2e6be9f13cfb7acac","modified":1670660088807},{"_id":"themes/butterfly/scripts/events/stylus.js","hash":"9819f0996234fbd80d6c50a9e526c56ebf22588d","modified":1670653510231},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"8ad9911b755cba13dde2cc055c3f857a6b0dd20e","modified":1670653510231},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"932df912976261929f809b7dbd4eb473e7787345","modified":1670653510231},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"e00efdb5d02bc5c6eb4159e498af69fa61a7dbb9","modified":1670653510232},{"_id":"themes/butterfly/scripts/helpers/findArchiveLength.js","hash":"ee3e70098eb0849497d50b75e18cf4a27c397d52","modified":1670653510232},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"2ec66513d5322f185d2071acc052978ba9415a8e","modified":1670653510232},{"_id":"themes/butterfly/scripts/helpers/inject_head_js.js","hash":"b4cd617c619d1a0df93603721a6fa1317526174b","modified":1670653510233},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"763dab5c83f50c1c62fffc9a9dfedea29bb4e629","modified":1670653510233},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"21379ed2dccb69c43b893895c9d56238c11e5f43","modified":1670653510231},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"91d954f6e9fe6e571eb8ec9f8996294b2dc3688e","modified":1670653510233},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"0b80f04950bd0fe5e6c4e7b7559adf4d0ce28436","modified":1670653510210},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"f79c99f6c5b626c272dc2bed2b0250d6b91bb28a","modified":1670653510233},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"d368a8830e506c8b5eb6512b709ec8db354d5ea1","modified":1670653510233},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"531808a290b8bdd66bac2faab211ada8e9646a37","modified":1670653510234},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"396c3ab1bcf1c7693ad7e506eadd13016c6769b6","modified":1670653510234},{"_id":"themes/butterfly/scripts/tag/inlineImg.js","hash":"a43ee2c7871bdd93cb6beb804429e404570f7929","modified":1670653510234},{"_id":"themes/butterfly/scripts/tag/flink.js","hash":"ab62919fa567b95fbe14889517abda649991b1ee","modified":1670653510233},{"_id":"themes/butterfly/scripts/tag/label.js","hash":"03b2afef41d02bd1045c89578a02402c28356006","modified":1670653510234},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"d51812b43924f1bbf413c67499510dd125022005","modified":1670653510234},{"_id":"themes/butterfly/scripts/tag/timeline.js","hash":"300eb779588bf35a1b687d9f829d866074b707e3","modified":1670653510235},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"7dee9b73acdec2a34d41a45119ebe8bb8650bf6c","modified":1670653510204},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"6c6e415623d0fd39da016d9e353bb4f5cca444f5","modified":1670653510235},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"8d39473ed112d113674a0f689f63fae06c72abd2","modified":1670653510211},{"_id":"themes/butterfly/source/css/index.styl","hash":"861998e4ac67a59529a8245a9130d68f826c9c12","modified":1670653510244},{"_id":"themes/butterfly/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1670653510245},{"_id":"themes/butterfly/source/css/var.styl","hash":"e018dad9f674fc5564112b99032fe5fe8b2d195f","modified":1670653510244},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1670653510245},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1670653510245},{"_id":"themes/butterfly/source/js/main.js","hash":"82b4db7c171f19c105815d02b121703580465364","modified":1670653510246},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"fe4d847177b824e09c75e9c7b723184c708c569a","modified":1670653510204},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"7df90c8e432e33716517ab918b0a125bc284041b","modified":1670653510205},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"5c1391c9e96950833641f178b5f23c58422fb659","modified":1670653510247},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1670653510205},{"_id":"themes/butterfly/layout/includes/head/noscript.pug","hash":"d16ad2ee0ff5751fd7f8a5ce1b83935518674977","modified":1670653510205},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"15530d9ac59c576d79af75dd687efe71e8d261b0","modified":1670653510204},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"428e3c39053b44760463682848f2eae238ff9d64","modified":1670653510204},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"65a23b5170204e55b813ce13a79d799b66b7382c","modified":1670653510205},{"_id":"themes/butterfly/source/js/utils.js","hash":"ee27523d12fa800b8906e13f59882a04ad0bd623","modified":1670653510247},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"3d492cfe645d37c94d30512e0b230b0a09913148","modified":1670653510205},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"31346a210f4f9912c5b29f51d8f659913492f388","modified":1670653510206},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"78a3abd90bb3c18cd773d3d5abac3541e7f415e5","modified":1670653510206},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"0d953e51d04a9294a64153c89c20f491a9ec42d4","modified":1670653510207},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1670653510205},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"9698f22751778dde063cbfbd01c59ca4462ccd85","modified":1670653510206},{"_id":"themes/butterfly/layout/includes/loading/fullpage-loading.pug","hash":"c4b86758f3a3deae4612c31d725814c8753a7804","modified":1670653510207},{"_id":"themes/butterfly/layout/includes/loading/pace.pug","hash":"278855fe4399489bdef0393697bb87420e671fe9","modified":1670653510208},{"_id":"themes/butterfly/layout/includes/loading/index.pug","hash":"131f344d68b4c241d6e03849b243ee792fcd3cea","modified":1670653510208},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"2fb74d0b0e4b98749427c5a1a1b0acb6c85fadc4","modified":1670653510209},{"_id":"themes/butterfly/layout/includes/mixins/post-ui.pug","hash":"6ae047d566289294cc2f6192cacbff297cec9f1a","modified":1670653510209},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"e3d574921fca8e756923bf3b303835e57b9a26b2","modified":1670653510210},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1670653510210},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"12c65c174d26a41821df9bad26cdf1087ec5b0ca","modified":1670653510210},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"ebecba46a5f4efe1c98a386df06c56e26fbd07b9","modified":1670653510211},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"6311eda08e4515281c51bd49f43902a51832383c","modified":1670653510210},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"864869c43fe5b5bb6f4ac6b13dd4bfb16ea47550","modified":1670653510211},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"c7cfade2b160380432c47eef4cd62273b6508c58","modified":1670653510211},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"6528e86656906117a1af6b90e0349c2c4651d5e1","modified":1670653510219},{"_id":"themes/butterfly/layout/includes/third-party/pangu.pug","hash":"0f024e36b8116118233e10118714bde304e01e12","modified":1670653510223},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"fc0b09068009edd4026d90a669608cbe211aeecf","modified":1670653510223},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"ffb9ea15a2b54423cd4cd441e2d061b8233e9b58","modified":1670653510223},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"121a0ba6c49b3ade67c7c71971fae5fdffb8c9a5","modified":1670653510225},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"86897010fe71503e239887fd8f6a4f5851737be9","modified":1670653510226},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"ae392459ad401a083ca51ee0b27526b3c1e1faed","modified":1670653510226},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1670653510225},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"e37468e63db2a0ac09b65d21b7de3e62425bb455","modified":1670653510226},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1670653510226},{"_id":"themes/butterfly/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1670653510226},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"6d93564a8bd13cb9b52ee5e178db3bcbf18b1bc6","modified":1670653510226},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"3057a2f6f051355e35d3b205121af8735100eacf","modified":1670653510226},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"438aea3e713ed16b7559b9a80a9c5ec0221263df","modified":1670653510227},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"9c1229af6ab48961021886882c473514101fba21","modified":1670653510227},{"_id":"themes/butterfly/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1670653510227},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"35ce167c5a275211bfc1fa3d49adfde5b404d98f","modified":1670653510227},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"644d520fe80cc82058467708ab82ccad313b0c27","modified":1670653510235},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"7fb096656c8a6c21a4b6a5100885b1081d6021ed","modified":1670653510227},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"2f95e99b8351fbecd9037a1bbdc3fee9d6ea8a77","modified":1670653510236},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"714f19e7d66df84938bd1b82b33d5667abe1f147","modified":1670653510235},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"a0010d833ed30211601c1e0bbbc68e85b77428c6","modified":1670653510238},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"c61dccca690d486c3d9c29cf028d87b777385141","modified":1670653510239},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"bcd384c8b2aa0390c9eb69ac1abbfd1240ce1da4","modified":1670653510237},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"f9a5d3f1fc5ed0ed2ee4c1eaa58ed650d11ddebd","modified":1670653510238},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"ac2aeee9926f75b2a0098efe1c114126987430f2","modified":1670653510239},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"26be2afa9d4e7016cf3c42a6cd166f01e8e4ad5c","modified":1670653510239},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"a457a0dbe23af21a7b6b8bfc5ee103c9fe92e89c","modified":1670653510239},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"fb9f78bfbb79579f1d752cb73fb6d25c8418e0fd","modified":1670653510239},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"23db4e3cab68fed78601fc8a9c39ff5753bcc716","modified":1670653510239},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"d53de408cb27a2e704aba7f7402b7caebe0410d8","modified":1670653510239},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"c5cfed620708807a48076b5ee59b0ba84e29aa80","modified":1670653510240},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"aa175e2254704335f4da09175e59ef2375ca7d03","modified":1670653510206},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"bbc884d6b2158a833b77a1bbc07248e17874b22e","modified":1670653510240},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"631ca35a38bc4ac052e9caf47508ff1f99842fc7","modified":1670653510240},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"a92984f566c97bb4179f34be79240af1552c6f17","modified":1670653510240},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"56389925671c7e8da0c033769421269e15e8f795","modified":1670653510240},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"69f8e9414526dfda3af9a71c8e528fdd0ecbbfe5","modified":1670653510240},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"25e58a7a8bda4b73d0a0e551643ca01b09ccd7e5","modified":1670653510243},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"39d61cbe0c1e937f83ba3b147afaa29b4de2f87d","modified":1670653510243},{"_id":"themes/butterfly/source/css/_page/404.styl","hash":"50dbb9e6d98c71ffe16741b8c1b0c1b9771efd2b","modified":1670653510241},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"6f4b4ede52305bce9b22c8c897dcbde8af6e2ce4","modified":1670653510241},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"a58d35d698885f1034dedbe99f7dbc1a801412c6","modified":1670653510241},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"f01ee74948cedb44e53cd3bb1ef36b7d2778ede7","modified":1670653510241},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"51e45625929d57c9df3ba9090af99b9b7bb9a15b","modified":1670653510242},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"98d755b686ee833e9da10afaa40c4ec2bd66c19a","modified":1670653510241},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"580feb7e8b0822a1be48ac380f8c5c53b1523321","modified":1670653510242},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"a310e48f826a4cacc55d8e68f43806e5085554f6","modified":1670653510243},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"8c90483d461e09cb06e91b16d8bb7b3205b0a40c","modified":1670653510241},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"45f0c32bdea117540f6b14ebac6450d7142bd710","modified":1670653510243},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1670653510243},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"ce489ca2e249e2a3cf71584e20d84bdb022e3475","modified":1670653510243},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1670653510244},{"_id":"themes/butterfly/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1670653510243},{"_id":"themes/butterfly/source/css/_tags/label.styl","hash":"66c59e193d794cdb02cca7bd1dc4aea5a19d7e84","modified":1670653510243},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"85ae91c83691ea4511f4277da1194a185251cc78","modified":1670653510244},{"_id":"themes/butterfly/source/css/_tags/timeline.styl","hash":"f071156d439556e7463ed4bc61ceee87170d5d08","modified":1670653510244},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"3071a4208fdf89ad7e0031536dd6ffa7bc951e4d","modified":1670653510246},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"9feb248552667c53ce1b19bc7a295215f8c77008","modified":1670653510246},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"bf9568444dd54e39dc59b461323dcd38942f27d9","modified":1670653510244},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"99d9b17668260b242749c16851d9ec1024d31899","modified":1670653510212},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"b2aadea7351fae8382b8c2a3b9de810d922b0ec1","modified":1670653510213},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"d85c3737b5c9548553a78b757a7698df126a52cf","modified":1670653510212},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"001e8be47854b891efe04013c240c38fed4185eb","modified":1670653510213},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"5f648086a33a32d169a2f8d8c549c08aa02f67db","modified":1670653510214},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"58406a7a3bf45815769f652bf3ef81e57dcd07eb","modified":1670653510213},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"b2d274db84ef22fbd6d5ea8f4404821898934209","modified":1670653510213},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"39427e107230a10790972349c9dd4c4f31d55eb7","modified":1670653510213},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"8ec24c1939895ac0db2b2e8700bc9307b4ceb53c","modified":1670653510216},{"_id":"themes/butterfly/layout/includes/third-party/comments/artalk.pug","hash":"49dcc23815e1d5264bb65c91e7dc67b1a723d1ea","modified":1670653510215},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"98ef20f8a3b10c1692f9b2b3c06033d2da8a8eae","modified":1670653510216},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"22e2ef30fe5eb1db7566e89943c74ece029b2a8e","modified":1670653510217},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"eefdaa94956adc7a3ca90dd8edcd70a7574b439c","modified":1670653510216},{"_id":"themes/butterfly/layout/includes/third-party/comments/giscus.pug","hash":"591ef23c583690bd74af0cafb09af64ba5bd8151","modified":1670653510217},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"00ed91c52939b9675b316137f854d13684c895a6","modified":1670653510218},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"52ea8aa26b84d3ad38ae28cdf0f163e9ca8dced7","modified":1670653510218},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"351fe25fbf02635b1f9e86e5e244c7d61f69baa7","modified":1670653510217},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"e18fbd88d8942e53e771f29b26209ab735c5c567","modified":1670653510218},{"_id":"themes/butterfly/layout/includes/third-party/comments/remark42.pug","hash":"e9bdf80d6796afc04eb809dbbe780d97f22c7fcd","modified":1670653510218},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"a737046e730eb7264606ba0536218964044492f9","modified":1670653510219},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"e55b9c0f8ced231f47eb88bd7f4ec99f29c5c29d","modified":1670653510219},{"_id":"themes/butterfly/layout/includes/third-party/comments/waline.pug","hash":"15462d1ed04651ad3b430c682842ac400f6f9b47","modified":1670653510219},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"76634112c64023177260d1317ae39cef2a68e35f","modified":1670653510214},{"_id":"themes/butterfly/layout/includes/third-party/chat/gitter.pug","hash":"d1d2474420bf4edc2e43ccdff6f92b8b082143df","modified":1670653510214},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"0611d9216f4c128ebdea4cc21454c3dc4a6398d5","modified":1670653510215},{"_id":"themes/butterfly/layout/includes/third-party/chat/messenger.pug","hash":"ccb7d8ce3ded7364f9a15334b68ad73869fca757","modified":1670653510215},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"481cd5053bafb1a19f623554a27d3aa077ea59c3","modified":1670653510214},{"_id":"themes/butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"cfe63e7d26a6665df6aa32ca90868ad48e05ec04","modified":1670653510214},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"24a926756c2300b9c561aaab6bd3a71fdd16e16d","modified":1670653510215},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1670653510220},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"1c846c8d51649b8554d91536323eaeb20c8fc236","modified":1670653510220},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"8e33aca36a4d3ae9e041ba05ced8eff56ae38f77","modified":1670653510221},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"c12c898b35dd014780c1f3220ddbe12e7270983c","modified":1670653510221},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"dfcbd9881be569ea420eff1a6b00e4f4dbe2138e","modified":1670653510220},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"e846ddfe4a63b15d1416f6055f5756af5e3da7c6","modified":1670653510222},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"04b2a5882e789a988e41d45abe606f0617b08e38","modified":1670653510221},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"ab167c00da4506f591b96f0591bf5bd214a26d4b","modified":1670653510222},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"d19e1c2c0a50f0e4547d71a17b9be88e8152f17c","modified":1670653510222},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"4ec0642f2d5444acfab570a6f8c7868e7ff43fde","modified":1670653510222},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"dd0bc119029b62dce5dc965d5de7377e438fa29a","modified":1670653510223},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"e8245d0b4933129bb1c485d8de11a9e52e676348","modified":1670653510224},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"233907dd7f5b5f33412701d2ccffbc0bbae8707b","modified":1670653510222},{"_id":"themes/butterfly/layout/includes/third-party/share/add-this.pug","hash":"2980f1889226ca981aa23b8eb1853fde26dcf89a","modified":1670653510224},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"da3b9437d061ee68dbc383057db5c73034c49605","modified":1670653510224},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"85c92f8a7e44d7cd1c86f089a05be438535e5362","modified":1670653510225},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"4c4a9c15215ae8ac5eadb0e086b278f76db9ee92","modified":1670653510225},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"f61d63724ea5c5f352568b3a16bde023affefbe5","modified":1670653510225},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"cf1fae641c927621a4df1be5ca4a853b9b526e23","modified":1670653510236},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"178c9cdcc4ce5a006885b24ce4a3d624e4734899","modified":1670653510224},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1670653510237},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"18804c58239d95798fa86d0597f32d7f7dd30051","modified":1670653510236},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"5dc2e0bcae9a54bfb9bdcc82d02ae5a3cf1ca97d","modified":1670653510237},{"_id":"source/images/cfcdf117dd1192b8c7003cb0b2a3bd30e97803fc.png","hash":"9e5c87c661d94e5f421b0d8b912f3a03ee2a5569","modified":1670922421147},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"8970cc1916c982b64a1478792b2822d1d31e276d","modified":1670653510237},{"_id":"source/images/4fd944c16b3f85f74727b41fc78d87359054db4f.png","hash":"db8250a0e8e2a8251b0df1404c63dd1b84a37808","modified":1670922421181},{"_id":"source/images/6a5e676a58d9059a7a290844beba2e1558f7c0f4.png","hash":"362fefab9c0917d9259aab54ba732fa8929c51f4","modified":1670922421145},{"_id":"source/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png","hash":"da1924a0fa57d85e1d7248ea95e3a6fff1533d00","modified":1670922421171},{"_id":"public/content.json","hash":"ac4b01e7393b830f47eb8048d20517400875b0aa","modified":1670922422520},{"_id":"public/search.xml","hash":"e839b4fcc64d4b883705cc430eb3907e15893fa8","modified":1670922422520},{"_id":"public/sitemap.xml","hash":"02113cd57fd988daeee6fc1dc2fcca3b42527bd3","modified":1670922422520},{"_id":"public/sitemap.txt","hash":"a2a5db9a8aa8d87a2ffeba324343b0191c871a0f","modified":1670922422520},{"_id":"public/categories/index.html","hash":"9e3d255a6c3a7064a616ba36319724403b9d3339","modified":1670922422520},{"_id":"public/tags/index.html","hash":"3b909ce7de1039344df2acc0f07ccf38bd56f23d","modified":1670922422520},{"_id":"public/404.html","hash":"33dfb2cfd6819013058cc3178e91eae75da52915","modified":1670922422520},{"_id":"public/p/3b3d48494943/index.html","hash":"5f65007d393b94854a36eca760499f70fb35f28d","modified":1670922422520},{"_id":"public/uncategory/82d958e74aa0.html","hash":"cebadb8f2cd197e8da4b5b8864e6015f3d493c91","modified":1670922422520},{"_id":"public/uncategorized/d1d20b184bc4.html","hash":"eed2da243989a56d14c7d4fd97af25197d4f2ff7","modified":1670922422520},{"_id":"public/uncategorized/282f5aa0142d.html","hash":"0e884f3bfca9fa43f757b4e060b5bffecf36c209","modified":1670922422520},{"_id":"public/archives/2022/05/index.html","hash":"a5f4c25bdab90e037b53aa48ec2b4caeaa90663b","modified":1670922422520},{"_id":"public/archives/2022/09/index.html","hash":"eacca37087b8929148843988e60e876d9bf5f1cc","modified":1670922422520},{"_id":"public/archives/2022/07/index.html","hash":"f389d094c715cad15031cceafe65882c80c890aa","modified":1670922422520},{"_id":"public/archives/2022/10/index.html","hash":"f609bb9bb72da4759c256a31f27b0012f4e6724d","modified":1670922422520},{"_id":"public/archives/2022/11/page/2/index.html","hash":"edbd802e4004c39cc2b400ff7248472848314680","modified":1670922422520},{"_id":"public/categories/gzsxy/index.html","hash":"9a059dafeee231d586b2b91587856546df3a5fa3","modified":1670922422520},{"_id":"public/categories/uncategory/index.html","hash":"3062f28d798978ce05854ba8d6244c5aac9479a2","modified":1670922422520},{"_id":"public/tags/培训材料-贵州大学商业数据分析/page/2/index.html","hash":"a3e4a87c5564dc4d68296aef3814f5aa131e6099","modified":1670922422520},{"_id":"public/tags/培训材料-贵州商学院/index.html","hash":"75855e46ee089b8d1ef172088bb114ac92dbba3e","modified":1670922422520},{"_id":"public/tags/research/index.html","hash":"39c9084b9b5318af25ba71aa02d2ffb3f4010077","modified":1670922422520},{"_id":"public/tags/docs/index.html","hash":"b5f456b782b3c4336fc4cb4b09d49609a738770d","modified":1670922422520},{"_id":"public/research/37aa98210b23.html","hash":"7b911caf44d25f6dbac632e1a8cb25540da818dd","modified":1670922422520},{"_id":"public/research/101dd24c918c.html","hash":"b69bab79221b9a4767cba2033f69d3632142c563","modified":1670922422520},{"_id":"public/uncategory/cdc97ac6a61b.html","hash":"fcd11513700089ec231cbbf298e7cc4033c1f301","modified":1670922422520},{"_id":"public/research/bda11093cb9e.html","hash":"f63dbd461f2ac51eada289153dcecf50e35e1b5a","modified":1670922422520},{"_id":"public/uncategory/8a5a0b6c21a1.html","hash":"a47b57cf50eba1cfaeee6b4fdb7394b358aa051f","modified":1670922422520},{"_id":"public/research/3b3d48494943.html","hash":"54012f615e26708b15bb4cadc8edb648c6048a63","modified":1670922422520},{"_id":"public/uncategorized/581216d42e14.html","hash":"404b0b2d3214e7161d82f20f2da97bb83482f8f2","modified":1670922422520},{"_id":"public/research/08d47873bc1f.html","hash":"7bdf1456956b0a658abcecc3f18903c8a886f7fa","modified":1670922422520},{"_id":"public/research/23d90e08950d.html","hash":"f662ee2c569f854198b5c75346a95723e5a701b5","modified":1670922422520},{"_id":"public/research/623d744e9a26.html","hash":"8161c4821bd0bcd502c37aaf1359e4709c80aa46","modified":1670922422520},{"_id":"public/uncategorized/c5ad087d3632.html","hash":"5eb7f5f17ec83dc0288904458b64883d9ed2ad91","modified":1670922422520},{"_id":"public/uncategorized/0346da89df46.html","hash":"ec2c47dc197c4add8f87b407f697f5921124853a","modified":1670922422520},{"_id":"public/uncategorized/b11a4064efbf.html","hash":"790155eb2969c80eb6d59339838080eb0c7647d4","modified":1670922422520},{"_id":"public/uncategorized/0151e71d9d8c.html","hash":"84e7e71425ee6e63c35a562a53c925ee8cef9be2","modified":1670922422520},{"_id":"public/uncategorized/e991282954b3.html","hash":"65364bf4b69c519f3a619205f656590eb6b8c3b2","modified":1670922422520},{"_id":"public/uncategorized/777ac2a48466.html","hash":"54192057a0a0cc01ec5abce60e87a05c1f36b71d","modified":1670922422520},{"_id":"public/uncategorized/63f8e4648fec.html","hash":"4bb48b3cc5ee223c18138a6d34d966ed066aeb6a","modified":1670922422520},{"_id":"public/uncategorized/316ec7ed5cda.html","hash":"0df5eb52fdb04ca7d5fcbcf620a32c16755212d3","modified":1670922422520},{"_id":"public/uncategory/ff37421549db.html","hash":"b874805725f6015b4eac3549dcd299c41157809b","modified":1670922422520},{"_id":"public/uncategorized/2688b1ec1fb7.html","hash":"b0d6b53993e9559eb0e41cbd50970dfea56f7e2f","modified":1670922422520},{"_id":"public/uncategorized/a6a278657125.html","hash":"ab5c7bfc0154858a5d1acef950dd4dcce2f55395","modified":1670922422520},{"_id":"public/uncategorized/305381573b6a.html","hash":"b0a61483bd18b50791d91f5fc989edbba473e2bb","modified":1670922422520},{"_id":"public/gzsxy/b3d4dc4246c4.html","hash":"0eb03cd31b0ed410951eda1d3986e95a76249450","modified":1670922422520},{"_id":"public/uncategorized/7b9ebf6f3194.html","hash":"4d4e241cd851ff982b3c419482d012ab7bd0227a","modified":1670922422520},{"_id":"public/archives/index.html","hash":"fc0b143f2aea6a90cfb380b60aeff16c52ae6b63","modified":1670922422520},{"_id":"public/archives/page/2/index.html","hash":"8bb893c73668c92af9cc36014e550912e541f0c4","modified":1670922422520},{"_id":"public/archives/page/3/index.html","hash":"5508ed4b92fedfa51f7a6c6e634b8610f3f85a15","modified":1670922422520},{"_id":"public/archives/2022/index.html","hash":"624a9dec9528051b35cbf55dae861b3ca6c1f967","modified":1670922422520},{"_id":"public/archives/2022/page/2/index.html","hash":"91f2a2069eb947e2d7d90e1fb2b38c2935cccf8c","modified":1670922422520},{"_id":"public/archives/2022/page/3/index.html","hash":"45b36d0389bdb9902184072b41c641b62a674312","modified":1670922422520},{"_id":"public/archives/2022/11/index.html","hash":"c47151cbba3f7105c94c8e566953c7bdab3fbdb9","modified":1670922422520},{"_id":"public/archives/2022/12/index.html","hash":"1ee92f368dcd82b15085c652db8f25ffb804da90","modified":1670922422520},{"_id":"public/categories/research/index.html","hash":"61663b3dab36bd5c5b22aa44a24093c2710c7f77","modified":1670922422520},{"_id":"public/index.html","hash":"125f5a6b9b4435d288480c9c011013493ac887c9","modified":1670922422520},{"_id":"public/page/2/index.html","hash":"68c0a6518568f952afb9de99d5bb1d2d0d262322","modified":1670922422520},{"_id":"public/tags/培训材料-贵州大学商业数据分析/index.html","hash":"04e1a803d865e6fb6416489a01a378802d10b6f2","modified":1670922422520},{"_id":"public/page/3/index.html","hash":"ebdab41594e00ae285612040ec1fe2f3114839d5","modified":1670922422520},{"_id":"public/tags/public/index.html","hash":"2f05b268e2dfea8f4582fed8b1dd2cc0050d13d3","modified":1670922422520},{"_id":"public/tags/public/page/2/index.html","hash":"7c7d391f55ff93e99da5390d01c9bff6b4ba578b","modified":1670922422520},{"_id":"public/tags/public/page/3/index.html","hash":"1d1a7b867e6be8818ccff4b4e6830cf3c9afb728","modified":1670922422520},{"_id":"public/imgs/dogs.jpeg","hash":"0f13026399518d1646996cb18b363ce8d767ee48","modified":1670922422520},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1670922422520},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1670922422520},{"_id":"public/images/1a334b7c374f4d28bfb35f39ed5a141b5711586f.png","hash":"797c3d42291c2974142830e06cebec63544fddd9","modified":1670922422520},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1670922422520},{"_id":"public/images/30b7afcaa4ce763e3adf2f3593ffc7f1c6a6ef54.png","hash":"39bbb7479a82e3a9a7283980b2505500c13fe8d4","modified":1670922422520},{"_id":"public/images/3e468fe601bb6c15b0ac6f549c0c5e45c728f9d1.png","hash":"455cc32e85a566204c87f3493fc111565f082fcf","modified":1670922422520},{"_id":"public/images/6ada637a949cf249034ab68f78aed795e61af20b.png","hash":"29b92286c8cca4d22616907d2c3faef7f48a4efe","modified":1670922422520},{"_id":"public/images/7787d2201b4e05057aa77f046d8a80605e5aa21f.png","hash":"7dee22a1b204eed48c04e50707031516dca7e00f","modified":1670922422520},{"_id":"public/images/87719b28415cdcff43416487c2813d47375a6961.png","hash":"759d27eb0c9eba2c417b40e3e08f6dab36521f53","modified":1670922422520},{"_id":"public/images/8a55323c68ecb1797e67f3018b72feb6780e3def.png","hash":"d2d1b370def955fd83257738f7adf46d42ab6ef2","modified":1670922422520},{"_id":"public/images/990e8dc15dfc3d4fbf6b0bc347ce50c486580b24.png","hash":"ef10743cacfa600e1583e5d32e8b616118b5b587","modified":1670922422520},{"_id":"public/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf","hash":"92964cf4eba892485439b9760be336bc77d273c8","modified":1670922422520},{"_id":"public/images/b32c68fa9d60da210505be648152958708936b6a.png","hash":"c6a5ab005ece586f41b5e101e0bdcdac8f361241","modified":1670922422520},{"_id":"public/images/ca4acb61c008141a83bf4db021354d1b42850cb2.png","hash":"68675d50b9a5767314ff39f6c337a4d986fb6a9f","modified":1670922422520},{"_id":"public/images/e03e984c489d88c178be758aee9b839174c1ba5b.png","hash":"16d21524da1049f8c1e1080d94967c6fe29f0283","modified":1670922422520},{"_id":"public/images/f5ebef5abe60bb2772d33dee08181a8149cb9fde.png","hash":"0a237e9f2c67ef162a42bfbebcd6dc1b1f62a38b","modified":1670922422520},{"_id":"public/images/05f25e6b5715fb1458d1c2bbe5ffb845e96ceb18.png","hash":"2132e9a076e2ddc6b3a95cfb42affe878042d2a3","modified":1670922422520},{"_id":"public/images/0db520fdf28e05e081f24b9b3b7388315bfc7919.png","hash":"be1a4aa817d48cb897eed9d18fba90f6e16a513e","modified":1670922422520},{"_id":"public/images/1b1e89cdf915e9f65674687924ace1a5670a2bda.png","hash":"2969e0259d4984dd111e602f8919d18215507d63","modified":1670922422520},{"_id":"public/images/453e9f4901e5f1de0ae927c3d173d1e69018a583.png","hash":"9cfeb471a79f902b3afa0d18f54ef2764753db91","modified":1670922422520},{"_id":"public/images/477f24a0d47507502f0dfc97355a94d92f735509.png","hash":"c88031e52a95ad366d492ed470f1fa336be5315e","modified":1670922422520},{"_id":"public/images/5ebb3bddccb1817a247ec3c30ce88189c5d988cb.png","hash":"9e869682c2f08e1b1e4ec52d4109a8c96e8e6d77","modified":1670922422520},{"_id":"public/images/6489e8a5f01b6de04754ae5238f20b693cb18f0b.png","hash":"d3282a52591bf6b043d89034f84168e9a1c26e8e","modified":1670922422520},{"_id":"public/images/68ce01c3af321af3fc2cf6da1d5537927157f090.png","hash":"a49ab3e7543088bac3bc5ded3e7efca6cad3cdef","modified":1670922422520},{"_id":"public/images/82bf186bb7a7e0db263e43405521541f19e5b374.png","hash":"3f3146f4e043a64c3634aba00943936b112e5a15","modified":1670922422520},{"_id":"public/images/83f9ed76cca0ef8c956909511fad20319aaf1d43.png","hash":"f877e6129dab75fb64b137484111c051758bb50a","modified":1670922422520},{"_id":"public/images/9acc6865a65ea15430d42d4d3cc44f9793f6a715.png","hash":"32af5f575c301121eaec6e15a28ff63d16c43cb1","modified":1670922422520},{"_id":"public/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png","hash":"99e21bec1bc1b7b96ba280739e0de2e442c85028","modified":1670922422520},{"_id":"public/images/ad5f286e4e7bc9726aea771fd8dd836bbbec47a5.png","hash":"bc1d21cb3ef2db435a153138e16173331d64d3b8","modified":1670922422520},{"_id":"public/images/ab245dbb3a70ff7671109b47f39a1375aa896e67.png","hash":"c46bf0c4f0892d0588a873e21a5a8c5b84f33a1d","modified":1670922422520},{"_id":"public/images/c4b0621e622948b0f276c177681fc93042e22fba.png","hash":"aab23cc71a214e1d9d010e133b367eb1d0be19c5","modified":1670922422520},{"_id":"public/images/c43f0fb17247ff0559363e3350b5848aa9d9aea4.png","hash":"f1f5f65b6009f5900523b23def0494f8af0387c0","modified":1670922422520},{"_id":"public/images/c5475754c914e4fc8616218ea075f6aed92d8bc7.png","hash":"5677eb05b7bea3efea1550602200779356c3abb4","modified":1670922422520},{"_id":"public/images/f9ae5e9b0ad88d664d887ba7613940616549ca36.png","hash":"11cc792f27ff995c0a4c835b9aef84b74ab6a19e","modified":1670922422520},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1670922422520},{"_id":"public/js/utils.js","hash":"ee27523d12fa800b8906e13f59882a04ad0bd623","modified":1670922422520},{"_id":"public/js/search/algolia.js","hash":"9feb248552667c53ce1b19bc7a295215f8c77008","modified":1670922422520},{"_id":"public/js/search/local-search.js","hash":"3071a4208fdf89ad7e0031536dd6ffa7bc951e4d","modified":1670922422520},{"_id":"public/css/index.css","hash":"4249c4f7c216282ef12932847c4e840e6f064436","modified":1670922422520},{"_id":"public/js/main.js","hash":"82b4db7c171f19c105815d02b121703580465364","modified":1670922422520},{"_id":"public/js/tw_cn.js","hash":"5c1391c9e96950833641f178b5f23c58422fb659","modified":1670922422520},{"_id":"public/images/00bf6b1d3993dfd678ac116ba75b5363f8901c01.png","hash":"38ed2fdca4609df2684aedd0f90a2152bcfbccc1","modified":1670922422520},{"_id":"public/images/1370c97bc57284c414da5d7fdafdff2dace046f2.png","hash":"c26aaa85a3111e598950930726e4cee7f37a3435","modified":1670922422520},{"_id":"public/images/09b966c799d4c8ca44612f1eb98fd1eefd377fb2.png","hash":"e7cced7209639dbbf46db8b3b8cf2c2202f519b1","modified":1670922422520},{"_id":"public/images/1447a3ce37d405d6b028245b5d0f7f728bd17a96.png","hash":"a5d1496c0fec199e5936bd6a553f15d795b4ed6d","modified":1670922422520},{"_id":"public/images/23e4df4bf1de153009fd961cdc0f186257e092b8.png","hash":"7ffd46169087aa242de2ea563ece5683fb2adb0c","modified":1670922422520},{"_id":"public/images/212d5a449a50e458f1b3dd8c00c2be3b012b8428.png","hash":"5c3e81f85b7e2aa51815f40fea886c6b19ec4af6","modified":1670922422520},{"_id":"public/images/133a03eb24d1a706df56bc177f7585f919b74960.png","hash":"a8f9873f0c5fa24b3162afc6963a6fd650d3251a","modified":1670922422520},{"_id":"public/images/231205b84b2517b89eeae51949fdbbfec0243eb4.png","hash":"cadf328f5d72fcc408c12edd1f34fb1666c33b2b","modified":1670922422520},{"_id":"public/images/3d99aefa7286c3164e9a874f2faac64a1446844f.png","hash":"38cf915f61371cb5fbb3f6f3572ffb593536b878","modified":1670922422520},{"_id":"public/images/37abbbb12469481e6af19ce4be56d0a048a9be90.png","hash":"0b77f22e6c15e3d9883c44b94f8bd932596909b1","modified":1670922422520},{"_id":"public/images/4547ae89def8d522551b0f2cdecdad5658ee8530.png","hash":"602ce0f433a5d3c83d3981ca9fcc9ac5301ecad3","modified":1670922422520},{"_id":"public/images/46e0d1afaf15e13bef5d940501c08f8559ed72b5.png","hash":"247f66406c868dd21d01d9ece8ce87112b814ca4","modified":1670922422520},{"_id":"public/images/639cf43bac0db5f637594b8a71a94dc655172205.png","hash":"a0f36fc9a8b1cb7d9cc85765cdadff4d066b45b6","modified":1670922422520},{"_id":"public/images/688548cfede693dcb4287b0915302ef4a9ceb905.png","hash":"c3f400dbe17f903191c5281d4a87618c25392937","modified":1670922422520},{"_id":"public/images/6d4f59b37197e75bff112c621bf1524c5af712a5.png","hash":"bc1e941bca83c8e689b078b137b91b8b19259bbd","modified":1670922422520},{"_id":"public/images/7902138d9bf946f6d7893f43d07131c63a7e47a6.png","hash":"1327979976c1eb32aa1c4dfbc4709f8350100608","modified":1670922422520},{"_id":"public/images/7c4a93b18e55add96c46913425a60b1cf7b82fcd.png","hash":"86cd4ec9f89853c7fa6dd772f2c7f1adc6784c9e","modified":1670922422520},{"_id":"public/images/6aa176a56ce7d5a5af1d22a91e141759c7938da6.png","hash":"ede09aa525b313d0997cdbdc840707a0093dff09","modified":1670922422520},{"_id":"public/images/82a8f16cdb3304a2d7efd121779786c21065fd7b.png","hash":"80c498fbf1b7ebdc9c4152fc3b33da1d50f922d0","modified":1670922422520},{"_id":"public/images/82c4ab39614782bc5135a55d4e7a0902749b4453.png","hash":"b06cdc55b57165541fcdea518078c4fe2632d72e","modified":1670922422520},{"_id":"public/images/a4e08000d57f7e73b9f7bf1cdb9e2f5ba83e9455.png","hash":"b44afc62e60335b2fe20bb4c1c4344d5fa670d77","modified":1670922422520},{"_id":"public/images/b2c52d796c98ffb94100da0438420e7cd483cd01.png","hash":"e44834a8b4a69930583c4855ca242d7542412854","modified":1670922422520},{"_id":"public/images/c42f554486a4c5ace455ddaa6b320b6fd755d904.png","hash":"29143184e7322294e8ced6add2e755c9a46ae901","modified":1670922422520},{"_id":"public/images/cc862b36f59d295bd77d64adb5e6b796c68099ff.png","hash":"48c5869ad8d0945ce66fc9850b47eaf0766b7c7e","modified":1670922422520},{"_id":"public/images/d137ddc3b4e8f4e61cddbdbbffd7a7b4e27ec57d.png","hash":"b47cf51b87f08c4a21a2805a3b6c12bafd038f30","modified":1670922422520},{"_id":"public/images/e6c28ba6b083dc8458b1311d2d7d18a94934167b.png","hash":"afcc42931d6ec352db392560c9a824e5107e1069","modified":1670922422520},{"_id":"public/images/e4c4ab79e883880c71761e195ce99f95079141a6.png","hash":"389a5fb34c226af93dd0a6d0294e5292519d4514","modified":1670922422520},{"_id":"public/images/e68f82882020d7d891a80e98459c280c481572a9.png","hash":"af5c6480d417e12fed82324b8ddea76528c05f5f","modified":1670922422520},{"_id":"public/images/f5503233e757ca0b05d941c193f8b9207863bf1e.png","hash":"da0ebb273f55a63fa884d3f4173e17189e9d820e","modified":1670922422520},{"_id":"public/images/fc6773fec6a6ce305fe9361c9a404122cd96155d.png","hash":"f820ac87ac00bc957613d51a228688ec3aae4ff3","modified":1670922422520},{"_id":"public/images/0a2334193585c03a9c88aa9bba490578052d37da.png","hash":"9bd5a171486668316d4f6b94532a7d29ca9ce7d5","modified":1670922422520},{"_id":"public/images/213d86fb49e1239668dee499bd5d7b236fe795e2.png","hash":"1ad9d8e6a555b92012610d557deef6324359530f","modified":1670922422520},{"_id":"public/images/7069d69b0c915b9f27ccecfc731850849d5a1e50.png","hash":"6ebf53d5f72f489438b7465f5e3267725bfe77ad","modified":1670922422520},{"_id":"public/images/7e75b5d82750938cf1c4f52908c1a4c3ecdc8095.png","hash":"eb29a1b844a066fcb9e389cbed0b70cb40ea5795","modified":1670922422520},{"_id":"public/images/964c41bd1fca5636e64e7d8960ea38ad7862a7f4.png","hash":"27540e59656c3e9923cdfb34f924ae9a11e81322","modified":1670922422520},{"_id":"public/images/bfccfee6cba1e46a6031d9c7c2b70da97c13423c.png","hash":"51290ffb1c760b77a254afa654e7bb3335ff0d96","modified":1670922422520},{"_id":"public/images/bde042b155cb56f19e4e168dc27d2940fd1580ff.png","hash":"863dffa96497bcb76e72a995052d56f2c2bb9ac1","modified":1670922422520},{"_id":"public/images/db90a8315faa1528cf9847b300e3d9d4b25c54de.png","hash":"547a37dee3a57c7c3235eb5d682f0dd123e24a30","modified":1670922422520},{"_id":"public/images/e058a82acde3fe0d917cc172375c1838b5fa959e.png","hash":"8b852cb20f3d2e896b2dc5959a39ba03f9704b7b","modified":1670922422520},{"_id":"public/images/36f2494692678be6a00e116ff9825209ef2a65cf.png","hash":"ab446a94d07ac101252cfd11febab2d6beec0d13","modified":1670922422520},{"_id":"public/images/5b3606bc366335e96009e6266a5d6b86092fc72d.png","hash":"016ce66f3bee41835d961e09b1ea7fe4b6baa2e4","modified":1670922422520},{"_id":"public/images/96844c9457a8fdf0ee6d865688efb7126b80c36e.png","hash":"d76cac8a15e73637b1f2fcdd66b334d56e9160c1","modified":1670922422520},{"_id":"public/images/b517688cf5875de82bd1deea8f8764bff7b90ed9.png","hash":"c0e461ae1884d2efaea10052244319f0dc294dbf","modified":1670922422520},{"_id":"public/images/d959af017055f0c9d66531ee5e22e402b329b6c0.png","hash":"31ccc580af8477bc390044d425df7474b27a083f","modified":1670922422520},{"_id":"public/images/f6df3690fe8dcff8aaa65aaebfe30a859049fafb.png","hash":"4fe5cafbbba06db0939e7bf088a63a00e57339bb","modified":1670922422520},{"_id":"public/images/f8f413892356a5dff1d989153e2fd65a0d4a92f0.png","hash":"a564683a54554fa9eece9c5365c4ab6d71e43b65","modified":1670922422520},{"_id":"public/images/4165a937f4c8ada78735d80ebb76ba95358b283f.png","hash":"e6f40de0a1c5b6f43f6503485cd025b49a8e8059","modified":1670922422520},{"_id":"public/images/4e3a669077936ea7c6f19d682c3362be9fc1c270.png","hash":"d9b1e0c4a40f9fc38ba16fec503ab2dd833bbc02","modified":1670922422520},{"_id":"public/images/7faedcf60c808cf866cebddf14a848839eefd236.png","hash":"37bc1f871556a0d522719440e0f4db1147065a42","modified":1670922422520},{"_id":"public/images/96ae3924006f3a11007207d031717463b3bbac6c.png","hash":"dd449de4a2bc3838c50ee4019eaa0bb566734772","modified":1670922422520},{"_id":"public/images/c8d9fae679b67b805a9e12f320e70dc8fca10aa1.png","hash":"9a50c2b54703432db3025f8aa2d38cff8aba2c32","modified":1670922422520},{"_id":"public/images/f692c29f6c1915c992cd32514c5f86d1b2bd8876.png","hash":"80e71a677cc7d55b764a982cead24b5d54718621","modified":1670922422520},{"_id":"public/images/0399299fb68cd20b1dbbf9bfc411a229dca7c1f6.png","hash":"de9c78623768c9eaa1d23b6d53ebdf834086fc0b","modified":1670922422520},{"_id":"public/images/ecb7c0fed195365ef31c17fb5f0cf2deb9423e79.png","hash":"49b7e292fef1714e6013b7d99586f3f62de07d07","modified":1670922422520},{"_id":"public/images/61a28206c2d2fb89752cd37f37c8112fa3658e66.png","hash":"bfedb8fc70599f507616e4eeed617df8f9b0ae9d","modified":1670922422520},{"_id":"public/images/08690bdfc1e6150bb42999e5439e49088317371c.png","hash":"1c1349571cd55937d2aa87105fb4e488871f1b4c","modified":1670922422520},{"_id":"public/images/d6ebb2c8e78f3eebee2ccf56cbe0bb36e15b7ec0.png","hash":"39f5fe6716cdff32233b9677e9f9f8f4b28753f8","modified":1670922422520},{"_id":"public/images/0f8310bececba0c2bb686514134da7b4a0bad7a7.png","hash":"4b4e4baad5cc900d911c89fcfb824d738b93733a","modified":1670922422520},{"_id":"public/images/cfcdf117dd1192b8c7003cb0b2a3bd30e97803fc.png","hash":"9e5c87c661d94e5f421b0d8b912f3a03ee2a5569","modified":1670922422520},{"_id":"public/images/4fd944c16b3f85f74727b41fc78d87359054db4f.png","hash":"db8250a0e8e2a8251b0df1404c63dd1b84a37808","modified":1670922422520},{"_id":"public/images/6a5e676a58d9059a7a290844beba2e1558f7c0f4.png","hash":"362fefab9c0917d9259aab54ba732fa8929c51f4","modified":1670922422520},{"_id":"public/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png","hash":"da1924a0fa57d85e1d7248ea95e3a6fff1533d00","modified":1670922422520}],"Category":[{"name":"gzsxy","_id":"clbm02ins0006iwv9aku0fkbx"},{"name":"uncategory","_id":"clbm02inu000biwv9fjj5esmi"},{"name":"research","_id":"clbm02inw000kiwv9cn48fd46"}],"Data":[],"Page":[{"title":"分类","type":"categories","date":"2020-02-22T14:22:22.000Z","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ntype: \"categories\"\ndate: 2020-02-22 22:22:22\n---\n","updated":"2022-12-13T09:07:00.866Z","path":"categories/index.html","comments":1,"layout":"page","_id":"clbm02inm0000iwv9cw6ie6fg","content":"","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover6.JPG","excerpt":"","more":""},{"title":"标签","type":"tags","date":"2020-02-22T14:22:22.000Z","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ntype: \"tags\"\ndate: 2020-02-22 22:22:22\n---\n","updated":"2022-12-13T09:07:00.868Z","path":"tags/index.html","comments":1,"layout":"page","_id":"clbm02inq0002iwv9d51sdy7j","content":"","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover4.jpg","excerpt":"","more":""}],"Post":[{"title":"(2022)贵州大学商业数据分析课程看板","date":"2022-11-14T07:13:57.000Z","updated":"2022-12-06T02:05:34.000Z","password":"","message":null,"abstract":null,"aliases":["(2022)贵州大学商业数据分析课程看板"],"_content":"\n## Day01\n\n<a href='{% post_path 01 - 商业数据分析中常见的技术 %}'>01 - 商业数据分析中常见的技术</a>\n\n## Day02\n\n<a href='{% post_path 02 - 商业数据分析中四大问题入门 %}'>02 - 商业数据分析中四大问题入门</a>\n\n## Day03\n\n<a href='{% post_path 03 课程内容安排 %}'>03 课程内容安排</a>  \n<a href='{% post_path 03-线性回归原理分析及实现 %}'>03-线性回归原理分析及实现</a>\n\n## Day04\n\n腾讯会议：718-750-293\n\n<a href='{% post_path 04-课程内容安排 %}'>04-课程内容安排</a>  \n<a href='{% post_path 04-手机品牌识别之神经网络 %}'>04-手机品牌识别之神经网络</a>  \n\n## Day05\n\n<a href='{% post_path 后续课程内容安排 %}'>后续课程内容安排</a>  \n<a href='{% post_path 数智教育 数据可视化创新大赛 数据分析 %}'>数智教育 数据可视化创新大赛 数据分析</a>  \n<a href='{% post_path 数仓建立 %}'>数仓建立</a>  \n17.16 UDI 无法加载  \n\n \n\n## Day06\n\n🎉🎉🎉🎉🎉 <a href='{% post_path 决策树 decision tree %}'>决策树 decision tree</a>  \n\n## Day07\n\n今天转线上上课\n\n第三次实验报告 (已发到群里):\n\n```python\n大家好，在此收集商业数据分析第三次实验报告\n有效期截止到2022年12月8日16:34，麻烦在此之前点击以下链接将文件发送给我，支持发送任意格式的文件，感谢~\n链接：https://pan.baidu.com/disk/main#/transfer/send?surl=AAoAAAAAAA_DFA \n```\n\n机器学习常用术语 (训练集/测试集)  \n项目模拟实战  \n<a href='{% post_path Day07 机器学习概念汇总 & 商业数据分析项目模拟实战 %}'>Day07 机器学习概念汇总 & 商业数据分析项目模拟实战</a>\n\n## 大作业\n\n![static/attachment/Pasted image 20221128182222.png](/images/d6ebb2c8e78f3eebee2ccf56cbe0bb36e15b7ec0.png)\n\n## 其他\n\n```ad-note\n列出作业\n```\n\n## 学生反馈\n\n### 2022-11-10\n\nhttps://docs.qq.com/sheet/DU2xFRk9VaFVac1hh?tab=BB08J2&viewId=fv1&u=61728ba66289432cbdd9a95e1cf18b36  \n![static/attachment/Pasted image 20221115083614.png](/images/453e9f4901e5f1de0ae927c3d173d1e69018a583.png)\n\n```ad-note\n@all 各位同学大家好, 过去5天上课的 pdf/ppt/录屏/代码 已上传阿里云网盘  \n\n\n2022 贵州大学商业数据分析实验课\nhttps://www.aliyundrive.com/s/rrz7zBeywzs\n提取码: n09b\n\n```\n\n## 附件\n\nhttp://idis-micro.uniplore.cn/#/login?redirect=/datasource\n\n数据库:\n\n```python\n192.168.100.117: 3306\nroot/mysql@123\nhttp://192.168.100.17:10117/\n```\n\nhttps://gzuacmis.eicp.vip\n\n```python\n其他:\nsunwu@uniplore.io\nGZUTEACH16\n```\n\n## 作业提交相关链接\n\nhttps://docs.qq.com/sheet/DU3hpaXNjYXdPVGdY?tab=BB08J2&u=43d55ab43cb2463ea3d372c964ad3e9d\n","source":"_posts/(2022)贵州大学商业数据分析课程看板.md","raw":"---\ntitle: (2022)贵州大学商业数据分析课程看板\ntags:\n  - 培训材料/贵州大学商业数据分析\n  - public\ndate: 2022-11-14 15:13:57 \nupdated: 2022-12-06 10:05:34 \npassword: \"\"\nmessage: \nabstract: \naliases:\n  - (2022)贵州大学商业数据分析课程看板\n---\n\n## Day01\n\n<a href='{% post_path 01 - 商业数据分析中常见的技术 %}'>01 - 商业数据分析中常见的技术</a>\n\n## Day02\n\n<a href='{% post_path 02 - 商业数据分析中四大问题入门 %}'>02 - 商业数据分析中四大问题入门</a>\n\n## Day03\n\n<a href='{% post_path 03 课程内容安排 %}'>03 课程内容安排</a>  \n<a href='{% post_path 03-线性回归原理分析及实现 %}'>03-线性回归原理分析及实现</a>\n\n## Day04\n\n腾讯会议：718-750-293\n\n<a href='{% post_path 04-课程内容安排 %}'>04-课程内容安排</a>  \n<a href='{% post_path 04-手机品牌识别之神经网络 %}'>04-手机品牌识别之神经网络</a>  \n\n## Day05\n\n<a href='{% post_path 后续课程内容安排 %}'>后续课程内容安排</a>  \n<a href='{% post_path 数智教育 数据可视化创新大赛 数据分析 %}'>数智教育 数据可视化创新大赛 数据分析</a>  \n<a href='{% post_path 数仓建立 %}'>数仓建立</a>  \n17.16 UDI 无法加载  \n\n \n\n## Day06\n\n🎉🎉🎉🎉🎉 <a href='{% post_path 决策树 decision tree %}'>决策树 decision tree</a>  \n\n## Day07\n\n今天转线上上课\n\n第三次实验报告 (已发到群里):\n\n```python\n大家好，在此收集商业数据分析第三次实验报告\n有效期截止到2022年12月8日16:34，麻烦在此之前点击以下链接将文件发送给我，支持发送任意格式的文件，感谢~\n链接：https://pan.baidu.com/disk/main#/transfer/send?surl=AAoAAAAAAA_DFA \n```\n\n机器学习常用术语 (训练集/测试集)  \n项目模拟实战  \n<a href='{% post_path Day07 机器学习概念汇总 & 商业数据分析项目模拟实战 %}'>Day07 机器学习概念汇总 & 商业数据分析项目模拟实战</a>\n\n## 大作业\n\n![static/attachment/Pasted image 20221128182222.png](/images/d6ebb2c8e78f3eebee2ccf56cbe0bb36e15b7ec0.png)\n\n## 其他\n\n```ad-note\n列出作业\n```\n\n## 学生反馈\n\n### 2022-11-10\n\nhttps://docs.qq.com/sheet/DU2xFRk9VaFVac1hh?tab=BB08J2&viewId=fv1&u=61728ba66289432cbdd9a95e1cf18b36  \n![static/attachment/Pasted image 20221115083614.png](/images/453e9f4901e5f1de0ae927c3d173d1e69018a583.png)\n\n```ad-note\n@all 各位同学大家好, 过去5天上课的 pdf/ppt/录屏/代码 已上传阿里云网盘  \n\n\n2022 贵州大学商业数据分析实验课\nhttps://www.aliyundrive.com/s/rrz7zBeywzs\n提取码: n09b\n\n```\n\n## 附件\n\nhttp://idis-micro.uniplore.cn/#/login?redirect=/datasource\n\n数据库:\n\n```python\n192.168.100.117: 3306\nroot/mysql@123\nhttp://192.168.100.17:10117/\n```\n\nhttps://gzuacmis.eicp.vip\n\n```python\n其他:\nsunwu@uniplore.io\nGZUTEACH16\n```\n\n## 作业提交相关链接\n\nhttps://docs.qq.com/sheet/DU3hpaXNjYXdPVGdY?tab=BB08J2&u=43d55ab43cb2463ea3d372c964ad3e9d\n","slug":"(2022)贵州大学商业数据分析课程看板","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02ino0001iwv9657bc76b","content":"<h2 id=\"Day01\">Day01</h2>\n<p><a href=''>01 - 商业数据分析中常见的技术</a></p>\n<h2 id=\"Day02\">Day02</h2>\n<p><a href=''>02 - 商业数据分析中四大问题入门</a></p>\n<h2 id=\"Day03\">Day03</h2>\n<p><a href=''>03 课程内容安排</a><br>\n<a href='/uncategorized/63f8e4648fec.html'>03-线性回归原理分析及实现</a></p>\n<h2 id=\"Day04\">Day04</h2>\n<p>腾讯会议：718-750-293</p>\n<p><a href='/uncategorized/777ac2a48466.html'>04-课程内容安排</a><br>\n<a href='/uncategorized/316ec7ed5cda.html'>04-手机品牌识别之神经网络</a></p>\n<h2 id=\"Day05\">Day05</h2>\n<p><a href=''>后续课程内容安排</a><br>\n<a href=''>数智教育 数据可视化创新大赛 数据分析</a><br>\n<a href=''>数仓建立</a><br>\n17.16 UDI 无法加载</p>\n<h2 id=\"Day06\">Day06</h2>\n<p>🎉🎉🎉🎉🎉 <a href=''>决策树 decision tree</a></p>\n<h2 id=\"Day07\">Day07</h2>\n<p>今天转线上上课</p>\n<p>第三次实验报告 (已发到群里):</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">大家好，在此收集商业数据分析第三次实验报告</span><br><span class=\"line\">有效期截止到<span class=\"number\">2022</span>年<span class=\"number\">12</span>月<span class=\"number\">8</span>日<span class=\"number\">16</span>:<span class=\"number\">34</span>，麻烦在此之前点击以下链接将文件发送给我，支持发送任意格式的文件，感谢~</span><br><span class=\"line\">链接：https://pan.baidu.com/disk/main<span class=\"comment\">#/transfer/send?surl=AAoAAAAAAA_DFA </span></span><br></pre></td></tr></table></figure>\n<p>机器学习常用术语 (训练集/测试集)<br>\n项目模拟实战<br>\n<a href=''>Day07 机器学习概念汇总 &amp; 商业数据分析项目模拟实战</a></p>\n<h2 id=\"大作业\">大作业</h2>\n<p><img src=\"/images/d6ebb2c8e78f3eebee2ccf56cbe0bb36e15b7ec0.png\" alt=\"static/attachment/Pasted image 20221128182222.png\"></p>\n<h2 id=\"其他\">其他</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">列出作业</span><br></pre></td></tr></table></figure>\n<h2 id=\"学生反馈\">学生反馈</h2>\n<h3 id=\"2022-11-10\">2022-11-10</h3>\n<p><a href=\"https://docs.qq.com/sheet/DU2xFRk9VaFVac1hh?tab=BB08J2&amp;viewId=fv1&amp;u=61728ba66289432cbdd9a95e1cf18b36\">https://docs.qq.com/sheet/DU2xFRk9VaFVac1hh?tab=BB08J2&amp;viewId=fv1&amp;u=61728ba66289432cbdd9a95e1cf18b36</a><br>\n<img src=\"/images/453e9f4901e5f1de0ae927c3d173d1e69018a583.png\" alt=\"static/attachment/Pasted image 20221115083614.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@all 各位同学大家好, 过去5天上课的 pdf/ppt/录屏/代码 已上传阿里云网盘  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">2022 贵州大学商业数据分析实验课</span><br><span class=\"line\">https://www.aliyundrive.com/s/rrz7zBeywzs</span><br><span class=\"line\">提取码: n09b</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"附件\">附件</h2>\n<p><a href=\"http://idis-micro.uniplore.cn/#/login?redirect=/datasource\">http://idis-micro.uniplore.cn/#/login?redirect=/datasource</a></p>\n<p>数据库:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">192.168</span><span class=\"number\">.100</span><span class=\"number\">.117</span>: <span class=\"number\">3306</span></span><br><span class=\"line\">root/mysql@<span class=\"number\">123</span></span><br><span class=\"line\">http://<span class=\"number\">192.168</span><span class=\"number\">.100</span><span class=\"number\">.17</span>:<span class=\"number\">10117</span>/</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://gzuacmis.eicp.vip\">https://gzuacmis.eicp.vip</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">其他:</span><br><span class=\"line\">sunwu@uniplore.io</span><br><span class=\"line\">GZUTEACH16</span><br></pre></td></tr></table></figure>\n<h2 id=\"作业提交相关链接\">作业提交相关链接</h2>\n<p><a href=\"https://docs.qq.com/sheet/DU3hpaXNjYXdPVGdY?tab=BB08J2&amp;u=43d55ab43cb2463ea3d372c964ad3e9d\">https://docs.qq.com/sheet/DU3hpaXNjYXdPVGdY?tab=BB08J2&amp;u=43d55ab43cb2463ea3d372c964ad3e9d</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover4.jpg","excerpt":"","more":"<h2 id=\"Day01\">Day01</h2>\n<p><a href=''>01 - 商业数据分析中常见的技术</a></p>\n<h2 id=\"Day02\">Day02</h2>\n<p><a href=''>02 - 商业数据分析中四大问题入门</a></p>\n<h2 id=\"Day03\">Day03</h2>\n<p><a href=''>03 课程内容安排</a><br>\n<a href='/uncategorized/63f8e4648fec.html'>03-线性回归原理分析及实现</a></p>\n<h2 id=\"Day04\">Day04</h2>\n<p>腾讯会议：718-750-293</p>\n<p><a href='/uncategorized/777ac2a48466.html'>04-课程内容安排</a><br>\n<a href='/uncategorized/316ec7ed5cda.html'>04-手机品牌识别之神经网络</a></p>\n<h2 id=\"Day05\">Day05</h2>\n<p><a href=''>后续课程内容安排</a><br>\n<a href=''>数智教育 数据可视化创新大赛 数据分析</a><br>\n<a href=''>数仓建立</a><br>\n17.16 UDI 无法加载</p>\n<h2 id=\"Day06\">Day06</h2>\n<p>🎉🎉🎉🎉🎉 <a href=''>决策树 decision tree</a></p>\n<h2 id=\"Day07\">Day07</h2>\n<p>今天转线上上课</p>\n<p>第三次实验报告 (已发到群里):</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">大家好，在此收集商业数据分析第三次实验报告</span><br><span class=\"line\">有效期截止到<span class=\"number\">2022</span>年<span class=\"number\">12</span>月<span class=\"number\">8</span>日<span class=\"number\">16</span>:<span class=\"number\">34</span>，麻烦在此之前点击以下链接将文件发送给我，支持发送任意格式的文件，感谢~</span><br><span class=\"line\">链接：https://pan.baidu.com/disk/main<span class=\"comment\">#/transfer/send?surl=AAoAAAAAAA_DFA </span></span><br></pre></td></tr></table></figure>\n<p>机器学习常用术语 (训练集/测试集)<br>\n项目模拟实战<br>\n<a href=''>Day07 机器学习概念汇总 &amp; 商业数据分析项目模拟实战</a></p>\n<h2 id=\"大作业\">大作业</h2>\n<p><img src=\"/images/d6ebb2c8e78f3eebee2ccf56cbe0bb36e15b7ec0.png\" alt=\"static/attachment/Pasted image 20221128182222.png\"></p>\n<h2 id=\"其他\">其他</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">列出作业</span><br></pre></td></tr></table></figure>\n<h2 id=\"学生反馈\">学生反馈</h2>\n<h3 id=\"2022-11-10\">2022-11-10</h3>\n<p><a href=\"https://docs.qq.com/sheet/DU2xFRk9VaFVac1hh?tab=BB08J2&amp;viewId=fv1&amp;u=61728ba66289432cbdd9a95e1cf18b36\">https://docs.qq.com/sheet/DU2xFRk9VaFVac1hh?tab=BB08J2&amp;viewId=fv1&amp;u=61728ba66289432cbdd9a95e1cf18b36</a><br>\n<img src=\"/images/453e9f4901e5f1de0ae927c3d173d1e69018a583.png\" alt=\"static/attachment/Pasted image 20221115083614.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@all 各位同学大家好, 过去5天上课的 pdf/ppt/录屏/代码 已上传阿里云网盘  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">2022 贵州大学商业数据分析实验课</span><br><span class=\"line\">https://www.aliyundrive.com/s/rrz7zBeywzs</span><br><span class=\"line\">提取码: n09b</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"附件\">附件</h2>\n<p><a href=\"http://idis-micro.uniplore.cn/#/login?redirect=/datasource\">http://idis-micro.uniplore.cn/#/login?redirect=/datasource</a></p>\n<p>数据库:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">192.168</span><span class=\"number\">.100</span><span class=\"number\">.117</span>: <span class=\"number\">3306</span></span><br><span class=\"line\">root/mysql@<span class=\"number\">123</span></span><br><span class=\"line\">http://<span class=\"number\">192.168</span><span class=\"number\">.100</span><span class=\"number\">.17</span>:<span class=\"number\">10117</span>/</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://gzuacmis.eicp.vip\">https://gzuacmis.eicp.vip</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">其他:</span><br><span class=\"line\">sunwu@uniplore.io</span><br><span class=\"line\">GZUTEACH16</span><br></pre></td></tr></table></figure>\n<h2 id=\"作业提交相关链接\">作业提交相关链接</h2>\n<p><a href=\"https://docs.qq.com/sheet/DU3hpaXNjYXdPVGdY?tab=BB08J2&amp;u=43d55ab43cb2463ea3d372c964ad3e9d\">https://docs.qq.com/sheet/DU3hpaXNjYXdPVGdY?tab=BB08J2&amp;u=43d55ab43cb2463ea3d372c964ad3e9d</a></p>\n"},{"title":"00-贵州商学院课程看板","date":"2022-07-04T03:22:19.000Z","updated":"2022-11-30T13:48:21.000Z","password":null,"message":null,"abstract":null,"share":true,"description":null,"daily":false,"createtime":"2022-06-19 15:27","aliases":["00-贵州商学院课程看板"],"_content":"\n\n\n---\n\n## 课程目标\n\n**熟悉并掌握** 大数据处理和分析的三大核心要点。即通过几大项目，熟悉并掌握数据获取、数据处理、数据分析流程。\n\n1. 数据获取，解决数据怎么来的问题。\n2. 数据处理，解决数据怎么处理的问题。\n3. 数据分析，解决数据如何分析的问题。\n \n\n## 上课时间\n\n课程共八天，即 6 月 21-24、6 月 28-7 月 1 日，每天六节课。最后一天为答辩时间，具体上课时间：\n\n- 8：10-9：50\n- 10：05-11：45\n- 13：40-15：20\n---\n\n## 课程大纲\n\n## 第一天（数据获取）\n\n知其然，并知其所以然。\n知己知彼，方能百战百胜。（数据来源于网页，因此要先知道网页。）\n[D1 - 商学院-自我简介](099-Project/2022-06%20贵州商学院/D1%20-%20商学院-自我简介.md)  \n[D1 - 1.0 HTML 基础](099-Project/2022-06%20贵州商学院/D1%20-%201.0%20HTML%20基础.md)  \n[D1 - 实战1 理解HTML与CSS](099-Project/2022-06%20贵州商学院/D1%20-%20实战1%20理解HTML与CSS.md)  \n[D1 - 实战2-Python 编码实现取网站数据并存储到数据库](099-Project/2022-06%20贵州商学院/D1%20-%20实战2-Python%20编码实现取网站数据并存储到数据库.md)  \n[D1 - 实战3-八爪鱼爬取数据](099-Project/2022-06%20贵州商学院/D1%20-%20实战3-八爪鱼爬取数据.md)\n\n## 第二天（数据处理 + 可视化分析入门）\n\n对于所有的组织，信息都是主要的财富之一。\n\n- <a href='{% post_path D2- 2.1 ETL入门-相关概念 %}'>D2- 2.1 ETL入门-相关概念</a>\n- <a href='{% post_path D2- 实战4 - UDI HelloWorld 之 UDI 抽取、转换和加载 OLTP 数据 %}'>D2- 实战4 - UDI HelloWorld 之 UDI 抽取、转换和加载 OLTP 数据</a>\n- <a href='{% post_path D2- 2.2 UDI 深入 - UDI的基本功能及组件说明 %}'>D2- 2.2 UDI 深入 - UDI的基本功能及组件说明</a>\n\n## 第三天（ETL+ 可视化）\n\n- <a href='{% post_path D3- 3.1 可视化入门-相关概念 %}'>D3- 3.1 可视化入门-相关概念</a>\n- <a href='{% post_path D3- 3.2 综合实战- 7000 条租房数据处理与分析大屏 %}'>D3- 3.2 综合实战- 7000 条租房数据处理与分析大屏</a>\n- <a href='{% post_path D3- 3.3 VA深入-20+数据图标介绍及使用 %}'>D3- 3.3 VA深入-20+数据图标介绍及使用</a>\n\n## 第四天（综合实例）\n\n- <a href='{% post_path D5- 大数据分析相关资料分享 %}'>D5- 大数据分析相关资料分享</a>\n- <a href='{% post_path D4- 综合项目 - 6000 条倒闭企业处理与分析大屏 %}'>D4- 综合项目 - 6000 条倒闭企业处理与分析大屏</a>\n\n## 第五天（综合实例）\n\n- <a href='{% post_path D5- 综合项目 - COVID-19 疫情数据处理与分析-数据仓库 %}'>D5- 综合项目 - COVID-19 疫情数据处理与分析-数据仓库</a>\n\n## 第六 (项目案例)\n\n- <a href='{% post_path D6-服务器流数据离线与实时处理分析 %}'>D6-服务器流数据离线与实时处理分析</a>\n\n### 第七天 (项目案例)\n\n- <a href='{% post_path D7 图书馆大数据分析与三层数据仓库 %}'>D7 图书馆大数据分析与三层数据仓库</a>\n\n## 第八天\n\n- 答辩 <a href='{% post_path 01 商学院-答辩要求 %}'>01 商学院-答辩要求</a>\n\n## 相关材料\n\n<a href='{% post_path 02- 商学院-课程材料 %}'>02- 商学院-课程材料</a>\n\n \n","source":"_posts/00-贵州商学院课程看板.md","raw":"---\ntitle: 00-贵州商学院课程看板\ntags:\n- 培训材料/贵州商学院\n- public\n- \ndate: 2022-07-04 11:22:19 \nupdated: 2022-11-30 21:48:21 \npassword: \nmessage: \nabstract: \nshare: true\ndescription: \ndaily: false\ncreatetime: 2022-06-19 15:27\ncategory:  gzsxy \naliases:\n  - 00-贵州商学院课程看板\n---\n\n\n\n---\n\n## 课程目标\n\n**熟悉并掌握** 大数据处理和分析的三大核心要点。即通过几大项目，熟悉并掌握数据获取、数据处理、数据分析流程。\n\n1. 数据获取，解决数据怎么来的问题。\n2. 数据处理，解决数据怎么处理的问题。\n3. 数据分析，解决数据如何分析的问题。\n \n\n## 上课时间\n\n课程共八天，即 6 月 21-24、6 月 28-7 月 1 日，每天六节课。最后一天为答辩时间，具体上课时间：\n\n- 8：10-9：50\n- 10：05-11：45\n- 13：40-15：20\n---\n\n## 课程大纲\n\n## 第一天（数据获取）\n\n知其然，并知其所以然。\n知己知彼，方能百战百胜。（数据来源于网页，因此要先知道网页。）\n[D1 - 商学院-自我简介](099-Project/2022-06%20贵州商学院/D1%20-%20商学院-自我简介.md)  \n[D1 - 1.0 HTML 基础](099-Project/2022-06%20贵州商学院/D1%20-%201.0%20HTML%20基础.md)  \n[D1 - 实战1 理解HTML与CSS](099-Project/2022-06%20贵州商学院/D1%20-%20实战1%20理解HTML与CSS.md)  \n[D1 - 实战2-Python 编码实现取网站数据并存储到数据库](099-Project/2022-06%20贵州商学院/D1%20-%20实战2-Python%20编码实现取网站数据并存储到数据库.md)  \n[D1 - 实战3-八爪鱼爬取数据](099-Project/2022-06%20贵州商学院/D1%20-%20实战3-八爪鱼爬取数据.md)\n\n## 第二天（数据处理 + 可视化分析入门）\n\n对于所有的组织，信息都是主要的财富之一。\n\n- <a href='{% post_path D2- 2.1 ETL入门-相关概念 %}'>D2- 2.1 ETL入门-相关概念</a>\n- <a href='{% post_path D2- 实战4 - UDI HelloWorld 之 UDI 抽取、转换和加载 OLTP 数据 %}'>D2- 实战4 - UDI HelloWorld 之 UDI 抽取、转换和加载 OLTP 数据</a>\n- <a href='{% post_path D2- 2.2 UDI 深入 - UDI的基本功能及组件说明 %}'>D2- 2.2 UDI 深入 - UDI的基本功能及组件说明</a>\n\n## 第三天（ETL+ 可视化）\n\n- <a href='{% post_path D3- 3.1 可视化入门-相关概念 %}'>D3- 3.1 可视化入门-相关概念</a>\n- <a href='{% post_path D3- 3.2 综合实战- 7000 条租房数据处理与分析大屏 %}'>D3- 3.2 综合实战- 7000 条租房数据处理与分析大屏</a>\n- <a href='{% post_path D3- 3.3 VA深入-20+数据图标介绍及使用 %}'>D3- 3.3 VA深入-20+数据图标介绍及使用</a>\n\n## 第四天（综合实例）\n\n- <a href='{% post_path D5- 大数据分析相关资料分享 %}'>D5- 大数据分析相关资料分享</a>\n- <a href='{% post_path D4- 综合项目 - 6000 条倒闭企业处理与分析大屏 %}'>D4- 综合项目 - 6000 条倒闭企业处理与分析大屏</a>\n\n## 第五天（综合实例）\n\n- <a href='{% post_path D5- 综合项目 - COVID-19 疫情数据处理与分析-数据仓库 %}'>D5- 综合项目 - COVID-19 疫情数据处理与分析-数据仓库</a>\n\n## 第六 (项目案例)\n\n- <a href='{% post_path D6-服务器流数据离线与实时处理分析 %}'>D6-服务器流数据离线与实时处理分析</a>\n\n### 第七天 (项目案例)\n\n- <a href='{% post_path D7 图书馆大数据分析与三层数据仓库 %}'>D7 图书馆大数据分析与三层数据仓库</a>\n\n## 第八天\n\n- 答辩 <a href='{% post_path 01 商学院-答辩要求 %}'>01 商学院-答辩要求</a>\n\n## 相关材料\n\n<a href='{% post_path 02- 商学院-课程材料 %}'>02- 商学院-课程材料</a>\n\n \n","slug":"00-贵州商学院课程看板","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02inq0003iwv966pr7gy2","content":"<hr>\n<h2 id=\"课程目标\">课程目标</h2>\n<p><strong>熟悉并掌握</strong> 大数据处理和分析的三大核心要点。即通过几大项目，熟悉并掌握数据获取、数据处理、数据分析流程。</p>\n<ol>\n<li>数据获取，解决数据怎么来的问题。</li>\n<li>数据处理，解决数据怎么处理的问题。</li>\n<li>数据分析，解决数据如何分析的问题。</li>\n</ol>\n<h2 id=\"上课时间\">上课时间</h2>\n<p>课程共八天，即 6 月 21-24、6 月 28-7 月 1 日，每天六节课。最后一天为答辩时间，具体上课时间：</p>\n<ul>\n<li>8：10-9：50</li>\n<li>10：05-11：45</li>\n<li>13：40-15：20</li>\n</ul>\n<hr>\n<h2 id=\"课程大纲\">课程大纲</h2>\n<h2 id=\"第一天（数据获取）\">第一天（数据获取）</h2>\n<p>知其然，并知其所以然。<br>\n知己知彼，方能百战百胜。（数据来源于网页，因此要先知道网页。）<br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%20%E5%95%86%E5%AD%A6%E9%99%A2-%E8%87%AA%E6%88%91%E7%AE%80%E4%BB%8B.md\">D1 - 商学院-自我简介</a><br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%201.0%20HTML%20%E5%9F%BA%E7%A1%80.md\">D1 - 1.0 HTML 基础</a><br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%20%E5%AE%9E%E6%88%981%20%E7%90%86%E8%A7%A3HTML%E4%B8%8ECSS.md\">D1 - 实战1 理解HTML与CSS</a><br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%20%E5%AE%9E%E6%88%982-Python%20%E7%BC%96%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%8F%96%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%AD%98%E5%82%A8%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93.md\">D1 - 实战2-Python 编码实现取网站数据并存储到数据库</a><br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%20%E5%AE%9E%E6%88%983-%E5%85%AB%E7%88%AA%E9%B1%BC%E7%88%AC%E5%8F%96%E6%95%B0%E6%8D%AE.md\">D1 - 实战3-八爪鱼爬取数据</a></p>\n<h2 id=\"第二天（数据处理-可视化分析入门）\">第二天（数据处理 + 可视化分析入门）</h2>\n<p>对于所有的组织，信息都是主要的财富之一。</p>\n<ul>\n<li><a href=''>D2- 2.1 ETL入门-相关概念</a></li>\n<li><a href=''>D2- 实战4 - UDI HelloWorld 之 UDI 抽取、转换和加载 OLTP 数据</a></li>\n<li><a href=''>D2- 2.2 UDI 深入 - UDI的基本功能及组件说明</a></li>\n</ul>\n<h2 id=\"第三天（ETL-可视化）\">第三天（ETL+ 可视化）</h2>\n<ul>\n<li><a href=''>D3- 3.1 可视化入门-相关概念</a></li>\n<li><a href=''>D3- 3.2 综合实战- 7000 条租房数据处理与分析大屏</a></li>\n<li><a href=''>D3- 3.3 VA深入-20+数据图标介绍及使用</a></li>\n</ul>\n<h2 id=\"第四天（综合实例）\">第四天（综合实例）</h2>\n<ul>\n<li><a href=''>D5- 大数据分析相关资料分享</a></li>\n<li><a href=''>D4- 综合项目 - 6000 条倒闭企业处理与分析大屏</a></li>\n</ul>\n<h2 id=\"第五天（综合实例）\">第五天（综合实例）</h2>\n<ul>\n<li><a href=''>D5- 综合项目 - COVID-19 疫情数据处理与分析-数据仓库</a></li>\n</ul>\n<h2 id=\"第六-项目案例\">第六 (项目案例)</h2>\n<ul>\n<li><a href=''>D6-服务器流数据离线与实时处理分析</a></li>\n</ul>\n<h3 id=\"第七天-项目案例\">第七天 (项目案例)</h3>\n<ul>\n<li><a href=''>D7 图书馆大数据分析与三层数据仓库</a></li>\n</ul>\n<h2 id=\"第八天\">第八天</h2>\n<ul>\n<li>答辩 <a href=''>01 商学院-答辩要求</a></li>\n</ul>\n<h2 id=\"相关材料\">相关材料</h2>\n<p><a href=''>02- 商学院-课程材料</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover5.JPG","excerpt":"","more":"<hr>\n<h2 id=\"课程目标\">课程目标</h2>\n<p><strong>熟悉并掌握</strong> 大数据处理和分析的三大核心要点。即通过几大项目，熟悉并掌握数据获取、数据处理、数据分析流程。</p>\n<ol>\n<li>数据获取，解决数据怎么来的问题。</li>\n<li>数据处理，解决数据怎么处理的问题。</li>\n<li>数据分析，解决数据如何分析的问题。</li>\n</ol>\n<h2 id=\"上课时间\">上课时间</h2>\n<p>课程共八天，即 6 月 21-24、6 月 28-7 月 1 日，每天六节课。最后一天为答辩时间，具体上课时间：</p>\n<ul>\n<li>8：10-9：50</li>\n<li>10：05-11：45</li>\n<li>13：40-15：20</li>\n</ul>\n<hr>\n<h2 id=\"课程大纲\">课程大纲</h2>\n<h2 id=\"第一天（数据获取）\">第一天（数据获取）</h2>\n<p>知其然，并知其所以然。<br>\n知己知彼，方能百战百胜。（数据来源于网页，因此要先知道网页。）<br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%20%E5%95%86%E5%AD%A6%E9%99%A2-%E8%87%AA%E6%88%91%E7%AE%80%E4%BB%8B.md\">D1 - 商学院-自我简介</a><br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%201.0%20HTML%20%E5%9F%BA%E7%A1%80.md\">D1 - 1.0 HTML 基础</a><br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%20%E5%AE%9E%E6%88%981%20%E7%90%86%E8%A7%A3HTML%E4%B8%8ECSS.md\">D1 - 实战1 理解HTML与CSS</a><br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%20%E5%AE%9E%E6%88%982-Python%20%E7%BC%96%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%8F%96%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%AD%98%E5%82%A8%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93.md\">D1 - 实战2-Python 编码实现取网站数据并存储到数据库</a><br>\n<a href=\"099-Project/2022-06%20%E8%B4%B5%E5%B7%9E%E5%95%86%E5%AD%A6%E9%99%A2/D1%20-%20%E5%AE%9E%E6%88%983-%E5%85%AB%E7%88%AA%E9%B1%BC%E7%88%AC%E5%8F%96%E6%95%B0%E6%8D%AE.md\">D1 - 实战3-八爪鱼爬取数据</a></p>\n<h2 id=\"第二天（数据处理-可视化分析入门）\">第二天（数据处理 + 可视化分析入门）</h2>\n<p>对于所有的组织，信息都是主要的财富之一。</p>\n<ul>\n<li><a href=''>D2- 2.1 ETL入门-相关概念</a></li>\n<li><a href=''>D2- 实战4 - UDI HelloWorld 之 UDI 抽取、转换和加载 OLTP 数据</a></li>\n<li><a href=''>D2- 2.2 UDI 深入 - UDI的基本功能及组件说明</a></li>\n</ul>\n<h2 id=\"第三天（ETL-可视化）\">第三天（ETL+ 可视化）</h2>\n<ul>\n<li><a href=''>D3- 3.1 可视化入门-相关概念</a></li>\n<li><a href=''>D3- 3.2 综合实战- 7000 条租房数据处理与分析大屏</a></li>\n<li><a href=''>D3- 3.3 VA深入-20+数据图标介绍及使用</a></li>\n</ul>\n<h2 id=\"第四天（综合实例）\">第四天（综合实例）</h2>\n<ul>\n<li><a href=''>D5- 大数据分析相关资料分享</a></li>\n<li><a href=''>D4- 综合项目 - 6000 条倒闭企业处理与分析大屏</a></li>\n</ul>\n<h2 id=\"第五天（综合实例）\">第五天（综合实例）</h2>\n<ul>\n<li><a href=''>D5- 综合项目 - COVID-19 疫情数据处理与分析-数据仓库</a></li>\n</ul>\n<h2 id=\"第六-项目案例\">第六 (项目案例)</h2>\n<ul>\n<li><a href=''>D6-服务器流数据离线与实时处理分析</a></li>\n</ul>\n<h3 id=\"第七天-项目案例\">第七天 (项目案例)</h3>\n<ul>\n<li><a href=''>D7 图书馆大数据分析与三层数据仓库</a></li>\n</ul>\n<h2 id=\"第八天\">第八天</h2>\n<ul>\n<li>答辩 <a href=''>01 商学院-答辩要求</a></li>\n</ul>\n<h2 id=\"相关材料\">相关材料</h2>\n<p><a href=''>02- 商学院-课程材料</a></p>\n"},{"title":"商业数据分析中常见的技术","date":"2022-10-24T06:14:39.000Z","updated":"2022-11-25T10:19:00.000Z","aliases":["商业数据分析中常见的技术"],"_content":"\n# 商业数据分析中常见的技术\n\n## 成绩说明\n\n### 实验成绩组成\n\n### 平时成绩说明\n\n### 课堂大作业说明\n\n### 补充说明\n\n## 商业数据分析中常见的技术\n\n### 商业数据分析中 4 大问题\n\n- （数据）获取\n- 处理\n- 分析\n- 建模\n\n### 实验课程解决什么问题 ^93726c6c-cceb-9bb2\n\n- What\n- How(Solutions)\n- Examples\n\n### 数据获取技术\n\n- 什么是数据获取 ^59855ee3-e895-04b0\n   - 例子 1\n   - 例子 2\n   - 例子 3\n- 常用的数据获取方法 ^051c8058-079d-17e5\n   - 数据库提取🤪⏰\n   - 网页爬取🥶⏰\n   - 用户填写🤪⏰\n   - 表格读取🤪⏰\n   - Optical Character Recognition, OCR（纸质、图片）🥶⏰\n   - Web 爬虫🥶⏰\n- 例子 1\n   - 需求：获取国美网站中的手机数据，并保存为 csv 文件\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n\t  - 手工一条一条得复制\n\t  - 找多个人来一条一条的复制\n\t  - 脚本 (Python 爬虫)\n\t  - 可视化方法（八爪鱼）\n   - 典型例子说明\n\t  - 基于什么技术\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n\t  - 流程说明（获取数据分为哪些步骤）\n\t\t - 打开网站\n\t\t - 选择需要获取的数据\n\t\t - 开始采集\n\t\t - 保存数据\n\t  - 例子演示（现场）\n\n### 数据处理技术 ^77b60087-742a-b85d\n\n- 什么是数据处理技术\n   - 例子 1\n   - 例子 2\n   - 例子 3\n- 常用的数据处理方法\n   - 脚本处理（任何场景）\n   - 专业软件（SPSS、Excel、Kettle）（特定场景）\n   - 可视化编程（UDI）（特定场景）\n- 例子 2\n   - 需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n   - 典型例子说明\n\t  - 基于什么技术 ^8db6cf3a-9533-b8db\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n\t  - 流程说明（获取数据分为哪些步骤）^1e917046-b2c3-207e\n\t\t - 打开 UDI\n\t\t - 创建工作流\n\t\t - 运行\n\t\t - 查看结果\n\t  - 例子演示（现场）\n- Why 可视化编程？Not Excel? ^81bd742b-6418-49f7\n   - 场景不同\n\t  - 如定时运行（如每天 02:00 定时运行）\n\t  - 体量大（TB）\n\t  - 运行时间长（>1H)\n\t  - 需要支持多种数据源\n- 例子 3 ^5ecf26e6-537b-a20c\n   - 需求：将数据中的价格字段变为数字，并存储为新表\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n   - 典型例子说明\n\t  - 基于什么技术\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n\t  - 流程说明（获取数据分为哪些步骤）\n\t\t - 打开 UDI\n\t\t - 创建工作流\n\t\t - 运行\n\t\t - 查看结果\n\t  - 例子演示（现场）\n\n### 数据可视化技术 ^be1f186e-bc6c-3d0a\n\n- 什么是数据可视化技术\n   - 例子 1\n   - 例子 2\n   - 例子 3\n- 常用可视化方案（法）\n   - 脚本处理（任何场景）\n   - 专业软件（Tableau、SPSS、PowerBI）（特定场景）\n   - VA（拖拽式编程）\n- 例子 4\n   - 需求：可视化收集的平均价格\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n\t  - 编程（Plotly、Matplotlib、Seabon）\n\t  - 专业软件（VA/PowerBI/Tableau/Spss）\n\t  - 手画\n   - 典型例子说明\n\t  - 基于什么技术\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n\t  - 流程说明（获取数据分为哪些步骤）\n\t\t - 打开 VA\n\t\t - 建立数据源\n\t\t - 创建数据集\n\t\t - 建立工作表\n\t  - 例子演示（现场）\n\n### 数据建模技术 ^279b484a-455a-9d59\n\n- 什么是数据建模\n   - 例子 1\n   - 例子 2\n   - 例子 3\n- 常用的建模工具\n   - 基于脚本（Pytorch、Tensorflow（Keras）、ak-learn）\n   - 专业平台（Uniplore AI Studio、百度 AI Studio、百度 paddlepaddle）\n- 例子 5\n   - 需求：根据房子面积和距离市中心的距离，预测房子的价格\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n   - 典型例子说明\n\t  - 基于什么技术\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n   - 流程说明（获取数据分为哪些步骤）\n   - 例子演示（现场）\n\n## 课程后作业\n\n### 完善课上例子，并编写实验报告（提交）\n\n### 自行选择一个例子，并动手跟着文档完成例子（下节课提问，作为评分标准）\n\n- <https://docs.uniplore.cn/docs/tutorial-udistudio/reference-manual/trans/output/insertupdate>\n","source":"_posts/01-商业数据分析中常见的技术.md","raw":"---\ntitle: 商业数据分析中常见的技术\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-10-24 14:14:39 \nupdated: 2022-11-25 18:19:00 \naliases:\n  - 商业数据分析中常见的技术\n---\n\n# 商业数据分析中常见的技术\n\n## 成绩说明\n\n### 实验成绩组成\n\n### 平时成绩说明\n\n### 课堂大作业说明\n\n### 补充说明\n\n## 商业数据分析中常见的技术\n\n### 商业数据分析中 4 大问题\n\n- （数据）获取\n- 处理\n- 分析\n- 建模\n\n### 实验课程解决什么问题 ^93726c6c-cceb-9bb2\n\n- What\n- How(Solutions)\n- Examples\n\n### 数据获取技术\n\n- 什么是数据获取 ^59855ee3-e895-04b0\n   - 例子 1\n   - 例子 2\n   - 例子 3\n- 常用的数据获取方法 ^051c8058-079d-17e5\n   - 数据库提取🤪⏰\n   - 网页爬取🥶⏰\n   - 用户填写🤪⏰\n   - 表格读取🤪⏰\n   - Optical Character Recognition, OCR（纸质、图片）🥶⏰\n   - Web 爬虫🥶⏰\n- 例子 1\n   - 需求：获取国美网站中的手机数据，并保存为 csv 文件\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n\t  - 手工一条一条得复制\n\t  - 找多个人来一条一条的复制\n\t  - 脚本 (Python 爬虫)\n\t  - 可视化方法（八爪鱼）\n   - 典型例子说明\n\t  - 基于什么技术\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n\t  - 流程说明（获取数据分为哪些步骤）\n\t\t - 打开网站\n\t\t - 选择需要获取的数据\n\t\t - 开始采集\n\t\t - 保存数据\n\t  - 例子演示（现场）\n\n### 数据处理技术 ^77b60087-742a-b85d\n\n- 什么是数据处理技术\n   - 例子 1\n   - 例子 2\n   - 例子 3\n- 常用的数据处理方法\n   - 脚本处理（任何场景）\n   - 专业软件（SPSS、Excel、Kettle）（特定场景）\n   - 可视化编程（UDI）（特定场景）\n- 例子 2\n   - 需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n   - 典型例子说明\n\t  - 基于什么技术 ^8db6cf3a-9533-b8db\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n\t  - 流程说明（获取数据分为哪些步骤）^1e917046-b2c3-207e\n\t\t - 打开 UDI\n\t\t - 创建工作流\n\t\t - 运行\n\t\t - 查看结果\n\t  - 例子演示（现场）\n- Why 可视化编程？Not Excel? ^81bd742b-6418-49f7\n   - 场景不同\n\t  - 如定时运行（如每天 02:00 定时运行）\n\t  - 体量大（TB）\n\t  - 运行时间长（>1H)\n\t  - 需要支持多种数据源\n- 例子 3 ^5ecf26e6-537b-a20c\n   - 需求：将数据中的价格字段变为数字，并存储为新表\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n   - 典型例子说明\n\t  - 基于什么技术\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n\t  - 流程说明（获取数据分为哪些步骤）\n\t\t - 打开 UDI\n\t\t - 创建工作流\n\t\t - 运行\n\t\t - 查看结果\n\t  - 例子演示（现场）\n\n### 数据可视化技术 ^be1f186e-bc6c-3d0a\n\n- 什么是数据可视化技术\n   - 例子 1\n   - 例子 2\n   - 例子 3\n- 常用可视化方案（法）\n   - 脚本处理（任何场景）\n   - 专业软件（Tableau、SPSS、PowerBI）（特定场景）\n   - VA（拖拽式编程）\n- 例子 4\n   - 需求：可视化收集的平均价格\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n\t  - 编程（Plotly、Matplotlib、Seabon）\n\t  - 专业软件（VA/PowerBI/Tableau/Spss）\n\t  - 手画\n   - 典型例子说明\n\t  - 基于什么技术\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n\t  - 流程说明（获取数据分为哪些步骤）\n\t\t - 打开 VA\n\t\t - 建立数据源\n\t\t - 创建数据集\n\t\t - 建立工作表\n\t  - 例子演示（现场）\n\n### 数据建模技术 ^279b484a-455a-9d59\n\n- 什么是数据建模\n   - 例子 1\n   - 例子 2\n   - 例子 3\n- 常用的建模工具\n   - 基于脚本（Pytorch、Tensorflow（Keras）、ak-learn）\n   - 专业平台（Uniplore AI Studio、百度 AI Studio、百度 paddlepaddle）\n- 例子 5\n   - 需求：根据房子面积和距离市中心的距离，预测房子的价格\n   - 有多少种方法解决这个问题？\n   - 可能的方法列表\n   - 典型例子说明\n\t  - 基于什么技术\n\t\t - 技术特点\n\t\t - 为什么选这个技术\n   - 流程说明（获取数据分为哪些步骤）\n   - 例子演示（现场）\n\n## 课程后作业\n\n### 完善课上例子，并编写实验报告（提交）\n\n### 自行选择一个例子，并动手跟着文档完成例子（下节课提问，作为评分标准）\n\n- <https://docs.uniplore.cn/docs/tutorial-udistudio/reference-manual/trans/output/insertupdate>\n","slug":"01-商业数据分析中常见的技术","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02ins0005iwv94ead1pxk","content":"<h1>商业数据分析中常见的技术</h1>\n<h2 id=\"成绩说明\">成绩说明</h2>\n<h3 id=\"实验成绩组成\">实验成绩组成</h3>\n<h3 id=\"平时成绩说明\">平时成绩说明</h3>\n<h3 id=\"课堂大作业说明\">课堂大作业说明</h3>\n<h3 id=\"补充说明\">补充说明</h3>\n<h2 id=\"商业数据分析中常见的技术\">商业数据分析中常见的技术</h2>\n<h3 id=\"商业数据分析中-4-大问题\">商业数据分析中 4 大问题</h3>\n<ul>\n<li>（数据）获取</li>\n<li>处理</li>\n<li>分析</li>\n<li>建模</li>\n</ul>\n<h3 id=\"实验课程解决什么问题-93726c6c-cceb-9bb2\">实验课程解决什么问题 ^93726c6c-cceb-9bb2</h3>\n<ul>\n<li>What</li>\n<li>How(Solutions)</li>\n<li>Examples</li>\n</ul>\n<h3 id=\"数据获取技术\">数据获取技术</h3>\n<ul>\n<li>什么是数据获取 ^59855ee3-e895-04b0\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的数据获取方法 ^051c8058-079d-17e5\n<ul>\n<li>数据库提取🤪⏰</li>\n<li>网页爬取🥶⏰</li>\n<li>用户填写🤪⏰</li>\n<li>表格读取🤪⏰</li>\n<li>Optical Character Recognition, OCR（纸质、图片）🥶⏰</li>\n<li>Web 爬虫🥶⏰</li>\n</ul>\n</li>\n<li>例子 1\n<ul>\n<li>需求：获取国美网站中的手机数据，并保存为 csv 文件</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表\n<ul>\n<li>手工一条一条得复制</li>\n<li>找多个人来一条一条的复制</li>\n<li>脚本 (Python 爬虫)</li>\n<li>可视化方法（八爪鱼）</li>\n</ul>\n</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开网站</li>\n<li>选择需要获取的数据</li>\n<li>开始采集</li>\n<li>保存数据</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"数据处理技术-77b60087-742a-b85d\">数据处理技术 ^77b60087-742a-b85d</h3>\n<ul>\n<li>什么是数据处理技术\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的数据处理方法\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（SPSS、Excel、Kettle）（特定场景）</li>\n<li>可视化编程（UDI）（特定场景）</li>\n</ul>\n</li>\n<li>例子 2\n<ul>\n<li>需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术 ^8db6cf3a-9533-b8db\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）^1e917046-b2c3-207e\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Why 可视化编程？Not Excel? ^81bd742b-6418-49f7\n<ul>\n<li>场景不同\n<ul>\n<li>如定时运行（如每天 02:00 定时运行）</li>\n<li>体量大（TB）</li>\n<li>运行时间长（&gt;1H)</li>\n<li>需要支持多种数据源</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>例子 3 ^5ecf26e6-537b-a20c\n<ul>\n<li>需求：将数据中的价格字段变为数字，并存储为新表</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"数据可视化技术-be1f186e-bc6c-3d0a\">数据可视化技术 ^be1f186e-bc6c-3d0a</h3>\n<ul>\n<li>什么是数据可视化技术\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用可视化方案（法）\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（Tableau、SPSS、PowerBI）（特定场景）</li>\n<li>VA（拖拽式编程）</li>\n</ul>\n</li>\n<li>例子 4\n<ul>\n<li>需求：可视化收集的平均价格</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表\n<ul>\n<li>编程（Plotly、Matplotlib、Seabon）</li>\n<li>专业软件（VA/PowerBI/Tableau/Spss）</li>\n<li>手画</li>\n</ul>\n</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 VA</li>\n<li>建立数据源</li>\n<li>创建数据集</li>\n<li>建立工作表</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"数据建模技术-279b484a-455a-9d59\">数据建模技术 ^279b484a-455a-9d59</h3>\n<ul>\n<li>什么是数据建模\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的建模工具\n<ul>\n<li>基于脚本（Pytorch、Tensorflow（Keras）、ak-learn）</li>\n<li>专业平台（Uniplore AI Studio、百度 AI Studio、百度 paddlepaddle）</li>\n</ul>\n</li>\n<li>例子 5\n<ul>\n<li>需求：根据房子面积和距离市中心的距离，预测房子的价格</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"课程后作业\">课程后作业</h2>\n<h3 id=\"完善课上例子，并编写实验报告（提交）\">完善课上例子，并编写实验报告（提交）</h3>\n<h3 id=\"自行选择一个例子，并动手跟着文档完成例子（下节课提问，作为评分标准）\">自行选择一个例子，并动手跟着文档完成例子（下节课提问，作为评分标准）</h3>\n<ul>\n<li><a href=\"https://docs.uniplore.cn/docs/tutorial-udistudio/reference-manual/trans/output/insertupdate\">https://docs.uniplore.cn/docs/tutorial-udistudio/reference-manual/trans/output/insertupdate</a></li>\n</ul>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover4.jpg","excerpt":"","more":"<h1>商业数据分析中常见的技术</h1>\n<h2 id=\"成绩说明\">成绩说明</h2>\n<h3 id=\"实验成绩组成\">实验成绩组成</h3>\n<h3 id=\"平时成绩说明\">平时成绩说明</h3>\n<h3 id=\"课堂大作业说明\">课堂大作业说明</h3>\n<h3 id=\"补充说明\">补充说明</h3>\n<h2 id=\"商业数据分析中常见的技术\">商业数据分析中常见的技术</h2>\n<h3 id=\"商业数据分析中-4-大问题\">商业数据分析中 4 大问题</h3>\n<ul>\n<li>（数据）获取</li>\n<li>处理</li>\n<li>分析</li>\n<li>建模</li>\n</ul>\n<h3 id=\"实验课程解决什么问题-93726c6c-cceb-9bb2\">实验课程解决什么问题 ^93726c6c-cceb-9bb2</h3>\n<ul>\n<li>What</li>\n<li>How(Solutions)</li>\n<li>Examples</li>\n</ul>\n<h3 id=\"数据获取技术\">数据获取技术</h3>\n<ul>\n<li>什么是数据获取 ^59855ee3-e895-04b0\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的数据获取方法 ^051c8058-079d-17e5\n<ul>\n<li>数据库提取🤪⏰</li>\n<li>网页爬取🥶⏰</li>\n<li>用户填写🤪⏰</li>\n<li>表格读取🤪⏰</li>\n<li>Optical Character Recognition, OCR（纸质、图片）🥶⏰</li>\n<li>Web 爬虫🥶⏰</li>\n</ul>\n</li>\n<li>例子 1\n<ul>\n<li>需求：获取国美网站中的手机数据，并保存为 csv 文件</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表\n<ul>\n<li>手工一条一条得复制</li>\n<li>找多个人来一条一条的复制</li>\n<li>脚本 (Python 爬虫)</li>\n<li>可视化方法（八爪鱼）</li>\n</ul>\n</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开网站</li>\n<li>选择需要获取的数据</li>\n<li>开始采集</li>\n<li>保存数据</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"数据处理技术-77b60087-742a-b85d\">数据处理技术 ^77b60087-742a-b85d</h3>\n<ul>\n<li>什么是数据处理技术\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的数据处理方法\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（SPSS、Excel、Kettle）（特定场景）</li>\n<li>可视化编程（UDI）（特定场景）</li>\n</ul>\n</li>\n<li>例子 2\n<ul>\n<li>需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术 ^8db6cf3a-9533-b8db\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）^1e917046-b2c3-207e\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Why 可视化编程？Not Excel? ^81bd742b-6418-49f7\n<ul>\n<li>场景不同\n<ul>\n<li>如定时运行（如每天 02:00 定时运行）</li>\n<li>体量大（TB）</li>\n<li>运行时间长（&gt;1H)</li>\n<li>需要支持多种数据源</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>例子 3 ^5ecf26e6-537b-a20c\n<ul>\n<li>需求：将数据中的价格字段变为数字，并存储为新表</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"数据可视化技术-be1f186e-bc6c-3d0a\">数据可视化技术 ^be1f186e-bc6c-3d0a</h3>\n<ul>\n<li>什么是数据可视化技术\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用可视化方案（法）\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（Tableau、SPSS、PowerBI）（特定场景）</li>\n<li>VA（拖拽式编程）</li>\n</ul>\n</li>\n<li>例子 4\n<ul>\n<li>需求：可视化收集的平均价格</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表\n<ul>\n<li>编程（Plotly、Matplotlib、Seabon）</li>\n<li>专业软件（VA/PowerBI/Tableau/Spss）</li>\n<li>手画</li>\n</ul>\n</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 VA</li>\n<li>建立数据源</li>\n<li>创建数据集</li>\n<li>建立工作表</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"数据建模技术-279b484a-455a-9d59\">数据建模技术 ^279b484a-455a-9d59</h3>\n<ul>\n<li>什么是数据建模\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的建模工具\n<ul>\n<li>基于脚本（Pytorch、Tensorflow（Keras）、ak-learn）</li>\n<li>专业平台（Uniplore AI Studio、百度 AI Studio、百度 paddlepaddle）</li>\n</ul>\n</li>\n<li>例子 5\n<ul>\n<li>需求：根据房子面积和距离市中心的距离，预测房子的价格</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"课程后作业\">课程后作业</h2>\n<h3 id=\"完善课上例子，并编写实验报告（提交）\">完善课上例子，并编写实验报告（提交）</h3>\n<h3 id=\"自行选择一个例子，并动手跟着文档完成例子（下节课提问，作为评分标准）\">自行选择一个例子，并动手跟着文档完成例子（下节课提问，作为评分标准）</h3>\n<ul>\n<li><a href=\"https://docs.uniplore.cn/docs/tutorial-udistudio/reference-manual/trans/output/insertupdate\">https://docs.uniplore.cn/docs/tutorial-udistudio/reference-manual/trans/output/insertupdate</a></li>\n</ul>\n"},{"title":"Day02 - 商业数据分析中四大问题案例实践","date":"2022-10-24T13:03:44.000Z","updated":"2022-11-30T13:04:34.000Z","password":null,"message":null,"abstract":null,"share":false,"description":null,"daily":false,"createtime":"2022-10-24 21:03","aliases":["Day02 - 商业数据分析中四大问题案例实践"],"_content":"\n\n\n# Day02 - 商业数据分析中四大问题案例实践\n\n## 商业数据分析入门案例\n\n### 数据采集案例\n\n- 八爪鱼爬取国美手机数据（自动）\n\t- 演示（输出数据集：国美 - 商品列表 - 手机数据采集.csv）\n\t- 学生动手感受\n- python 爬取百度热搜 TOP10（手动）\n\t- 演示\n\t- 学生动手感受\n- 八爪鱼爬取百度热搜 TOP10（手动）\n- 例子讨论与总结\n\n## 数据处理案例\n\n本节使用的数据是“国美 - 商品列表 - 手机数据采集.csv”，样例：![static/attachment/Pasted image 20221024224926.png](/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png)\n\n- UDI 实现\n\t- 去除“价格”中的￥符号\n\t- 提取“标题”中的手机品牌，如 Apple、苹果、华为）\n\t- 合并相同品牌，如将“Apple”和“苹果”合并为“苹果”\n\t- 类型转换：将去除“￥”的“价格”字段转换为 float\n\t- 类型转换：将“评价数”字段转换为 float\n- Pandas 实现上面例子\n- 例子总结与讨论\n\n## 数据分析案例\n\n- VA 实现（2022-11-07 作业）\n\t- 各类手机的平均价格柱状图\n\t\t- x 轴：手机类别（如苹果、华为、…），且能够修改轴标签（修改为手机类别）\n\t\t- y 轴：平均价格，且能够修改轴标签（修改为平均价格）\n\t- 手机评价数 TOP10（垂直柱状图）\n\t\t- x 轴：手机名称\n\t\t- y 轴：评价数量\n\t- 手机价格 TOP10（垂直柱状图）\n\t\t- x 轴：手机名称\n\t\t- y 轴：手机价格\n- Python 实现上面三个例子（)\n- 例子讨论与总结\n\n## 数据建模案例\n\n- 需求：建立一个模型，使模型能够根据手机图片，预测手机品牌。\n\t- 模型的输入为手机图片，输出为手机品牌\n\t- 图片来源：通过下载《国美 - 商品列表 - 手机数据采集.csv》中的图片（要自己下载，可通过你认为最快的方式）\n- DM（AI）实现\n- Keras 实现\n- 例子讨论与总结\n\n## 课程作业\n\n- 完善例子，并提交实验报告和录屏（将你做实验的过程录屏），截止日期：下周上课之前（11.7 之前）\n- 如果有问题，请及时在 QQ 群里反馈（上传录屏 + 问题说明）\n\n## UDI 测试要求\n\n数据集：《Day02 - 国美 - 商品列表 - 手机数据采集.csv》  \n![static/attachment/Pasted image 20221024224926.png](/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png)\n\n- UDI 实现\n\t- 去除“价格”中的￥符号\n\t- 提取“标题”中的手机品牌，如 Apple、苹果、华为）\n\t- 合并相同品牌，如将“Apple”和“苹果”合并为“苹果”\n\t- 类型转换：将去除“￥”的“价格”字段转换为 float\n\t- 类型转换：将“评价数”字段转换为 float\n\n期望输出：\n\n1. 每个步骤为一个转换，并录屏（.mp4)\n\n需要的资源：  \n\n- 软件地址：<http://idis-micro.uniplore.cn/>\n- 给每个人分配账号\n- <https://docs.uniplore.cn/>\n","source":"_posts/02-商业数据分析中四大问题入门.md","raw":"---\ntitle: Day02 - 商业数据分析中四大问题案例实践\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-10-24 21:03:44 \nupdated: 2022-11-30 21:04:34 \npassword: \nmessage: \nabstract: \nshare: false\ndescription: \ndaily: false\ncreatetime: 2022-10-24 21:03\ncategory:  uncategory\naliases:\n  - Day02 - 商业数据分析中四大问题案例实践\n---\n\n\n\n# Day02 - 商业数据分析中四大问题案例实践\n\n## 商业数据分析入门案例\n\n### 数据采集案例\n\n- 八爪鱼爬取国美手机数据（自动）\n\t- 演示（输出数据集：国美 - 商品列表 - 手机数据采集.csv）\n\t- 学生动手感受\n- python 爬取百度热搜 TOP10（手动）\n\t- 演示\n\t- 学生动手感受\n- 八爪鱼爬取百度热搜 TOP10（手动）\n- 例子讨论与总结\n\n## 数据处理案例\n\n本节使用的数据是“国美 - 商品列表 - 手机数据采集.csv”，样例：![static/attachment/Pasted image 20221024224926.png](/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png)\n\n- UDI 实现\n\t- 去除“价格”中的￥符号\n\t- 提取“标题”中的手机品牌，如 Apple、苹果、华为）\n\t- 合并相同品牌，如将“Apple”和“苹果”合并为“苹果”\n\t- 类型转换：将去除“￥”的“价格”字段转换为 float\n\t- 类型转换：将“评价数”字段转换为 float\n- Pandas 实现上面例子\n- 例子总结与讨论\n\n## 数据分析案例\n\n- VA 实现（2022-11-07 作业）\n\t- 各类手机的平均价格柱状图\n\t\t- x 轴：手机类别（如苹果、华为、…），且能够修改轴标签（修改为手机类别）\n\t\t- y 轴：平均价格，且能够修改轴标签（修改为平均价格）\n\t- 手机评价数 TOP10（垂直柱状图）\n\t\t- x 轴：手机名称\n\t\t- y 轴：评价数量\n\t- 手机价格 TOP10（垂直柱状图）\n\t\t- x 轴：手机名称\n\t\t- y 轴：手机价格\n- Python 实现上面三个例子（)\n- 例子讨论与总结\n\n## 数据建模案例\n\n- 需求：建立一个模型，使模型能够根据手机图片，预测手机品牌。\n\t- 模型的输入为手机图片，输出为手机品牌\n\t- 图片来源：通过下载《国美 - 商品列表 - 手机数据采集.csv》中的图片（要自己下载，可通过你认为最快的方式）\n- DM（AI）实现\n- Keras 实现\n- 例子讨论与总结\n\n## 课程作业\n\n- 完善例子，并提交实验报告和录屏（将你做实验的过程录屏），截止日期：下周上课之前（11.7 之前）\n- 如果有问题，请及时在 QQ 群里反馈（上传录屏 + 问题说明）\n\n## UDI 测试要求\n\n数据集：《Day02 - 国美 - 商品列表 - 手机数据采集.csv》  \n![static/attachment/Pasted image 20221024224926.png](/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png)\n\n- UDI 实现\n\t- 去除“价格”中的￥符号\n\t- 提取“标题”中的手机品牌，如 Apple、苹果、华为）\n\t- 合并相同品牌，如将“Apple”和“苹果”合并为“苹果”\n\t- 类型转换：将去除“￥”的“价格”字段转换为 float\n\t- 类型转换：将“评价数”字段转换为 float\n\n期望输出：\n\n1. 每个步骤为一个转换，并录屏（.mp4)\n\n需要的资源：  \n\n- 软件地址：<http://idis-micro.uniplore.cn/>\n- 给每个人分配账号\n- <https://docs.uniplore.cn/>\n","slug":"02-商业数据分析中四大问题入门","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02int0007iwv92r3ghshg","content":"<h1>Day02 - 商业数据分析中四大问题案例实践</h1>\n<h2 id=\"商业数据分析入门案例\">商业数据分析入门案例</h2>\n<h3 id=\"数据采集案例\">数据采集案例</h3>\n<ul>\n<li>八爪鱼爬取国美手机数据（自动）\n<ul>\n<li>演示（输出数据集：国美 - 商品列表 - 手机数据采集.csv）</li>\n<li>学生动手感受</li>\n</ul>\n</li>\n<li>python 爬取百度热搜 TOP10（手动）\n<ul>\n<li>演示</li>\n<li>学生动手感受</li>\n</ul>\n</li>\n<li>八爪鱼爬取百度热搜 TOP10（手动）</li>\n<li>例子讨论与总结</li>\n</ul>\n<h2 id=\"数据处理案例\">数据处理案例</h2>\n<p>本节使用的数据是“国美 - 商品列表 - 手机数据采集.csv”，样例：<img src=\"/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png\" alt=\"static/attachment/Pasted image 20221024224926.png\"></p>\n<ul>\n<li>UDI 实现\n<ul>\n<li>去除“价格”中的￥符号</li>\n<li>提取“标题”中的手机品牌，如 Apple、苹果、华为）</li>\n<li>合并相同品牌，如将“Apple”和“苹果”合并为“苹果”</li>\n<li>类型转换：将去除“￥”的“价格”字段转换为 float</li>\n<li>类型转换：将“评价数”字段转换为 float</li>\n</ul>\n</li>\n<li>Pandas 实现上面例子</li>\n<li>例子总结与讨论</li>\n</ul>\n<h2 id=\"数据分析案例\">数据分析案例</h2>\n<ul>\n<li>VA 实现（2022-11-07 作业）\n<ul>\n<li>各类手机的平均价格柱状图\n<ul>\n<li>x 轴：手机类别（如苹果、华为、…），且能够修改轴标签（修改为手机类别）</li>\n<li>y 轴：平均价格，且能够修改轴标签（修改为平均价格）</li>\n</ul>\n</li>\n<li>手机评价数 TOP10（垂直柱状图）\n<ul>\n<li>x 轴：手机名称</li>\n<li>y 轴：评价数量</li>\n</ul>\n</li>\n<li>手机价格 TOP10（垂直柱状图）\n<ul>\n<li>x 轴：手机名称</li>\n<li>y 轴：手机价格</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Python 实现上面三个例子（)</li>\n<li>例子讨论与总结</li>\n</ul>\n<h2 id=\"数据建模案例\">数据建模案例</h2>\n<ul>\n<li>需求：建立一个模型，使模型能够根据手机图片，预测手机品牌。\n<ul>\n<li>模型的输入为手机图片，输出为手机品牌</li>\n<li>图片来源：通过下载《国美 - 商品列表 - 手机数据采集.csv》中的图片（要自己下载，可通过你认为最快的方式）</li>\n</ul>\n</li>\n<li>DM（AI）实现</li>\n<li>Keras 实现</li>\n<li>例子讨论与总结</li>\n</ul>\n<h2 id=\"课程作业\">课程作业</h2>\n<ul>\n<li>完善例子，并提交实验报告和录屏（将你做实验的过程录屏），截止日期：下周上课之前（11.7 之前）</li>\n<li>如果有问题，请及时在 QQ 群里反馈（上传录屏 + 问题说明）</li>\n</ul>\n<h2 id=\"UDI-测试要求\">UDI 测试要求</h2>\n<p>数据集：《Day02 - 国美 - 商品列表 - 手机数据采集.csv》<br>\n<img src=\"/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png\" alt=\"static/attachment/Pasted image 20221024224926.png\"></p>\n<ul>\n<li>UDI 实现\n<ul>\n<li>去除“价格”中的￥符号</li>\n<li>提取“标题”中的手机品牌，如 Apple、苹果、华为）</li>\n<li>合并相同品牌，如将“Apple”和“苹果”合并为“苹果”</li>\n<li>类型转换：将去除“￥”的“价格”字段转换为 float</li>\n<li>类型转换：将“评价数”字段转换为 float</li>\n</ul>\n</li>\n</ul>\n<p>期望输出：</p>\n<ol>\n<li>每个步骤为一个转换，并录屏（.mp4)</li>\n</ol>\n<p>需要的资源：</p>\n<ul>\n<li>软件地址：<a href=\"http://idis-micro.uniplore.cn/\">http://idis-micro.uniplore.cn/</a></li>\n<li>给每个人分配账号</li>\n<li><a href=\"https://docs.uniplore.cn/\">https://docs.uniplore.cn/</a></li>\n</ul>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover8.JPG","excerpt":"","more":"<h1>Day02 - 商业数据分析中四大问题案例实践</h1>\n<h2 id=\"商业数据分析入门案例\">商业数据分析入门案例</h2>\n<h3 id=\"数据采集案例\">数据采集案例</h3>\n<ul>\n<li>八爪鱼爬取国美手机数据（自动）\n<ul>\n<li>演示（输出数据集：国美 - 商品列表 - 手机数据采集.csv）</li>\n<li>学生动手感受</li>\n</ul>\n</li>\n<li>python 爬取百度热搜 TOP10（手动）\n<ul>\n<li>演示</li>\n<li>学生动手感受</li>\n</ul>\n</li>\n<li>八爪鱼爬取百度热搜 TOP10（手动）</li>\n<li>例子讨论与总结</li>\n</ul>\n<h2 id=\"数据处理案例\">数据处理案例</h2>\n<p>本节使用的数据是“国美 - 商品列表 - 手机数据采集.csv”，样例：<img src=\"/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png\" alt=\"static/attachment/Pasted image 20221024224926.png\"></p>\n<ul>\n<li>UDI 实现\n<ul>\n<li>去除“价格”中的￥符号</li>\n<li>提取“标题”中的手机品牌，如 Apple、苹果、华为）</li>\n<li>合并相同品牌，如将“Apple”和“苹果”合并为“苹果”</li>\n<li>类型转换：将去除“￥”的“价格”字段转换为 float</li>\n<li>类型转换：将“评价数”字段转换为 float</li>\n</ul>\n</li>\n<li>Pandas 实现上面例子</li>\n<li>例子总结与讨论</li>\n</ul>\n<h2 id=\"数据分析案例\">数据分析案例</h2>\n<ul>\n<li>VA 实现（2022-11-07 作业）\n<ul>\n<li>各类手机的平均价格柱状图\n<ul>\n<li>x 轴：手机类别（如苹果、华为、…），且能够修改轴标签（修改为手机类别）</li>\n<li>y 轴：平均价格，且能够修改轴标签（修改为平均价格）</li>\n</ul>\n</li>\n<li>手机评价数 TOP10（垂直柱状图）\n<ul>\n<li>x 轴：手机名称</li>\n<li>y 轴：评价数量</li>\n</ul>\n</li>\n<li>手机价格 TOP10（垂直柱状图）\n<ul>\n<li>x 轴：手机名称</li>\n<li>y 轴：手机价格</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Python 实现上面三个例子（)</li>\n<li>例子讨论与总结</li>\n</ul>\n<h2 id=\"数据建模案例\">数据建模案例</h2>\n<ul>\n<li>需求：建立一个模型，使模型能够根据手机图片，预测手机品牌。\n<ul>\n<li>模型的输入为手机图片，输出为手机品牌</li>\n<li>图片来源：通过下载《国美 - 商品列表 - 手机数据采集.csv》中的图片（要自己下载，可通过你认为最快的方式）</li>\n</ul>\n</li>\n<li>DM（AI）实现</li>\n<li>Keras 实现</li>\n<li>例子讨论与总结</li>\n</ul>\n<h2 id=\"课程作业\">课程作业</h2>\n<ul>\n<li>完善例子，并提交实验报告和录屏（将你做实验的过程录屏），截止日期：下周上课之前（11.7 之前）</li>\n<li>如果有问题，请及时在 QQ 群里反馈（上传录屏 + 问题说明）</li>\n</ul>\n<h2 id=\"UDI-测试要求\">UDI 测试要求</h2>\n<p>数据集：《Day02 - 国美 - 商品列表 - 手机数据采集.csv》<br>\n<img src=\"/images/9fad67167f6334ea6ee48458e2d6c189b2868d5e.png\" alt=\"static/attachment/Pasted image 20221024224926.png\"></p>\n<ul>\n<li>UDI 实现\n<ul>\n<li>去除“价格”中的￥符号</li>\n<li>提取“标题”中的手机品牌，如 Apple、苹果、华为）</li>\n<li>合并相同品牌，如将“Apple”和“苹果”合并为“苹果”</li>\n<li>类型转换：将去除“￥”的“价格”字段转换为 float</li>\n<li>类型转换：将“评价数”字段转换为 float</li>\n</ul>\n</li>\n</ul>\n<p>期望输出：</p>\n<ol>\n<li>每个步骤为一个转换，并录屏（.mp4)</li>\n</ol>\n<p>需要的资源：</p>\n<ul>\n<li>软件地址：<a href=\"http://idis-micro.uniplore.cn/\">http://idis-micro.uniplore.cn/</a></li>\n<li>给每个人分配账号</li>\n<li><a href=\"https://docs.uniplore.cn/\">https://docs.uniplore.cn/</a></li>\n</ul>\n"},{"title":"03 课程内容安排","date":"2022-11-07T07:08:36.000Z","updated":"2022-11-25T10:19:04.000Z","aliases":["03 课程内容安排"],"_content":"\n\n\n## 今日课程内容安排\n\n- 数据可视化例子（接上节课），参考视频 \"02-10 数据可视化.mp4\"（2022-11-07 作业）\n\t- 实施步骤：\n\t\t- 将处理好的数据导出数据到 csv 并验证导出数据 (~1:22)\n\t\t- 加载 .csv 到 数据库 (1:22-6:48)-（navicat 导入）\n\t\t\t- 建立工作流（1:22-5:24）\n\t\t\t- 创建目标表（5:28-11:22）\n\t\t\t- 配置数据库（13:37-18:00)\n\t\t\t\t- 修改字段大小（16：50)(因为事先建立的表无法存储完那么多字段）\n\t\t\t- 执行配置\n\t\t- 配置数据源（18:12)\n\t\t- 配置数据集（18:40）\n\t\t- 制作图表 1（20:16) - 各类手机平均价格图\n\t\t- 制作图表 2、3（21:49) - TOP10 (不完善，下去自行完善）\n- 手机品牌预测模型建立\n\t- <a href='{% post_path 03-线性回归原理分析及实现 %}'>03-线性回归原理分析及实现</a>\n\t\t- TensorFlow 实现\n\t\t- DM 实现（2022-11-07 作业）（完）\n\t- <a href='{% post_path 04-手机品牌识别之神经网络 %}'>04-手机品牌识别之神经网络</a>  \n","source":"_posts/03课程内容安排.md","raw":"---\ntitle: 03 课程内容安排\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-11-07 15:08:36 \nupdated: 2022-11-25 18:19:04 \naliases:\n  - 03 课程内容安排\n---\n\n\n\n## 今日课程内容安排\n\n- 数据可视化例子（接上节课），参考视频 \"02-10 数据可视化.mp4\"（2022-11-07 作业）\n\t- 实施步骤：\n\t\t- 将处理好的数据导出数据到 csv 并验证导出数据 (~1:22)\n\t\t- 加载 .csv 到 数据库 (1:22-6:48)-（navicat 导入）\n\t\t\t- 建立工作流（1:22-5:24）\n\t\t\t- 创建目标表（5:28-11:22）\n\t\t\t- 配置数据库（13:37-18:00)\n\t\t\t\t- 修改字段大小（16：50)(因为事先建立的表无法存储完那么多字段）\n\t\t\t- 执行配置\n\t\t- 配置数据源（18:12)\n\t\t- 配置数据集（18:40）\n\t\t- 制作图表 1（20:16) - 各类手机平均价格图\n\t\t- 制作图表 2、3（21:49) - TOP10 (不完善，下去自行完善）\n- 手机品牌预测模型建立\n\t- <a href='{% post_path 03-线性回归原理分析及实现 %}'>03-线性回归原理分析及实现</a>\n\t\t- TensorFlow 实现\n\t\t- DM 实现（2022-11-07 作业）（完）\n\t- <a href='{% post_path 04-手机品牌识别之神经网络 %}'>04-手机品牌识别之神经网络</a>  \n","slug":"03课程内容安排","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02int0008iwv9hstk49le","content":"<h2 id=\"今日课程内容安排\">今日课程内容安排</h2>\n<ul>\n<li>数据可视化例子（接上节课），参考视频 “02-10 数据可视化.mp4”（2022-11-07 作业）\n<ul>\n<li>实施步骤：\n<ul>\n<li>将处理好的数据导出数据到 csv 并验证导出数据 (~1:22)</li>\n<li>加载 .csv 到 数据库 (1:22-6:48)-（navicat 导入）\n<ul>\n<li>建立工作流（1:22-5:24）</li>\n<li>创建目标表（5:28-11:22）</li>\n<li>配置数据库（13:37-18:00)\n<ul>\n<li>修改字段大小（16：50)(因为事先建立的表无法存储完那么多字段）</li>\n</ul>\n</li>\n<li>执行配置</li>\n</ul>\n</li>\n<li>配置数据源（18:12)</li>\n<li>配置数据集（18:40）</li>\n<li>制作图表 1（20:16) - 各类手机平均价格图</li>\n<li>制作图表 2、3（21:49) - TOP10 (不完善，下去自行完善）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>手机品牌预测模型建立\n<ul>\n<li><a href='/uncategorized/63f8e4648fec.html'>03-线性回归原理分析及实现</a>\n<ul>\n<li>TensorFlow 实现</li>\n<li>DM 实现（2022-11-07 作业）（完）</li>\n</ul>\n</li>\n<li><a href='/uncategorized/316ec7ed5cda.html'>04-手机品牌识别之神经网络</a></li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover5.JPG","excerpt":"","more":"<h2 id=\"今日课程内容安排\">今日课程内容安排</h2>\n<ul>\n<li>数据可视化例子（接上节课），参考视频 “02-10 数据可视化.mp4”（2022-11-07 作业）\n<ul>\n<li>实施步骤：\n<ul>\n<li>将处理好的数据导出数据到 csv 并验证导出数据 (~1:22)</li>\n<li>加载 .csv 到 数据库 (1:22-6:48)-（navicat 导入）\n<ul>\n<li>建立工作流（1:22-5:24）</li>\n<li>创建目标表（5:28-11:22）</li>\n<li>配置数据库（13:37-18:00)\n<ul>\n<li>修改字段大小（16：50)(因为事先建立的表无法存储完那么多字段）</li>\n</ul>\n</li>\n<li>执行配置</li>\n</ul>\n</li>\n<li>配置数据源（18:12)</li>\n<li>配置数据集（18:40）</li>\n<li>制作图表 1（20:16) - 各类手机平均价格图</li>\n<li>制作图表 2、3（21:49) - TOP10 (不完善，下去自行完善）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>手机品牌预测模型建立\n<ul>\n<li><a href='/uncategorized/63f8e4648fec.html'>03-线性回归原理分析及实现</a>\n<ul>\n<li>TensorFlow 实现</li>\n<li>DM 实现（2022-11-07 作业）（完）</li>\n</ul>\n</li>\n<li><a href='/uncategorized/316ec7ed5cda.html'>04-手机品牌识别之神经网络</a></li>\n</ul>\n</li>\n</ul>\n"},{"title":"04-手机品牌识别之神经网络","date":"2022-11-02T00:35:44.000Z","updated":"2022-11-25T10:19:08.000Z","aliases":["04-手机品牌识别之神经网络"],"_content":"\n\n\n## 目标\n\n给定图片的集合 $x=\\{ x_1,\\dots,x_n \\}$ 与图片的分类 $y=\\{y_1,\\dots,y_n \\}$, 我们想要求解出一个模型 \n$$\\begin{gather}  \n  f: R \\rightarrow R, \\\\  \n  f(x)=y,\\\\ s.t. x,y \\in R  \n  \\end{gather}  \n  $$\n 该模型能够根据图片 $x$ 预测图片的类型 $y$. $(x_1,y_1)$ 表示图片 $x_1$ 对应的类别为 $y_1$；$x_i$ 可能取值 $x_i=\\{ 1,120,\\dots,255\\}$, $y_i=\\{0.2,0.3,0.5,0.1\\}$, $softmax(y_i)=\\{0,0,1,0\\}$\n\n- 举例说明\n\t- 建立一个模型，输入是手机图片，输出是手机类别\n\t- 输入图片\n\t\t- ![static/attachment/Pasted image 20221107230429.png](/images/96ae3924006f3a11007207d031717463b3bbac6c.png)\n\t- 输出\n\t\t- 苹果 (手机类别)\n\n## 案例引入 - 神经网络\n\n- 一元一次方程  \n\t- $y=ax+b=b+ax=\\theta_0+\\theta_1 x=w*x+b$\n\t- $b$、$\\theta_0$ 等价，$a$、$\\theta_1$、$w$ 等价\n\t- 我们理解为\n\t\t- x 通过一个黑盒，得到了 y\n\t\t\t- ![static/attachment/Pasted image 20221107153211.png](/images/f8f413892356a5dff1d989153e2fd65a0d4a92f0.png)\n- 二元一次方程\n\t- $y=w_1*x_1+w_2*x_2+b$\n\t- 我们理解为：\n\t\t- $x_1,x_2$ 通过一个黑盒，得到了 $y$\n\t\t\t- ![static/attachment/Pasted image 20221107153235.png](/images/b517688cf5875de82bd1deea8f8764bff7b90ed9.png)\n- 一元二次方程黑盒变体\n\t- 理解为：\n\t\t- $x_1, x_2$ 分别通过两个黑盒得到 $a_{11},a_{12}$, 然后 $a_{11},a_{12}$ 通过黑盒得到 $y$.\n\t\t- ![static/attachment/Pasted image 20221107153324.png](/images/7faedcf60c808cf866cebddf14a848839eefd236.png)\n- 一元二次方程黑盒变体=神经网络\n\t- 一个隐藏层的神经网络\n\t- ![static/attachment/Pasted image 20221107153417.png](/images/6a5e676a58d9059a7a290844beba2e1558f7c0f4.png)\n- 计算例子举例\n\t- 假设输入 $x_1=(2,3)$，任意初始化 $w_{11},w_{12},w_{21}$，计算 $y$\n- 多个隐藏层的神经网络\n\t- ![Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.06.56.excalidraw](/images/41336b345043a6284b7e11eef7d59b0cd67aaf69.excalidraw)\n\t- ![static/attachment/Pasted image 20221107231726.png](/images/cfcdf117dd1192b8c7003cb0b2a3bd30e97803fc.png)\n\t- 如何计算?\n\n## 基础 - One-hot 编码\n\n- 机器学习两类特殊问题\n\t- 分类任务 (手机类型识别) (本例)\n\t- 回归任务 (房价预测) ✅\n- 图片分类如何表示\n\t- 假设我们手机只有 4 类\n\t\t- 苹果 1\n\t\t- 华为 2\n\t\t- 荣耀 3\n\t\t- 其他\n\t- 那么, 在**数学 (机器学习)**中如何表示其类别呢?\n\t\t- one-hot 编码\n\t- one-hot 编码\n\t\t- 用于在多分类数据中表示目标的类别\n\t\t- 例如: 对于这些手机图片:\n\t\t- ![static/attachment/Pasted image 20221107153612.png](/images/c5475754c914e4fc8616218ea075f6aed92d8bc7.png)\n\t\t- 假设我们只有 4 类\n\t\t\t- 苹果\n\t\t\t- 华为\n\t\t\t- 荣耀\n\t\t\t- 其他\n\t\t- one-hot 编码表示为:\n\t\t\t- ![static/attachment/Pasted image 20221107232253.png](/images/05f25e6b5715fb1458d1c2bbe5ffb845e96ceb18.png)\n\n## 基础 - 扁平化\n\n- 图片扁平化\n\t- 指将矩阵形式的图片 (如 $28*28*3$ 的图片) 编程 $vector$ (一维向量)\n\t- 如:\n\t\t- 将正方形的图片矩阵表示为一个向量\n\t\t- ![Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.29.59.excalidraw](/images/96b79af77e21898b2cc59b61acb2c6402513e7d6.excalidraw)\n\t\t- ![static/attachment/Pasted image 20221107153753.png](/images/7e75b5d82750938cf1c4f52908c1a4c3ecdc8095.png)\n\n## 基础 - 交叉熵\n\n- 如何判断模型输出 (one-hot) 和标签之间 (one-hot) 的差距\n\t- 假设\n\t\t- 图片标签（真实）:$[[1,0,0,0]]$\n\t\t- 预测标签（机器识别的结果）: $[[0.1,0.7,0.1,0.1]]$\n\t\t- ![Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.38.25.excalidraw](/images/915bb275a7afd3498a134078419a3dbb2247cae7.excalidraw)\n\t\t- 如何判断这两个结果之间的差距呢?\n\t\t- 交叉熵：可通过 **交叉熵** 来判断真实和预测的差距\n\t\t\t- $l o s s=-\\sum_{i=1}^C y_i \\log f_i(x)$\n\t\t\t- $x$ 是图片数据, $y_i$ 是第 $i$ 个类别的标签值, $f_i(x)$ 是第 $i$ 个类别的预测的结果, $C$ 是类别\n\t\t\t- 手动计算上面的例子\n\t\t- 计算演示（全自动调库计算）![static/attachment/Pasted image 20221107154220.png](/images/23e4df4bf1de153009fd961cdc0f186257e092b8.png)\n\t\t- 计算演示（半自动调库运算）\n\t\t\t- ![static/attachment/Pasted image 20221107154256.png](/images/6aa176a56ce7d5a5af1d22a91e141759c7938da6.png)\n\t- 交叉熵的大小与预测结果的关系\n\t\t- 假设我们的预测结果完全正确时与完成错误时,对比熵值大小\n\t\t\t- ![static/attachment/Pasted image 20221107154349.png](/images/213d86fb49e1239668dee499bd5d7b236fe795e2.png)\n\t- 交叉熵的意义\n\t\t- 在相同事件空间里，概率分布 P(x) 对应的每个事件，若用概率分布 Q(x) 编码时，平均每个基本事件（符号）编码长度增加了多少比特\n\n## 模型定义\n\n- 模型表示\n\t- 神经网络 (neuron), $f=h_{\\theta}(x)$\n\t- ![static/attachment/Pasted image 20221114144149.png](/images/4e3a669077936ea7c6f19d682c3362be9fc1c270.png)\n\t- 代码表示:\n\t\t- ![static/attachment/Pasted image 20221107233741.png](/images/5ebb3bddccb1817a247ec3c30ce88189c5d988cb.png)\n- 损失函数\n\t- 交叉熵 $\\operatorname{loss}=-\\frac{1}{n}\\sum _j ^N \\sum_{i=1}^C y_i \\log f_i(x)$\n\t- $j$ 表示图片的编号, $i$ 表示类别的编号, $C$ 表示所有的类别\n\t- 举个例子说明一下\n- 目标转换\n\t- 最小化损失 $loss$\n\t- 如何求: 梯度下降\n- 梯度下降的步骤\n\t- 初始化 $w,b$ 为任意值，如 $w=<a href='{% post_path 0,0,\\dots,0 %}'>0,0,\\dots,0</a>,b=[0,\\dots,0]$\n\t\t- 计算当前 $w,b$ 对应的损失. 这的 $w=\\{w_{ij}\\}$, $i$ 表示网络的层数,$j$ 表示第 $i$ 层网络的序号.\n\t\t- 分别计算 loss 对 $w,b$ 的梯度 $d_w, d_b$（偏导数）\n\t\t- 更新 $w$ 和 $b$ 直到：（训练（fit): 逐渐更新 $w,b$ 的过程）\n\t\t\t- 策略 1：loss 不在降低\n\t\t\t- 策略 2：**迭代到指定次数（本文采用）**\n\t\t\t- \n$$\\begin{gather} \\\\\n\t\t\t  w=w-\\alpha*d_w, \\\\\n\t\t\t  b=b-\\alpha*d_b\\\\\n\t\t\t  s.t. \\alpha \\in [0,1]\n\t\t\t  \\end{gather}$$\n\n\n\t\t\t- $\\alpha$ 学习率（超参数：手工设置的，模型参数：能通过数据学到的 ($w,b$)\n\n## 模型实现\n\n- 数据准备\n- 模型建立\n- 模型训练\n- 模型评估\n- 预测结果\n\n## 案例说明\n\n- 这个例子用于演示。\n\t- 例子：为了简单起见，例子不区分训练集和测试集，训练和预测均在同一个数据集上完成\n\t- 实际：实际中，训练集和测试集是分开的，测试集不参与训练  \n\n模型实现: [04-03 手机类型识别-BP神经网络.ipynb](http://127.0.0.1:8888/lab/workspaces/auto-q/tree/商业数据分析/Day04%20-%20神经网络/04-03%20手机类型识别-BP神经网络.ipynb)\n\n## 其他说明\n\nAI 没法用 <a href='{% post_path AI 环境说明 %}'>AI 环境说明</a>\n","source":"_posts/04-手机品牌识别之神经网络.md","raw":"---\ntitle: 04-手机品牌识别之神经网络\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-11-02 08:35:44 \nupdated: 2022-11-25 18:19:08 \naliases:\n  - 04-手机品牌识别之神经网络\n---\n\n\n\n## 目标\n\n给定图片的集合 $x=\\{ x_1,\\dots,x_n \\}$ 与图片的分类 $y=\\{y_1,\\dots,y_n \\}$, 我们想要求解出一个模型 \n$$\\begin{gather}  \n  f: R \\rightarrow R, \\\\  \n  f(x)=y,\\\\ s.t. x,y \\in R  \n  \\end{gather}  \n  $$\n 该模型能够根据图片 $x$ 预测图片的类型 $y$. $(x_1,y_1)$ 表示图片 $x_1$ 对应的类别为 $y_1$；$x_i$ 可能取值 $x_i=\\{ 1,120,\\dots,255\\}$, $y_i=\\{0.2,0.3,0.5,0.1\\}$, $softmax(y_i)=\\{0,0,1,0\\}$\n\n- 举例说明\n\t- 建立一个模型，输入是手机图片，输出是手机类别\n\t- 输入图片\n\t\t- ![static/attachment/Pasted image 20221107230429.png](/images/96ae3924006f3a11007207d031717463b3bbac6c.png)\n\t- 输出\n\t\t- 苹果 (手机类别)\n\n## 案例引入 - 神经网络\n\n- 一元一次方程  \n\t- $y=ax+b=b+ax=\\theta_0+\\theta_1 x=w*x+b$\n\t- $b$、$\\theta_0$ 等价，$a$、$\\theta_1$、$w$ 等价\n\t- 我们理解为\n\t\t- x 通过一个黑盒，得到了 y\n\t\t\t- ![static/attachment/Pasted image 20221107153211.png](/images/f8f413892356a5dff1d989153e2fd65a0d4a92f0.png)\n- 二元一次方程\n\t- $y=w_1*x_1+w_2*x_2+b$\n\t- 我们理解为：\n\t\t- $x_1,x_2$ 通过一个黑盒，得到了 $y$\n\t\t\t- ![static/attachment/Pasted image 20221107153235.png](/images/b517688cf5875de82bd1deea8f8764bff7b90ed9.png)\n- 一元二次方程黑盒变体\n\t- 理解为：\n\t\t- $x_1, x_2$ 分别通过两个黑盒得到 $a_{11},a_{12}$, 然后 $a_{11},a_{12}$ 通过黑盒得到 $y$.\n\t\t- ![static/attachment/Pasted image 20221107153324.png](/images/7faedcf60c808cf866cebddf14a848839eefd236.png)\n- 一元二次方程黑盒变体=神经网络\n\t- 一个隐藏层的神经网络\n\t- ![static/attachment/Pasted image 20221107153417.png](/images/6a5e676a58d9059a7a290844beba2e1558f7c0f4.png)\n- 计算例子举例\n\t- 假设输入 $x_1=(2,3)$，任意初始化 $w_{11},w_{12},w_{21}$，计算 $y$\n- 多个隐藏层的神经网络\n\t- ![Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.06.56.excalidraw](/images/41336b345043a6284b7e11eef7d59b0cd67aaf69.excalidraw)\n\t- ![static/attachment/Pasted image 20221107231726.png](/images/cfcdf117dd1192b8c7003cb0b2a3bd30e97803fc.png)\n\t- 如何计算?\n\n## 基础 - One-hot 编码\n\n- 机器学习两类特殊问题\n\t- 分类任务 (手机类型识别) (本例)\n\t- 回归任务 (房价预测) ✅\n- 图片分类如何表示\n\t- 假设我们手机只有 4 类\n\t\t- 苹果 1\n\t\t- 华为 2\n\t\t- 荣耀 3\n\t\t- 其他\n\t- 那么, 在**数学 (机器学习)**中如何表示其类别呢?\n\t\t- one-hot 编码\n\t- one-hot 编码\n\t\t- 用于在多分类数据中表示目标的类别\n\t\t- 例如: 对于这些手机图片:\n\t\t- ![static/attachment/Pasted image 20221107153612.png](/images/c5475754c914e4fc8616218ea075f6aed92d8bc7.png)\n\t\t- 假设我们只有 4 类\n\t\t\t- 苹果\n\t\t\t- 华为\n\t\t\t- 荣耀\n\t\t\t- 其他\n\t\t- one-hot 编码表示为:\n\t\t\t- ![static/attachment/Pasted image 20221107232253.png](/images/05f25e6b5715fb1458d1c2bbe5ffb845e96ceb18.png)\n\n## 基础 - 扁平化\n\n- 图片扁平化\n\t- 指将矩阵形式的图片 (如 $28*28*3$ 的图片) 编程 $vector$ (一维向量)\n\t- 如:\n\t\t- 将正方形的图片矩阵表示为一个向量\n\t\t- ![Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.29.59.excalidraw](/images/96b79af77e21898b2cc59b61acb2c6402513e7d6.excalidraw)\n\t\t- ![static/attachment/Pasted image 20221107153753.png](/images/7e75b5d82750938cf1c4f52908c1a4c3ecdc8095.png)\n\n## 基础 - 交叉熵\n\n- 如何判断模型输出 (one-hot) 和标签之间 (one-hot) 的差距\n\t- 假设\n\t\t- 图片标签（真实）:$[[1,0,0,0]]$\n\t\t- 预测标签（机器识别的结果）: $[[0.1,0.7,0.1,0.1]]$\n\t\t- ![Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.38.25.excalidraw](/images/915bb275a7afd3498a134078419a3dbb2247cae7.excalidraw)\n\t\t- 如何判断这两个结果之间的差距呢?\n\t\t- 交叉熵：可通过 **交叉熵** 来判断真实和预测的差距\n\t\t\t- $l o s s=-\\sum_{i=1}^C y_i \\log f_i(x)$\n\t\t\t- $x$ 是图片数据, $y_i$ 是第 $i$ 个类别的标签值, $f_i(x)$ 是第 $i$ 个类别的预测的结果, $C$ 是类别\n\t\t\t- 手动计算上面的例子\n\t\t- 计算演示（全自动调库计算）![static/attachment/Pasted image 20221107154220.png](/images/23e4df4bf1de153009fd961cdc0f186257e092b8.png)\n\t\t- 计算演示（半自动调库运算）\n\t\t\t- ![static/attachment/Pasted image 20221107154256.png](/images/6aa176a56ce7d5a5af1d22a91e141759c7938da6.png)\n\t- 交叉熵的大小与预测结果的关系\n\t\t- 假设我们的预测结果完全正确时与完成错误时,对比熵值大小\n\t\t\t- ![static/attachment/Pasted image 20221107154349.png](/images/213d86fb49e1239668dee499bd5d7b236fe795e2.png)\n\t- 交叉熵的意义\n\t\t- 在相同事件空间里，概率分布 P(x) 对应的每个事件，若用概率分布 Q(x) 编码时，平均每个基本事件（符号）编码长度增加了多少比特\n\n## 模型定义\n\n- 模型表示\n\t- 神经网络 (neuron), $f=h_{\\theta}(x)$\n\t- ![static/attachment/Pasted image 20221114144149.png](/images/4e3a669077936ea7c6f19d682c3362be9fc1c270.png)\n\t- 代码表示:\n\t\t- ![static/attachment/Pasted image 20221107233741.png](/images/5ebb3bddccb1817a247ec3c30ce88189c5d988cb.png)\n- 损失函数\n\t- 交叉熵 $\\operatorname{loss}=-\\frac{1}{n}\\sum _j ^N \\sum_{i=1}^C y_i \\log f_i(x)$\n\t- $j$ 表示图片的编号, $i$ 表示类别的编号, $C$ 表示所有的类别\n\t- 举个例子说明一下\n- 目标转换\n\t- 最小化损失 $loss$\n\t- 如何求: 梯度下降\n- 梯度下降的步骤\n\t- 初始化 $w,b$ 为任意值，如 $w=<a href='{% post_path 0,0,\\dots,0 %}'>0,0,\\dots,0</a>,b=[0,\\dots,0]$\n\t\t- 计算当前 $w,b$ 对应的损失. 这的 $w=\\{w_{ij}\\}$, $i$ 表示网络的层数,$j$ 表示第 $i$ 层网络的序号.\n\t\t- 分别计算 loss 对 $w,b$ 的梯度 $d_w, d_b$（偏导数）\n\t\t- 更新 $w$ 和 $b$ 直到：（训练（fit): 逐渐更新 $w,b$ 的过程）\n\t\t\t- 策略 1：loss 不在降低\n\t\t\t- 策略 2：**迭代到指定次数（本文采用）**\n\t\t\t- \n$$\\begin{gather} \\\\\n\t\t\t  w=w-\\alpha*d_w, \\\\\n\t\t\t  b=b-\\alpha*d_b\\\\\n\t\t\t  s.t. \\alpha \\in [0,1]\n\t\t\t  \\end{gather}$$\n\n\n\t\t\t- $\\alpha$ 学习率（超参数：手工设置的，模型参数：能通过数据学到的 ($w,b$)\n\n## 模型实现\n\n- 数据准备\n- 模型建立\n- 模型训练\n- 模型评估\n- 预测结果\n\n## 案例说明\n\n- 这个例子用于演示。\n\t- 例子：为了简单起见，例子不区分训练集和测试集，训练和预测均在同一个数据集上完成\n\t- 实际：实际中，训练集和测试集是分开的，测试集不参与训练  \n\n模型实现: [04-03 手机类型识别-BP神经网络.ipynb](http://127.0.0.1:8888/lab/workspaces/auto-q/tree/商业数据分析/Day04%20-%20神经网络/04-03%20手机类型识别-BP神经网络.ipynb)\n\n## 其他说明\n\nAI 没法用 <a href='{% post_path AI 环境说明 %}'>AI 环境说明</a>\n","slug":"04-手机品牌识别之神经网络","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02inu000aiwv9cheo0iaj","content":"<h2 id=\"目标\">目标</h2>\n<p>给定图片的集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x=\\{ x_1,\\dots,x_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> 与图片的分类 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y=\\{y_1,\\dots,y_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, 我们想要求解出一个模型</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"center\" columnspacing=\"0em\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>f</mi><mo>:</mo><mi>R</mi><mo>→</mo><mi>R</mi><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>y</mi><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>t</mi><mi mathvariant=\"normal\">.</mi><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo>∈</mo><mi>R</mi></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gather}  \n  f: R \\rightarrow R, \\\\  \n  f(x)=y,\\\\ s.t. x,y \\in R  \n  \\end{gather}  \n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.5em;vertical-align:-2em;\"></span><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5em;\"><span style=\"top:-4.66em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-3.16em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-1.66em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">t</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5em;\"><span style=\"top:-4.5em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-1.5em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2em;\"><span></span></span></span></span></span></span></span></span></p>\n<p>该模型能够根据图片 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 预测图片的类型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>. <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x_1,y_1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 表示图片 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 对应的类别为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">y_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>；<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 可能取值 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>120</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>255</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x_i=\\{ 1,120,\\dots,255\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">120</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">255</span><span class=\"mclose\">}</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mn>0.2</mn><mo separator=\"true\">,</mo><mn>0.3</mn><mo separator=\"true\">,</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0.1</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y_i=\\{0.2,0.3,0.5,0.1\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">0.2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.3</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.1</span><span class=\"mclose\">}</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">{</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">softmax(y_i)=\\{0,0,1,0\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">so</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">ma</span><span class=\"mord mathnormal\">x</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">}</span></span></span></span></p>\n<ul>\n<li>举例说明\n<ul>\n<li>建立一个模型，输入是手机图片，输出是手机类别</li>\n<li>输入图片\n<ul>\n<li><img src=\"/images/96ae3924006f3a11007207d031717463b3bbac6c.png\" alt=\"static/attachment/Pasted image 20221107230429.png\"></li>\n</ul>\n</li>\n<li>输出\n<ul>\n<li>苹果 (手机类别)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"案例引入-神经网络\">案例引入 - 神经网络</h2>\n<ul>\n<li>一元一次方程\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>+</mo><mi>a</mi><mi>x</mi><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>x</mi><mo>=</mo><mi>w</mi><mo>∗</mo><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y=ax+b=b+ax=\\theta_0+\\theta_1 x=w*x+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 等价，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> 等价</li>\n<li>我们理解为\n<ul>\n<li>x 通过一个黑盒，得到了 y\n<ul>\n<li><img src=\"/images/f8f413892356a5dff1d989153e2fd65a0d4a92f0.png\" alt=\"static/attachment/Pasted image 20221107153211.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>二元一次方程\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><msub><mi>w</mi><mn>1</mn></msub><mo>∗</mo><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><mo>∗</mo><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y=w_1*x_1+w_2*x_2+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6153em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6153em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li>我们理解为：\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1,x_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 通过一个黑盒，得到了 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>\n<ul>\n<li><img src=\"/images/b517688cf5875de82bd1deea8f8764bff7b90ed9.png\" alt=\"static/attachment/Pasted image 20221107153235.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>一元二次方程黑盒变体\n<ul>\n<li>理解为：\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1, x_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 分别通过两个黑盒得到 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mn>11</mn></msub><mo separator=\"true\">,</mo><msub><mi>a</mi><mn>12</mn></msub></mrow><annotation encoding=\"application/x-tex\">a_{11},a_{12}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, 然后 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mn>11</mn></msub><mo separator=\"true\">,</mo><msub><mi>a</mi><mn>12</mn></msub></mrow><annotation encoding=\"application/x-tex\">a_{11},a_{12}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 通过黑盒得到 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>.</li>\n<li><img src=\"/images/7faedcf60c808cf866cebddf14a848839eefd236.png\" alt=\"static/attachment/Pasted image 20221107153324.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>一元二次方程黑盒变体=神经网络\n<ul>\n<li>一个隐藏层的神经网络</li>\n<li><img src=\"/images/6a5e676a58d9059a7a290844beba2e1558f7c0f4.png\" alt=\"static/attachment/Pasted image 20221107153417.png\"></li>\n</ul>\n</li>\n<li>计算例子举例\n<ul>\n<li>假设输入 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>3</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">x_1=(2,3)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">3</span><span class=\"mclose\">)</span></span></span></span>，任意初始化 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>w</mi><mn>11</mn></msub><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>12</mn></msub><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>21</mn></msub></mrow><annotation encoding=\"application/x-tex\">w_{11},w_{12},w_{21}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">21</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，计算 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></li>\n</ul>\n</li>\n<li>多个隐藏层的神经网络\n<ul>\n<li><img src=\"/images/41336b345043a6284b7e11eef7d59b0cd67aaf69.excalidraw\" alt=\"Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.06.56.excalidraw\"></li>\n<li><img src=\"/images/cfcdf117dd1192b8c7003cb0b2a3bd30e97803fc.png\" alt=\"static/attachment/Pasted image 20221107231726.png\"></li>\n<li>如何计算?</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"基础-One-hot-编码\">基础 - One-hot 编码</h2>\n<ul>\n<li>机器学习两类特殊问题\n<ul>\n<li>分类任务 (手机类型识别) (本例)</li>\n<li>回归任务 (房价预测) ✅</li>\n</ul>\n</li>\n<li>图片分类如何表示\n<ul>\n<li>假设我们手机只有 4 类\n<ul>\n<li>苹果 1</li>\n<li>华为 2</li>\n<li>荣耀 3</li>\n<li>其他</li>\n</ul>\n</li>\n<li>那么, 在**数学 (机器学习)**中如何表示其类别呢?\n<ul>\n<li>one-hot 编码</li>\n</ul>\n</li>\n<li>one-hot 编码\n<ul>\n<li>用于在多分类数据中表示目标的类别</li>\n<li>例如: 对于这些手机图片:</li>\n<li><img src=\"/images/c5475754c914e4fc8616218ea075f6aed92d8bc7.png\" alt=\"static/attachment/Pasted image 20221107153612.png\"></li>\n<li>假设我们只有 4 类\n<ul>\n<li>苹果</li>\n<li>华为</li>\n<li>荣耀</li>\n<li>其他</li>\n</ul>\n</li>\n<li>one-hot 编码表示为:\n<ul>\n<li><img src=\"/images/05f25e6b5715fb1458d1c2bbe5ffb845e96ceb18.png\" alt=\"static/attachment/Pasted image 20221107232253.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"基础-扁平化\">基础 - 扁平化</h2>\n<ul>\n<li>图片扁平化\n<ul>\n<li>指将矩阵形式的图片 (如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>28</mn><mo>∗</mo><mn>28</mn><mo>∗</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">28*28*3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">28</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">28</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span> 的图片) 编程 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">vector</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">ec</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">or</span></span></span></span> (一维向量)</li>\n<li>如:\n<ul>\n<li>将正方形的图片矩阵表示为一个向量</li>\n<li><img src=\"/images/96b79af77e21898b2cc59b61acb2c6402513e7d6.excalidraw\" alt=\"Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.29.59.excalidraw\"></li>\n<li><img src=\"/images/7e75b5d82750938cf1c4f52908c1a4c3ecdc8095.png\" alt=\"static/attachment/Pasted image 20221107153753.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"基础-交叉熵\">基础 - 交叉熵</h2>\n<ul>\n<li>如何判断模型输出 (one-hot) 和标签之间 (one-hot) 的差距\n<ul>\n<li>假设\n<ul>\n<li>图片标签（真实）:<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[[1,0,0,0]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[[</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">]]</span></span></span></span></li>\n<li>预测标签（机器识别的结果）: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mn>0.1</mn><mo separator=\"true\">,</mo><mn>0.7</mn><mo separator=\"true\">,</mo><mn>0.1</mn><mo separator=\"true\">,</mo><mn>0.1</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[[0.1,0.7,0.1,0.1]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[[</span><span class=\"mord\">0.1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.7</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.1</span><span class=\"mclose\">]]</span></span></span></span></li>\n<li><img src=\"/images/915bb275a7afd3498a134078419a3dbb2247cae7.excalidraw\" alt=\"Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.38.25.excalidraw\"></li>\n<li>如何判断这两个结果之间的差距呢?</li>\n<li>交叉熵：可通过 <strong>交叉熵</strong> 来判断真实和预测的差距\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>C</mi></msubsup><msub><mi>y</mi><mi>i</mi></msub><mi>log</mi><mo>⁡</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">l o s s=-\\sum_{i=1}^C y_i \\log f_i(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2809em;vertical-align:-0.2997em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 是图片数据, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">y_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 是第 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 个类别的标签值, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f_i(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span> 是第 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 个类别的预测的结果, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> 是类别</li>\n<li>手动计算上面的例子</li>\n</ul>\n</li>\n<li>计算演示（全自动调库计算）<img src=\"/images/23e4df4bf1de153009fd961cdc0f186257e092b8.png\" alt=\"static/attachment/Pasted image 20221107154220.png\"></li>\n<li>计算演示（半自动调库运算）\n<ul>\n<li><img src=\"/images/6aa176a56ce7d5a5af1d22a91e141759c7938da6.png\" alt=\"static/attachment/Pasted image 20221107154256.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>交叉熵的大小与预测结果的关系\n<ul>\n<li>假设我们的预测结果完全正确时与完成错误时,对比熵值大小\n<ul>\n<li><img src=\"/images/213d86fb49e1239668dee499bd5d7b236fe795e2.png\" alt=\"static/attachment/Pasted image 20221107154349.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>交叉熵的意义\n<ul>\n<li>在相同事件空间里，概率分布 P(x) 对应的每个事件，若用概率分布 Q(x) 编码时，平均每个基本事件（符号）编码长度增加了多少比特</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"模型定义\">模型定义</h2>\n<ul>\n<li>模型表示\n<ul>\n<li>神经网络 (neuron), <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>=</mo><msub><mi>h</mi><mi>θ</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f=h_{\\theta}(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">θ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><img src=\"/images/4e3a669077936ea7c6f19d682c3362be9fc1c270.png\" alt=\"static/attachment/Pasted image 20221114144149.png\"></li>\n<li>代码表示:\n<ul>\n<li><img src=\"/images/5ebb3bddccb1817a247ec3c30ce88189c5d988cb.png\" alt=\"static/attachment/Pasted image 20221107233741.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>损失函数\n<ul>\n<li>交叉熵 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">loss</mi><mo>⁡</mo><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mi>j</mi><mi>N</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>C</mi></msubsup><msub><mi>y</mi><mi>i</mi></msub><mi>log</mi><mo>⁡</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\operatorname{loss}=-\\frac{1}{n}\\sum _j ^N \\sum_{i=1}^C y_i \\log f_i(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">loss</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.417em;vertical-align:-0.4358em;\"></span><span class=\"mord\">−</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> 表示图片的编号, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 表示类别的编号, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> 表示所有的类别</li>\n<li>举个例子说明一下</li>\n</ul>\n</li>\n<li>目标转换\n<ul>\n<li>最小化损失 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">loss</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span></span></span></span></li>\n<li>如何求: 梯度下降</li>\n</ul>\n</li>\n<li>梯度下降的步骤\n<ul>\n<li>初始化 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 为任意值，如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>=</mo><mo>&lt;</mo><mi>a</mi><mi>h</mi><mi>r</mi><mi>e</mi><mi>f</mi><msup><mo>=</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo>&lt;</mo><mo stretchy=\"false\">!</mo><mo>−</mo><mo>−</mo><mi>s</mi><mi>w</mi><mi>i</mi><mi>g</mi><mtext>￼</mtext><mn>0</mn><mo>−</mo><mo>−</mo><msup><mo>&gt;</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo>&gt;</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>0</mn><mo>&lt;</mo><mi mathvariant=\"normal\">/</mi><mi>a</mi><mo>&gt;</mo><mo separator=\"true\">,</mo><mi>b</mi><mo>=</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">w=&lt;a href=&#x27;&#x27;&gt;0,0,\\dots,0&lt;/a&gt;,b=[0,\\dots,0]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9463em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">ah</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\">=</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">&lt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mclose\">!</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\">￼0</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8352em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\">&gt;</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">/</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">]</span></span></span></span>\n<ul>\n<li>计算当前 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 对应的损失. 这的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>w</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">w=\\{w_{ij}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">ij</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 表示网络的层数,<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> 表示第 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 层网络的序号.</li>\n<li>分别计算 loss 对 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 的梯度 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo><msub><mi>d</mi><mi>b</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_w, d_b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（偏导数）</li>\n<li>更新 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 直到：（训练（fit): 逐渐更新 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 的过程）\n<ul>\n<li>策略 1：loss 不在降低</li>\n<li>策略 2：<strong>迭代到指定次数（本文采用）</strong></li>\n<li></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"center\" columnspacing=\"0em\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>w</mi><mo>=</mo><mi>w</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>b</mi><mo>=</mo><mi>b</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>b</mi></msub></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>t</mi><mi mathvariant=\"normal\">.</mi><mi>α</mi><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gather} \\\\\n\t\t\t  w=w-\\alpha*d_w, \\\\\n\t\t\t  b=b-\\alpha*d_b\\\\\n\t\t\t  s.t. \\alpha \\in [0,1]\n\\end{gather}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6em;vertical-align:-2.75em;\"></span><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-0.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">t</span><span class=\"mord\">.</span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-3.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-0.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span></span></p>\n<pre><code>\t\t- $\\alpha$ 学习率（超参数：手工设置的，模型参数：能通过数据学到的 ($w,b$)\n</code></pre>\n<h2 id=\"模型实现\">模型实现</h2>\n<ul>\n<li>数据准备</li>\n<li>模型建立</li>\n<li>模型训练</li>\n<li>模型评估</li>\n<li>预测结果</li>\n</ul>\n<h2 id=\"案例说明\">案例说明</h2>\n<ul>\n<li>这个例子用于演示。\n<ul>\n<li>例子：为了简单起见，例子不区分训练集和测试集，训练和预测均在同一个数据集上完成</li>\n<li>实际：实际中，训练集和测试集是分开的，测试集不参与训练</li>\n</ul>\n</li>\n</ul>\n<p>模型实现: <a href=\"http://127.0.0.1:8888/lab/workspaces/auto-q/tree/%E5%95%86%E4%B8%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/Day04%20-%20%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/04-03%20%E6%89%8B%E6%9C%BA%E7%B1%BB%E5%9E%8B%E8%AF%86%E5%88%AB-BP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.ipynb\">04-03 手机类型识别-BP神经网络.ipynb</a></p>\n<h2 id=\"其他说明\">其他说明</h2>\n<p>AI 没法用 <a href=''>AI 环境说明</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover3.jpg","excerpt":"","more":"<h2 id=\"目标\">目标</h2>\n<p>给定图片的集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x=\\{ x_1,\\dots,x_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> 与图片的分类 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y=\\{y_1,\\dots,y_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, 我们想要求解出一个模型</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"center\" columnspacing=\"0em\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>f</mi><mo>:</mo><mi>R</mi><mo>→</mo><mi>R</mi><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>y</mi><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>t</mi><mi mathvariant=\"normal\">.</mi><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo>∈</mo><mi>R</mi></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gather}  \n  f: R \\rightarrow R, \\\\  \n  f(x)=y,\\\\ s.t. x,y \\in R  \n  \\end{gather}  \n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.5em;vertical-align:-2em;\"></span><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5em;\"><span style=\"top:-4.66em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-3.16em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-1.66em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">t</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5em;\"><span style=\"top:-4.5em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-1.5em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2em;\"><span></span></span></span></span></span></span></span></span></p>\n<p>该模型能够根据图片 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 预测图片的类型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>. <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x_1,y_1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 表示图片 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 对应的类别为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">y_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>；<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 可能取值 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>120</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>255</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x_i=\\{ 1,120,\\dots,255\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">120</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">255</span><span class=\"mclose\">}</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mn>0.2</mn><mo separator=\"true\">,</mo><mn>0.3</mn><mo separator=\"true\">,</mo><mn>0.5</mn><mo separator=\"true\">,</mo><mn>0.1</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y_i=\\{0.2,0.3,0.5,0.1\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">0.2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.3</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.1</span><span class=\"mclose\">}</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">{</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">softmax(y_i)=\\{0,0,1,0\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">so</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">ma</span><span class=\"mord mathnormal\">x</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">}</span></span></span></span></p>\n<ul>\n<li>举例说明\n<ul>\n<li>建立一个模型，输入是手机图片，输出是手机类别</li>\n<li>输入图片\n<ul>\n<li><img src=\"/images/96ae3924006f3a11007207d031717463b3bbac6c.png\" alt=\"static/attachment/Pasted image 20221107230429.png\"></li>\n</ul>\n</li>\n<li>输出\n<ul>\n<li>苹果 (手机类别)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"案例引入-神经网络\">案例引入 - 神经网络</h2>\n<ul>\n<li>一元一次方程\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>+</mo><mi>a</mi><mi>x</mi><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>x</mi><mo>=</mo><mi>w</mi><mo>∗</mo><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y=ax+b=b+ax=\\theta_0+\\theta_1 x=w*x+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 等价，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> 等价</li>\n<li>我们理解为\n<ul>\n<li>x 通过一个黑盒，得到了 y\n<ul>\n<li><img src=\"/images/f8f413892356a5dff1d989153e2fd65a0d4a92f0.png\" alt=\"static/attachment/Pasted image 20221107153211.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>二元一次方程\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><msub><mi>w</mi><mn>1</mn></msub><mo>∗</mo><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><mo>∗</mo><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y=w_1*x_1+w_2*x_2+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6153em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6153em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li>我们理解为：\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1,x_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 通过一个黑盒，得到了 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>\n<ul>\n<li><img src=\"/images/b517688cf5875de82bd1deea8f8764bff7b90ed9.png\" alt=\"static/attachment/Pasted image 20221107153235.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>一元二次方程黑盒变体\n<ul>\n<li>理解为：\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1, x_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 分别通过两个黑盒得到 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mn>11</mn></msub><mo separator=\"true\">,</mo><msub><mi>a</mi><mn>12</mn></msub></mrow><annotation encoding=\"application/x-tex\">a_{11},a_{12}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, 然后 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mn>11</mn></msub><mo separator=\"true\">,</mo><msub><mi>a</mi><mn>12</mn></msub></mrow><annotation encoding=\"application/x-tex\">a_{11},a_{12}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 通过黑盒得到 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>.</li>\n<li><img src=\"/images/7faedcf60c808cf866cebddf14a848839eefd236.png\" alt=\"static/attachment/Pasted image 20221107153324.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>一元二次方程黑盒变体=神经网络\n<ul>\n<li>一个隐藏层的神经网络</li>\n<li><img src=\"/images/6a5e676a58d9059a7a290844beba2e1558f7c0f4.png\" alt=\"static/attachment/Pasted image 20221107153417.png\"></li>\n</ul>\n</li>\n<li>计算例子举例\n<ul>\n<li>假设输入 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>3</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">x_1=(2,3)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">3</span><span class=\"mclose\">)</span></span></span></span>，任意初始化 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>w</mi><mn>11</mn></msub><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>12</mn></msub><mo separator=\"true\">,</mo><msub><mi>w</mi><mn>21</mn></msub></mrow><annotation encoding=\"application/x-tex\">w_{11},w_{12},w_{21}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">12</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">21</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，计算 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></li>\n</ul>\n</li>\n<li>多个隐藏层的神经网络\n<ul>\n<li><img src=\"/images/41336b345043a6284b7e11eef7d59b0cd67aaf69.excalidraw\" alt=\"Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.06.56.excalidraw\"></li>\n<li><img src=\"/images/cfcdf117dd1192b8c7003cb0b2a3bd30e97803fc.png\" alt=\"static/attachment/Pasted image 20221107231726.png\"></li>\n<li>如何计算?</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"基础-One-hot-编码\">基础 - One-hot 编码</h2>\n<ul>\n<li>机器学习两类特殊问题\n<ul>\n<li>分类任务 (手机类型识别) (本例)</li>\n<li>回归任务 (房价预测) ✅</li>\n</ul>\n</li>\n<li>图片分类如何表示\n<ul>\n<li>假设我们手机只有 4 类\n<ul>\n<li>苹果 1</li>\n<li>华为 2</li>\n<li>荣耀 3</li>\n<li>其他</li>\n</ul>\n</li>\n<li>那么, 在**数学 (机器学习)**中如何表示其类别呢?\n<ul>\n<li>one-hot 编码</li>\n</ul>\n</li>\n<li>one-hot 编码\n<ul>\n<li>用于在多分类数据中表示目标的类别</li>\n<li>例如: 对于这些手机图片:</li>\n<li><img src=\"/images/c5475754c914e4fc8616218ea075f6aed92d8bc7.png\" alt=\"static/attachment/Pasted image 20221107153612.png\"></li>\n<li>假设我们只有 4 类\n<ul>\n<li>苹果</li>\n<li>华为</li>\n<li>荣耀</li>\n<li>其他</li>\n</ul>\n</li>\n<li>one-hot 编码表示为:\n<ul>\n<li><img src=\"/images/05f25e6b5715fb1458d1c2bbe5ffb845e96ceb18.png\" alt=\"static/attachment/Pasted image 20221107232253.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"基础-扁平化\">基础 - 扁平化</h2>\n<ul>\n<li>图片扁平化\n<ul>\n<li>指将矩阵形式的图片 (如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>28</mn><mo>∗</mo><mn>28</mn><mo>∗</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">28*28*3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">28</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">28</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span> 的图片) 编程 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">vector</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">ec</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">or</span></span></span></span> (一维向量)</li>\n<li>如:\n<ul>\n<li>将正方形的图片矩阵表示为一个向量</li>\n<li><img src=\"/images/96b79af77e21898b2cc59b61acb2c6402513e7d6.excalidraw\" alt=\"Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.29.59.excalidraw\"></li>\n<li><img src=\"/images/7e75b5d82750938cf1c4f52908c1a4c3ecdc8095.png\" alt=\"static/attachment/Pasted image 20221107153753.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"基础-交叉熵\">基础 - 交叉熵</h2>\n<ul>\n<li>如何判断模型输出 (one-hot) 和标签之间 (one-hot) 的差距\n<ul>\n<li>假设\n<ul>\n<li>图片标签（真实）:<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[[1,0,0,0]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[[</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">]]</span></span></span></span></li>\n<li>预测标签（机器识别的结果）: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mn>0.1</mn><mo separator=\"true\">,</mo><mn>0.7</mn><mo separator=\"true\">,</mo><mn>0.1</mn><mo separator=\"true\">,</mo><mn>0.1</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[[0.1,0.7,0.1,0.1]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[[</span><span class=\"mord\">0.1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.7</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.1</span><span class=\"mclose\">]]</span></span></span></span></li>\n<li><img src=\"/images/915bb275a7afd3498a134078419a3dbb2247cae7.excalidraw\" alt=\"Excalidraw/04-手机品牌识别之神经网络 2022-11-14 17.38.25.excalidraw\"></li>\n<li>如何判断这两个结果之间的差距呢?</li>\n<li>交叉熵：可通过 <strong>交叉熵</strong> 来判断真实和预测的差距\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>C</mi></msubsup><msub><mi>y</mi><mi>i</mi></msub><mi>log</mi><mo>⁡</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">l o s s=-\\sum_{i=1}^C y_i \\log f_i(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2809em;vertical-align:-0.2997em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 是图片数据, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">y_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 是第 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 个类别的标签值, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f_i(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span> 是第 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 个类别的预测的结果, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> 是类别</li>\n<li>手动计算上面的例子</li>\n</ul>\n</li>\n<li>计算演示（全自动调库计算）<img src=\"/images/23e4df4bf1de153009fd961cdc0f186257e092b8.png\" alt=\"static/attachment/Pasted image 20221107154220.png\"></li>\n<li>计算演示（半自动调库运算）\n<ul>\n<li><img src=\"/images/6aa176a56ce7d5a5af1d22a91e141759c7938da6.png\" alt=\"static/attachment/Pasted image 20221107154256.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>交叉熵的大小与预测结果的关系\n<ul>\n<li>假设我们的预测结果完全正确时与完成错误时,对比熵值大小\n<ul>\n<li><img src=\"/images/213d86fb49e1239668dee499bd5d7b236fe795e2.png\" alt=\"static/attachment/Pasted image 20221107154349.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>交叉熵的意义\n<ul>\n<li>在相同事件空间里，概率分布 P(x) 对应的每个事件，若用概率分布 Q(x) 编码时，平均每个基本事件（符号）编码长度增加了多少比特</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"模型定义\">模型定义</h2>\n<ul>\n<li>模型表示\n<ul>\n<li>神经网络 (neuron), <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>=</mo><msub><mi>h</mi><mi>θ</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f=h_{\\theta}(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">θ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><img src=\"/images/4e3a669077936ea7c6f19d682c3362be9fc1c270.png\" alt=\"static/attachment/Pasted image 20221114144149.png\"></li>\n<li>代码表示:\n<ul>\n<li><img src=\"/images/5ebb3bddccb1817a247ec3c30ce88189c5d988cb.png\" alt=\"static/attachment/Pasted image 20221107233741.png\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>损失函数\n<ul>\n<li>交叉熵 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">loss</mi><mo>⁡</mo><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mi>j</mi><mi>N</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>C</mi></msubsup><msub><mi>y</mi><mi>i</mi></msub><mi>log</mi><mo>⁡</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\operatorname{loss}=-\\frac{1}{n}\\sum _j ^N \\sum_{i=1}^C y_i \\log f_i(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">loss</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.417em;vertical-align:-0.4358em;\"></span><span class=\"mord\">−</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> 表示图片的编号, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 表示类别的编号, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> 表示所有的类别</li>\n<li>举个例子说明一下</li>\n</ul>\n</li>\n<li>目标转换\n<ul>\n<li>最小化损失 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">loss</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span></span></span></span></li>\n<li>如何求: 梯度下降</li>\n</ul>\n</li>\n<li>梯度下降的步骤\n<ul>\n<li>初始化 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 为任意值，如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>=</mo><mo>&lt;</mo><mi>a</mi><mi>h</mi><mi>r</mi><mi>e</mi><mi>f</mi><msup><mo>=</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo>&lt;</mo><mo stretchy=\"false\">!</mo><mo>−</mo><mo>−</mo><mi>s</mi><mi>w</mi><mi>i</mi><mi>g</mi><mtext>￼</mtext><mn>0</mn><mo>−</mo><mo>−</mo><msup><mo>&gt;</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo>&gt;</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>0</mn><mo>&lt;</mo><mi mathvariant=\"normal\">/</mi><mi>a</mi><mo>&gt;</mo><mo separator=\"true\">,</mo><mi>b</mi><mo>=</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>0</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">w=&lt;a href=&#x27;&#x27;&gt;0,0,\\dots,0&lt;/a&gt;,b=[0,\\dots,0]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9463em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">ah</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\">=</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">&lt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mclose\">!</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\">￼0</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8352em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\">&gt;</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">/</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">]</span></span></span></span>\n<ul>\n<li>计算当前 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 对应的损失. 这的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>w</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">w=\\{w_{ij}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">ij</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 表示网络的层数,<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> 表示第 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 层网络的序号.</li>\n<li>分别计算 loss 对 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 的梯度 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo><msub><mi>d</mi><mi>b</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_w, d_b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（偏导数）</li>\n<li>更新 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 直到：（训练（fit): 逐渐更新 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 的过程）\n<ul>\n<li>策略 1：loss 不在降低</li>\n<li>策略 2：<strong>迭代到指定次数（本文采用）</strong></li>\n<li></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"center\" columnspacing=\"0em\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>w</mi><mo>=</mo><mi>w</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>b</mi><mo>=</mo><mi>b</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>b</mi></msub></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>t</mi><mi mathvariant=\"normal\">.</mi><mi>α</mi><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gather} \\\\\n\t\t\t  w=w-\\alpha*d_w, \\\\\n\t\t\t  b=b-\\alpha*d_b\\\\\n\t\t\t  s.t. \\alpha \\in [0,1]\n\\end{gather}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6em;vertical-align:-2.75em;\"></span><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-0.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">t</span><span class=\"mord\">.</span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-3.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-0.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span></span></p>\n<pre><code>\t\t- $\\alpha$ 学习率（超参数：手工设置的，模型参数：能通过数据学到的 ($w,b$)\n</code></pre>\n<h2 id=\"模型实现\">模型实现</h2>\n<ul>\n<li>数据准备</li>\n<li>模型建立</li>\n<li>模型训练</li>\n<li>模型评估</li>\n<li>预测结果</li>\n</ul>\n<h2 id=\"案例说明\">案例说明</h2>\n<ul>\n<li>这个例子用于演示。\n<ul>\n<li>例子：为了简单起见，例子不区分训练集和测试集，训练和预测均在同一个数据集上完成</li>\n<li>实际：实际中，训练集和测试集是分开的，测试集不参与训练</li>\n</ul>\n</li>\n</ul>\n<p>模型实现: <a href=\"http://127.0.0.1:8888/lab/workspaces/auto-q/tree/%E5%95%86%E4%B8%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/Day04%20-%20%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/04-03%20%E6%89%8B%E6%9C%BA%E7%B1%BB%E5%9E%8B%E8%AF%86%E5%88%AB-BP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.ipynb\">04-03 手机类型识别-BP神经网络.ipynb</a></p>\n<h2 id=\"其他说明\">其他说明</h2>\n<p>AI 没法用 <a href=''>AI 环境说明</a></p>\n"},{"title":"04-机器学习模型理解","date":"2022-11-14T05:50:35.000Z","updated":"2022-11-26T00:36:10.000Z","password":null,"message":null,"abstract":null,"aliases":["04-机器学习模型理解"],"_content":"\n\n\n## 机器学习一般化理解\n\n- 对于现实中的一个问题, 我们需要使用机器学习的方法对其进行建模, 其建模步骤:\n\t- 👉 根据 **数据特征** 选择一个模型 (回归模型)\n\t\t- 比如下图中的数据\n\t\t- ![static/attachment/Pasted image 20221107135019.png](/images/b32c68fa9d60da210505be648152958708936b6a.png)\n\t\t- 我们选择的模型是 $y=ax+b$\n\t- 👉 定义模型预测值和真实值的度量方式 (`loss`), 如均方误差 ( Mean Squared Error/MSE)\n\t\t- $MSE=\\frac{1}{N}\\sum(y-y_{pred})^2$\n\t- 👉 问题转化: 转化为求最值问题\n\t- 👉 求解模型\n\t\t- 通过梯度下降 (求最值的方法), 求解 `loss` 对未知参数的梯度, 然后逐步更新参数\n","source":"_posts/04-机器学习模型理解.md","raw":"---\ntitle: 04-机器学习模型理解\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-11-14 13:50:35 \nupdated: 2022-11-26 08:36:10 \npassword: \nmessage: \nabstract: \naliases:\n  - 04-机器学习模型理解\n---\n\n\n\n## 机器学习一般化理解\n\n- 对于现实中的一个问题, 我们需要使用机器学习的方法对其进行建模, 其建模步骤:\n\t- 👉 根据 **数据特征** 选择一个模型 (回归模型)\n\t\t- 比如下图中的数据\n\t\t- ![static/attachment/Pasted image 20221107135019.png](/images/b32c68fa9d60da210505be648152958708936b6a.png)\n\t\t- 我们选择的模型是 $y=ax+b$\n\t- 👉 定义模型预测值和真实值的度量方式 (`loss`), 如均方误差 ( Mean Squared Error/MSE)\n\t\t- $MSE=\\frac{1}{N}\\sum(y-y_{pred})^2$\n\t- 👉 问题转化: 转化为求最值问题\n\t- 👉 求解模型\n\t\t- 通过梯度下降 (求最值的方法), 求解 `loss` 对未知参数的梯度, 然后逐步更新参数\n","slug":"04-机器学习模型理解","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02inv000ciwv93hfp993f","content":"<h2 id=\"机器学习一般化理解\">机器学习一般化理解</h2>\n<ul>\n<li>对于现实中的一个问题, 我们需要使用机器学习的方法对其进行建模, 其建模步骤:\n<ul>\n<li>👉 根据 <strong>数据特征</strong> 选择一个模型 (回归模型)\n<ul>\n<li>比如下图中的数据</li>\n<li><img src=\"/images/b32c68fa9d60da210505be648152958708936b6a.png\" alt=\"static/attachment/Pasted image 20221107135019.png\"></li>\n<li>我们选择的模型是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y=ax+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n</ul>\n</li>\n<li>👉 定义模型预测值和真实值的度量方式 (<code>loss</code>), 如均方误差 ( Mean Squared Error/MSE)\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><mo>∑</mo><mo stretchy=\"false\">(</mo><mi>y</mi><mo>−</mo><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">MSE=\\frac{1}{N}\\sum(y-y_{pred})^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">MSE</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1002em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n</li>\n<li>👉 问题转化: 转化为求最值问题</li>\n<li>👉 求解模型\n<ul>\n<li>通过梯度下降 (求最值的方法), 求解 <code>loss</code> 对未知参数的梯度, 然后逐步更新参数</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover1.JPG","excerpt":"","more":"<h2 id=\"机器学习一般化理解\">机器学习一般化理解</h2>\n<ul>\n<li>对于现实中的一个问题, 我们需要使用机器学习的方法对其进行建模, 其建模步骤:\n<ul>\n<li>👉 根据 <strong>数据特征</strong> 选择一个模型 (回归模型)\n<ul>\n<li>比如下图中的数据</li>\n<li><img src=\"/images/b32c68fa9d60da210505be648152958708936b6a.png\" alt=\"static/attachment/Pasted image 20221107135019.png\"></li>\n<li>我们选择的模型是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y=ax+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n</ul>\n</li>\n<li>👉 定义模型预测值和真实值的度量方式 (<code>loss</code>), 如均方误差 ( Mean Squared Error/MSE)\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><mo>∑</mo><mo stretchy=\"false\">(</mo><mi>y</mi><mo>−</mo><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">MSE=\\frac{1}{N}\\sum(y-y_{pred})^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">MSE</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1002em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n</li>\n<li>👉 问题转化: 转化为求最值问题</li>\n<li>👉 求解模型\n<ul>\n<li>通过梯度下降 (求最值的方法), 求解 <code>loss</code> 对未知参数的梯度, 然后逐步更新参数</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"2022-11-25 实验结果","date":"2022-11-25T02:40:51.000Z","updated":"2022-12-10T11:22:30.000Z","aliases":["2022-11-25实验结果","2022-11-25 实验结果","2022-11-25 实验交流汇报","2022-11-25 实验结果"],"_content":"\n\n\n这次的实验结果感觉能用, 请李老师评估一下是否能用\n\n## 实验背景/方法/目标\n\n==背景== 在超参数优化的任务中，==方法== 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，==目标== 期望以更短的时间，获得一个精度相似的模型。\n\n## 实验设计\n\n==超参数与模型设置== 实验在 VAE 的 11 个超参数（见附录 1）空间中 (超参数空间指: 所有的超参数取值范围的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 $HP_i$, $i \\in \\left\\{1,2,\\dots,32\\right\\}$，构成 32 个不同的 VAE 模型 $VAE_{hp_i}$。\n\n==数据集选择及处理== 从 ODDS 中的选择数据量不同的三个数据集 $D_i$, $i \\in \\{THYROID,SATELLITE,MUSK\\}$（附录 2），并按照 $6:4$ 的比例将数据集划分为训练集 (training set) 与测试集 (test set), 所有的数据均被标准化处理 ($\\bar{x}=\\frac{x-mean}{std}$)\n\n==训练集抽样设置== 为了增加模型的训练速度，我们从训练集中使用随机抽样算法 (Random Sampling, RS), 在训练集 (training set) 中抽取不同比率 ($r$) 的 子数据集分别训练模型 $VAE_{hp_i}$, 其中, $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24\\right\\}$; $r=1/1$ 表示使用全部的训练集 (training set) 训练模型模型，$r=1/8$ 表示使用训练集的 $1/8$ (subset, 占总训练集的 $1/8$) 训练模型。\n\n==模型度量== 本文选择三个度量标准来度量模型的性能, 包括: Minimal Test Loss / Maximal AUC / Training time.\n\n- Minimal Test Loss: 数据集 $D_i$ 在 $VAE_{hp_i}$ 中的最小的 $loss_{avg}$. 实验中使用 $D_i$ 中的 test set 独立重复评估 $VAE_{hp_i}$ 10 次, 每次评估的结果记为 $loss_i$, $i \\in \\{1,2,\\dots, 10\\}$, 因此, $loss_{avg}$= $\\frac{1}{10}\\sum(loss_i)$\n- Maximal AUC: $loss_{avg}$ 取得最小值时对于的 AUC, 即 Maximal AUC.\n- Training time: 使用数据集 $D_i$ 训练 $VAE_{hp_i}$ 所花费的时间. 其中, $VAE_{hp_i}$ 指 32 个超参数不同的 VAE 模型.\n\n## 实验结果及结论\n\n当在三个数据集 (MUSK/SATELITE/THYROID) 的训练集 (training set) 中抽取不同比率 (sampling rate, r) 的子集训练模型后, $VAE_{hp_i}$ 最小的测试误差 (test loss)、最小测试误差对应的 AUC、以及 $VAE_{hp_i}$ 的总训练时间如下图所示 (原始数据见附录 3):\n\n![static/attachment/Pasted image 20221125162709.png](/images/0f8310bececba0c2bb686514134da7b4a0bad7a7.png)  \n**正向结论:**\n\n- 在数据集 MUSK 上, 因为 MUSK 维度 (dimension) 过大, 导致 VAE 失去异常识别的能力, 导致 AUC 为 0.\n- **在训练集中抽取一定比例的数据训练模型时, 可以在更少的时间内得到精度相似的模型.** 上图中, 在三个数据集上, 当 $r=1/16$ 时, 模型的训练时间 (相对于 $r=1/1$ 时) 分别减少了 102(142)、153(229)、126(175) 分钟 (括号中的数字表示 $r=1$ 时的训练时间; 在数据集 SATELITE 和 THYROID 上, 其 AUC 仅降低了 0.0001 和 0.04.\n\n**存在的问题 (待排查)**:  \n在三个数据集上, test loss 由是重构误差与 KL 误差构成, 在图 (1) 与图 (2) 中, 训练集的比例从 $1/16$ 变为 $1/24$ 时, test loss **会升高的原因未知**.\n\n## 附录\n\n### 附录 1: VAE 的 11 个超参数及搜索空间\n\n超参数的表示方式参考 [Microsoft NNI](https://nni.readthedocs.io/en/stable/hpo/search_space.html), 超参数的表示方式如下:\n\n```json\n \"batch_size\": {           # 超参数名称\n    \"_value\": [256,1024],  # batch_size 取值范围. \n\t\t\t\t\t  # 256 表示取值下限, 即 batch_size 能够取到的最小值;\n\t\t\t\t\t  # 1024 表示取值上限, 即 batch_size 能够取到的最大值.(256 <= batch_size <= 1024)\n\t\t\t\t\t  \n    \"_type\": \"uniform\",    # 超参数取值方式; uniform 表示在  batch_size 取值范围内, 以 uniform 的分布取值, \n\t\t\t\t\t  # 即随机取值(在[256,1024]的范围内,每个值取到的概率是相等的)\n  },\n```\n\nVAE 中的 11 个超参数如下:\n\n```python\n{\n  \"batch_size\": {   \n    \"_type\": \"uniform\",\n    \"_value\": [\n      256,\n      1024\n    ]\n  },\n  \"hidden_activation\": {\n    \"_type\": \"choice\",\n    \"_value\": [\n      \"relu\",\n      \"sigmoid\",\n      \"softmax\",\n      \"softplus\",\n      \"tanh\",\n      \"selu\"\n    ]\n  },\n  \"output_activation\": {\n    \"_type\": \"choice\",\n    \"_value\": [\n      \"relu\",\n      \"sigmoid\",\n      \"softmax\",\n      \"softplus\",\n      \"tanh\",\n      \"selu\"\n    ]\n  },\n  \"l2_regularizer\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      1e-08,\n      1e-01\n    ]\n  },\n  \"learning_rate\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      1e-08,\n      1e-01\n    ]\n  },\n  \"drop_rate\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      1e-08,\n      1e-01\n    ]\n  },\n  \"epochs\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      16,\n      128\n    ]\n  },\n  \"latent_dim\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      2,\n      20\n    ]\n  },\n  \"n_neurons_layer1\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      32,\n      256\n    ]\n  },\n  \"n_neurons_layer2\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      16,\n      128\n    ]\n  },\n  \"n_neurons_layer3\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      8,\n      64\n    ]\n  }\n}\n \n```\n\n### 附录 2: ODDS 的三个数据集\n\n[ODDS](http://odds.cs.stonybrook.edu) 中主要是多维 (多变量) 时间序列数据, 我们从中选择了三个数据集作为实验数据集, 数据统计信息如下表:\n\n| Dataset | \\#points\t|\\#dim. | \\#outliers(%) | 备注 |\n| --------- | --------------- | ------------ | ---------- | ----------- |  \n| THYROID | 3772 | 6 | 93 (2.5%) | exp_thy_214 |  \n| SATELLITE | 6435 | 36 | 2036 (32%) | exp_sat_214 |  \n| MUSK | 3062 | 166 | 97 (3.2%) | exp_mus_214 |  \n\n这三个数据集的不同之处在于:\n\n1. 维度 (dim) 相差大 (DIM 分别是 6 , 36 ,166 )\n2. 异常率不同 (2.5%, 3.2%, 32%)\n\n### 附录 3: 实验原始数据 (表格)\n\n| SHORT\\_EXP\\_NAME | TRIALCMD\\_DATASET | TRAINING\\_SAMPLE\\_RATE\\_FRAC | AVG\\_LOSS | AVG\\_AUC | TOTAL\\_TRAINING\\_TIME\\(min\\) | EXPID | TRIALJOBID |\n| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/1 | -808695.0625 | 0 | 141.5655 | pkozn786 | G0uPz |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/4 | -348153.8844 | 0 | 61.9486 | gs27ryjx | vQQqv |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/8 | -242783644.8 | 0 | 46.5635 | lgua6ox4 | LsX3U |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/16 | -1486302809.6 | 0 | 39.9584 | aklxj7d9 | yyF60 |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/24 | -751732729.6 | 0 | 38.2083 | w5hfluvg | Z1ALW |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/1 | -99676.8828 | 0.7 | 229.4541 | hc65txvk | fr5ii |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/4 | -21157.9785 | 0.6852 | 140.2635 | iolyd70e | IdzWE |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/8 | -10318.3757 | 0.6903 | 86.9189 | wgy57es2 | uISww |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/16 | -4292663 | 0.6608 | 76.4871 | zxlhj956 | kzW2k |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/24 | -3274989.2 | 0.565 | 72.0015 | jv7qoxmb | lhjCa |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/1 | -3309.7899 | 0.8987 | 175.2527 | by2zvwh9 | AwyaZ |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/4 | -1196.3076 | 0.911 | 75.0442 | xv7mn2b1 | qw1uJ |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/8 | -469.6848 | 0.9104 | 56.7766 | ual53vbt | uRSdY |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/16 | -417792 | 0.8977 | 49.0220 | z6ahtyk9 | tYrqz |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/24 | -473460.8688 | 0.8495 | 44.4155 | 37awf5dc | vdlR5 |\n","source":"_posts/2022-11-25实验结果.md","raw":"---\ntitle: 2022-11-25 实验结果\ntags:\n  - public\n  - research\ndate: 2022-11-25 10:40:51 \nupdated: 2022-12-10 19:22:30 \ncategories:\n  - research\naliases:\n  - 2022-11-25实验结果\n  - 2022-11-25 实验结果\n  - 2022-11-25 实验交流汇报\n  - 2022-11-25 实验结果\n---\n\n\n\n这次的实验结果感觉能用, 请李老师评估一下是否能用\n\n## 实验背景/方法/目标\n\n==背景== 在超参数优化的任务中，==方法== 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，==目标== 期望以更短的时间，获得一个精度相似的模型。\n\n## 实验设计\n\n==超参数与模型设置== 实验在 VAE 的 11 个超参数（见附录 1）空间中 (超参数空间指: 所有的超参数取值范围的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 $HP_i$, $i \\in \\left\\{1,2,\\dots,32\\right\\}$，构成 32 个不同的 VAE 模型 $VAE_{hp_i}$。\n\n==数据集选择及处理== 从 ODDS 中的选择数据量不同的三个数据集 $D_i$, $i \\in \\{THYROID,SATELLITE,MUSK\\}$（附录 2），并按照 $6:4$ 的比例将数据集划分为训练集 (training set) 与测试集 (test set), 所有的数据均被标准化处理 ($\\bar{x}=\\frac{x-mean}{std}$)\n\n==训练集抽样设置== 为了增加模型的训练速度，我们从训练集中使用随机抽样算法 (Random Sampling, RS), 在训练集 (training set) 中抽取不同比率 ($r$) 的 子数据集分别训练模型 $VAE_{hp_i}$, 其中, $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24\\right\\}$; $r=1/1$ 表示使用全部的训练集 (training set) 训练模型模型，$r=1/8$ 表示使用训练集的 $1/8$ (subset, 占总训练集的 $1/8$) 训练模型。\n\n==模型度量== 本文选择三个度量标准来度量模型的性能, 包括: Minimal Test Loss / Maximal AUC / Training time.\n\n- Minimal Test Loss: 数据集 $D_i$ 在 $VAE_{hp_i}$ 中的最小的 $loss_{avg}$. 实验中使用 $D_i$ 中的 test set 独立重复评估 $VAE_{hp_i}$ 10 次, 每次评估的结果记为 $loss_i$, $i \\in \\{1,2,\\dots, 10\\}$, 因此, $loss_{avg}$= $\\frac{1}{10}\\sum(loss_i)$\n- Maximal AUC: $loss_{avg}$ 取得最小值时对于的 AUC, 即 Maximal AUC.\n- Training time: 使用数据集 $D_i$ 训练 $VAE_{hp_i}$ 所花费的时间. 其中, $VAE_{hp_i}$ 指 32 个超参数不同的 VAE 模型.\n\n## 实验结果及结论\n\n当在三个数据集 (MUSK/SATELITE/THYROID) 的训练集 (training set) 中抽取不同比率 (sampling rate, r) 的子集训练模型后, $VAE_{hp_i}$ 最小的测试误差 (test loss)、最小测试误差对应的 AUC、以及 $VAE_{hp_i}$ 的总训练时间如下图所示 (原始数据见附录 3):\n\n![static/attachment/Pasted image 20221125162709.png](/images/0f8310bececba0c2bb686514134da7b4a0bad7a7.png)  \n**正向结论:**\n\n- 在数据集 MUSK 上, 因为 MUSK 维度 (dimension) 过大, 导致 VAE 失去异常识别的能力, 导致 AUC 为 0.\n- **在训练集中抽取一定比例的数据训练模型时, 可以在更少的时间内得到精度相似的模型.** 上图中, 在三个数据集上, 当 $r=1/16$ 时, 模型的训练时间 (相对于 $r=1/1$ 时) 分别减少了 102(142)、153(229)、126(175) 分钟 (括号中的数字表示 $r=1$ 时的训练时间; 在数据集 SATELITE 和 THYROID 上, 其 AUC 仅降低了 0.0001 和 0.04.\n\n**存在的问题 (待排查)**:  \n在三个数据集上, test loss 由是重构误差与 KL 误差构成, 在图 (1) 与图 (2) 中, 训练集的比例从 $1/16$ 变为 $1/24$ 时, test loss **会升高的原因未知**.\n\n## 附录\n\n### 附录 1: VAE 的 11 个超参数及搜索空间\n\n超参数的表示方式参考 [Microsoft NNI](https://nni.readthedocs.io/en/stable/hpo/search_space.html), 超参数的表示方式如下:\n\n```json\n \"batch_size\": {           # 超参数名称\n    \"_value\": [256,1024],  # batch_size 取值范围. \n\t\t\t\t\t  # 256 表示取值下限, 即 batch_size 能够取到的最小值;\n\t\t\t\t\t  # 1024 表示取值上限, 即 batch_size 能够取到的最大值.(256 <= batch_size <= 1024)\n\t\t\t\t\t  \n    \"_type\": \"uniform\",    # 超参数取值方式; uniform 表示在  batch_size 取值范围内, 以 uniform 的分布取值, \n\t\t\t\t\t  # 即随机取值(在[256,1024]的范围内,每个值取到的概率是相等的)\n  },\n```\n\nVAE 中的 11 个超参数如下:\n\n```python\n{\n  \"batch_size\": {   \n    \"_type\": \"uniform\",\n    \"_value\": [\n      256,\n      1024\n    ]\n  },\n  \"hidden_activation\": {\n    \"_type\": \"choice\",\n    \"_value\": [\n      \"relu\",\n      \"sigmoid\",\n      \"softmax\",\n      \"softplus\",\n      \"tanh\",\n      \"selu\"\n    ]\n  },\n  \"output_activation\": {\n    \"_type\": \"choice\",\n    \"_value\": [\n      \"relu\",\n      \"sigmoid\",\n      \"softmax\",\n      \"softplus\",\n      \"tanh\",\n      \"selu\"\n    ]\n  },\n  \"l2_regularizer\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      1e-08,\n      1e-01\n    ]\n  },\n  \"learning_rate\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      1e-08,\n      1e-01\n    ]\n  },\n  \"drop_rate\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      1e-08,\n      1e-01\n    ]\n  },\n  \"epochs\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      16,\n      128\n    ]\n  },\n  \"latent_dim\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      2,\n      20\n    ]\n  },\n  \"n_neurons_layer1\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      32,\n      256\n    ]\n  },\n  \"n_neurons_layer2\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      16,\n      128\n    ]\n  },\n  \"n_neurons_layer3\": {\n    \"_type\": \"uniform\",\n    \"_value\": [\n      8,\n      64\n    ]\n  }\n}\n \n```\n\n### 附录 2: ODDS 的三个数据集\n\n[ODDS](http://odds.cs.stonybrook.edu) 中主要是多维 (多变量) 时间序列数据, 我们从中选择了三个数据集作为实验数据集, 数据统计信息如下表:\n\n| Dataset | \\#points\t|\\#dim. | \\#outliers(%) | 备注 |\n| --------- | --------------- | ------------ | ---------- | ----------- |  \n| THYROID | 3772 | 6 | 93 (2.5%) | exp_thy_214 |  \n| SATELLITE | 6435 | 36 | 2036 (32%) | exp_sat_214 |  \n| MUSK | 3062 | 166 | 97 (3.2%) | exp_mus_214 |  \n\n这三个数据集的不同之处在于:\n\n1. 维度 (dim) 相差大 (DIM 分别是 6 , 36 ,166 )\n2. 异常率不同 (2.5%, 3.2%, 32%)\n\n### 附录 3: 实验原始数据 (表格)\n\n| SHORT\\_EXP\\_NAME | TRIALCMD\\_DATASET | TRAINING\\_SAMPLE\\_RATE\\_FRAC | AVG\\_LOSS | AVG\\_AUC | TOTAL\\_TRAINING\\_TIME\\(min\\) | EXPID | TRIALJOBID |\n| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/1 | -808695.0625 | 0 | 141.5655 | pkozn786 | G0uPz |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/4 | -348153.8844 | 0 | 61.9486 | gs27ryjx | vQQqv |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/8 | -242783644.8 | 0 | 46.5635 | lgua6ox4 | LsX3U |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/16 | -1486302809.6 | 0 | 39.9584 | aklxj7d9 | yyF60 |\n| EXP\\_MUS\\_214\\_20221124070846 | MUSK | 1/24 | -751732729.6 | 0 | 38.2083 | w5hfluvg | Z1ALW |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/1 | -99676.8828 | 0.7 | 229.4541 | hc65txvk | fr5ii |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/4 | -21157.9785 | 0.6852 | 140.2635 | iolyd70e | IdzWE |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/8 | -10318.3757 | 0.6903 | 86.9189 | wgy57es2 | uISww |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/16 | -4292663 | 0.6608 | 76.4871 | zxlhj956 | kzW2k |\n| EXP\\_SAT\\_214\\_20221124080724 | SATELLITE | 1/24 | -3274989.2 | 0.565 | 72.0015 | jv7qoxmb | lhjCa |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/1 | -3309.7899 | 0.8987 | 175.2527 | by2zvwh9 | AwyaZ |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/4 | -1196.3076 | 0.911 | 75.0442 | xv7mn2b1 | qw1uJ |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/8 | -469.6848 | 0.9104 | 56.7766 | ual53vbt | uRSdY |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/16 | -417792 | 0.8977 | 49.0220 | z6ahtyk9 | tYrqz |\n| EXP\\_THY\\_214\\_20221124060301 | THYROID | 1/24 | -473460.8688 | 0.8495 | 44.4155 | 37awf5dc | vdlR5 |\n","slug":"2022-11-25实验结果","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02inw000fiwv9agwc3jsy","content":"<p>这次的实验结果感觉能用, 请李老师评估一下是否能用</p>\n<h2 id=\"实验背景-方法-目标\">实验背景/方法/目标</h2>\n<p><mark>背景</mark> 在超参数优化的任务中，<mark>方法</mark> 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，<mark>目标</mark> 期望以更短的时间，获得一个精度相似的模型。</p>\n<h2 id=\"实验设计\">实验设计</h2>\n<p><mark>超参数与模型设置</mark> 实验在 VAE 的 11 个超参数（见附录 1）空间中 (超参数空间指: 所有的超参数取值范围的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">HP_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">i \\in \\left\\{1,2,\\dots,32\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>，构成 32 个不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>。</p>\n<p><mark>数据集选择及处理</mark> 从 ODDS 中的选择数据量不同的三个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mi>T</mi><mi>H</mi><mi>Y</mi><mi>R</mi><mi>O</mi><mi>I</mi><mi>D</mi><mo separator=\"true\">,</mo><mi>S</mi><mi>A</mi><mi>T</mi><mi>E</mi><mi>L</mi><mi>L</mi><mi>I</mi><mi>T</mi><mi>E</mi><mo separator=\"true\">,</mo><mi>M</mi><mi>U</mi><mi>S</mi><mi>K</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{THYROID,SATELLITE,MUSK\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">RO</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">TE</span><span class=\"mord mathnormal\">LL</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">TE</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mclose\">}</span></span></span></span>（附录 2），并按照 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>:</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">6:4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span> 的比例将数据集划分为训练集 (training set) 与测试集 (test set), 所有的数据均被标准化处理 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>x</mi><mo>ˉ</mo></mover><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi></mrow><mrow><mi>s</mi><mi>t</mi><mi>d</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\bar{x}=\\frac{x-mean}{std}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5678em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1473em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8023em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">an</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>)</p>\n<p><mark>训练集抽样设置</mark> 为了增加模型的训练速度，我们从训练集中使用随机抽样算法 (Random Sampling, RS), 在训练集 (training set) 中抽取不同比率 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>) 的 子数据集分别训练模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>; <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1/1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/1</span></span></span></span> 表示使用全部的训练集 (training set) 训练模型模型，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 表示使用训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> (subset, 占总训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span>) 训练模型。</p>\n<p><mark>模型度量</mark> 本文选择三个度量标准来度量模型的性能, 包括: Minimal Test Loss / Maximal AUC / Training time.</p>\n<ul>\n<li>Minimal Test Loss: 数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 中的最小的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">loss_{avg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">vg</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>. 实验中使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中的 test set 独立重复评估 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 10 次, 每次评估的结果记为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">loss_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>10</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{1,2,\\dots, 10\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">10</span><span class=\"mclose\">}</span></span></span></span>, 因此, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">loss_{avg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">vg</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>= <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>1</mn><mn>10</mn></mfrac><mo>∑</mo><mo stretchy=\"false\">(</mo><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\frac{1}{10}\\sum(loss_i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">10</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n<li>Maximal AUC: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">loss_{avg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">vg</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 取得最小值时对于的 AUC, 即 Maximal AUC.</li>\n<li>Training time: 使用数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 训练 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 所花费的时间. 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 指 32 个超参数不同的 VAE 模型.</li>\n</ul>\n<h2 id=\"实验结果及结论\">实验结果及结论</h2>\n<p>当在三个数据集 (MUSK/SATELITE/THYROID) 的训练集 (training set) 中抽取不同比率 (sampling rate, r) 的子集训练模型后, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 最小的测试误差 (test loss)、最小测试误差对应的 AUC、以及 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的总训练时间如下图所示 (原始数据见附录 3):</p>\n<p><img src=\"/images/0f8310bececba0c2bb686514134da7b4a0bad7a7.png\" alt=\"static/attachment/Pasted image 20221125162709.png\"><br>\n<strong>正向结论:</strong></p>\n<ul>\n<li>在数据集 MUSK 上, 因为 MUSK 维度 (dimension) 过大, 导致 VAE 失去异常识别的能力, 导致 AUC 为 0.</li>\n<li><strong>在训练集中抽取一定比例的数据训练模型时, 可以在更少的时间内得到精度相似的模型.</strong> 上图中, 在三个数据集上, 当 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn></mrow><annotation encoding=\"application/x-tex\">r=1/16</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/16</span></span></span></span> 时, 模型的训练时间 (相对于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1/1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/1</span></span></span></span> 时) 分别减少了 102(142)、153(229)、126(175) 分钟 (括号中的数字表示 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span> 时的训练时间; 在数据集 SATELITE 和 THYROID 上, 其 AUC 仅降低了 0.0001 和 0.04.</li>\n</ul>\n<p><strong>存在的问题 (待排查)</strong>:<br>\n在三个数据集上, test loss 由是重构误差与 KL 误差构成, 在图 (1) 与图 (2) 中, 训练集的比例从 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn></mrow><annotation encoding=\"application/x-tex\">1/16</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/16</span></span></span></span> 变为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn></mrow><annotation encoding=\"application/x-tex\">1/24</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/24</span></span></span></span> 时, test loss <strong>会升高的原因未知</strong>.</p>\n<h2 id=\"附录\">附录</h2>\n<h3 id=\"附录-1-VAE-的-11-个超参数及搜索空间\">附录 1: VAE 的 11 个超参数及搜索空间</h3>\n<p>超参数的表示方式参考 <a href=\"https://nni.readthedocs.io/en/stable/hpo/search_space.html\">Microsoft NNI</a>, 超参数的表示方式如下:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;batch_size&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span>           # 超参数名称</span><br><span class=\"line\">   <span class=\"attr\">&quot;_value&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"number\">256</span><span class=\"punctuation\">,</span><span class=\"number\">1024</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>  # batch_size 取值范围. </span><br><span class=\"line\">\t\t\t\t  # <span class=\"number\">256</span> 表示取值下限<span class=\"punctuation\">,</span> 即 batch_size 能够取到的最小值;</span><br><span class=\"line\">\t\t\t\t  # <span class=\"number\">1024</span> 表示取值上限<span class=\"punctuation\">,</span> 即 batch_size 能够取到的最大值.(<span class=\"number\">256</span> &lt;= batch_size &lt;= <span class=\"number\">1024</span>)</span><br><span class=\"line\">\t\t\t\t  </span><br><span class=\"line\">   <span class=\"attr\">&quot;_type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;uniform&quot;</span><span class=\"punctuation\">,</span>    # 超参数取值方式; uniform 表示在  batch_size 取值范围内<span class=\"punctuation\">,</span> 以 uniform 的分布取值<span class=\"punctuation\">,</span> </span><br><span class=\"line\">\t\t\t\t  # 即随机取值(在<span class=\"punctuation\">[</span><span class=\"number\">256</span><span class=\"punctuation\">,</span><span class=\"number\">1024</span><span class=\"punctuation\">]</span>的范围内<span class=\"punctuation\">,</span>每个值取到的概率是相等的)</span><br><span class=\"line\"> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n<p>VAE 中的 11 个超参数如下:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;batch_size&quot;</span>: &#123;   </span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">256</span>,</span><br><span class=\"line\">      <span class=\"number\">1024</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;hidden_activation&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;choice&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"string\">&quot;relu&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;sigmoid&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;softmax&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;softplus&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;tanh&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;selu&quot;</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;output_activation&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;choice&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"string\">&quot;relu&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;sigmoid&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;softmax&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;softplus&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;tanh&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;selu&quot;</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;l2_regularizer&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">1e-08</span>,</span><br><span class=\"line\">      <span class=\"number\">1e-01</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;learning_rate&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">1e-08</span>,</span><br><span class=\"line\">      <span class=\"number\">1e-01</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;drop_rate&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">1e-08</span>,</span><br><span class=\"line\">      <span class=\"number\">1e-01</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;epochs&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">16</span>,</span><br><span class=\"line\">      <span class=\"number\">128</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;latent_dim&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">2</span>,</span><br><span class=\"line\">      <span class=\"number\">20</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;n_neurons_layer1&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">32</span>,</span><br><span class=\"line\">      <span class=\"number\">256</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;n_neurons_layer2&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">16</span>,</span><br><span class=\"line\">      <span class=\"number\">128</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;n_neurons_layer3&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">8</span>,</span><br><span class=\"line\">      <span class=\"number\">64</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n<h3 id=\"附录-2-ODDS-的三个数据集\">附录 2: ODDS 的三个数据集</h3>\n<p><a href=\"http://odds.cs.stonybrook.edu\">ODDS</a> 中主要是多维 (多变量) 时间序列数据, 我们从中选择了三个数据集作为实验数据集, 数据统计信息如下表:</p>\n<table>\n<thead>\n<tr>\n<th>Dataset</th>\n<th>#points</th>\n<th>#dim.</th>\n<th>#outliers(%)</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>THYROID</td>\n<td>3772</td>\n<td>6</td>\n<td>93 (2.5%)</td>\n<td>exp_thy_214</td>\n</tr>\n<tr>\n<td>SATELLITE</td>\n<td>6435</td>\n<td>36</td>\n<td>2036 (32%)</td>\n<td>exp_sat_214</td>\n</tr>\n<tr>\n<td>MUSK</td>\n<td>3062</td>\n<td>166</td>\n<td>97 (3.2%)</td>\n<td>exp_mus_214</td>\n</tr>\n</tbody>\n</table>\n<p>这三个数据集的不同之处在于:</p>\n<ol>\n<li>维度 (dim) 相差大 (DIM 分别是 6 , 36 ,166 )</li>\n<li>异常率不同 (2.5%, 3.2%, 32%)</li>\n</ol>\n<h3 id=\"附录-3-实验原始数据-表格\">附录 3: 实验原始数据 (表格)</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">SHORT_EXP_NAME</th>\n<th style=\"text-align:left\">TRIALCMD_DATASET</th>\n<th style=\"text-align:left\">TRAINING_SAMPLE_RATE_FRAC</th>\n<th style=\"text-align:left\">AVG_LOSS</th>\n<th style=\"text-align:left\">AVG_AUC</th>\n<th style=\"text-align:left\">TOTAL_TRAINING_TIME(min)</th>\n<th style=\"text-align:left\">EXPID</th>\n<th style=\"text-align:left\">TRIALJOBID</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/1</td>\n<td style=\"text-align:left\">-808695.0625</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">141.5655</td>\n<td style=\"text-align:left\">pkozn786</td>\n<td style=\"text-align:left\">G0uPz</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/4</td>\n<td style=\"text-align:left\">-348153.8844</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">61.9486</td>\n<td style=\"text-align:left\">gs27ryjx</td>\n<td style=\"text-align:left\">vQQqv</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/8</td>\n<td style=\"text-align:left\">-242783644.8</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">46.5635</td>\n<td style=\"text-align:left\">lgua6ox4</td>\n<td style=\"text-align:left\">LsX3U</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/16</td>\n<td style=\"text-align:left\">-1486302809.6</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">39.9584</td>\n<td style=\"text-align:left\">aklxj7d9</td>\n<td style=\"text-align:left\">yyF60</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/24</td>\n<td style=\"text-align:left\">-751732729.6</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">38.2083</td>\n<td style=\"text-align:left\">w5hfluvg</td>\n<td style=\"text-align:left\">Z1ALW</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/1</td>\n<td style=\"text-align:left\">-99676.8828</td>\n<td style=\"text-align:left\">0.7</td>\n<td style=\"text-align:left\">229.4541</td>\n<td style=\"text-align:left\">hc65txvk</td>\n<td style=\"text-align:left\">fr5ii</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/4</td>\n<td style=\"text-align:left\">-21157.9785</td>\n<td style=\"text-align:left\">0.6852</td>\n<td style=\"text-align:left\">140.2635</td>\n<td style=\"text-align:left\">iolyd70e</td>\n<td style=\"text-align:left\">IdzWE</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/8</td>\n<td style=\"text-align:left\">-10318.3757</td>\n<td style=\"text-align:left\">0.6903</td>\n<td style=\"text-align:left\">86.9189</td>\n<td style=\"text-align:left\">wgy57es2</td>\n<td style=\"text-align:left\">uISww</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/16</td>\n<td style=\"text-align:left\">-4292663</td>\n<td style=\"text-align:left\">0.6608</td>\n<td style=\"text-align:left\">76.4871</td>\n<td style=\"text-align:left\">zxlhj956</td>\n<td style=\"text-align:left\">kzW2k</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/24</td>\n<td style=\"text-align:left\">-3274989.2</td>\n<td style=\"text-align:left\">0.565</td>\n<td style=\"text-align:left\">72.0015</td>\n<td style=\"text-align:left\">jv7qoxmb</td>\n<td style=\"text-align:left\">lhjCa</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/1</td>\n<td style=\"text-align:left\">-3309.7899</td>\n<td style=\"text-align:left\">0.8987</td>\n<td style=\"text-align:left\">175.2527</td>\n<td style=\"text-align:left\">by2zvwh9</td>\n<td style=\"text-align:left\">AwyaZ</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/4</td>\n<td style=\"text-align:left\">-1196.3076</td>\n<td style=\"text-align:left\">0.911</td>\n<td style=\"text-align:left\">75.0442</td>\n<td style=\"text-align:left\">xv7mn2b1</td>\n<td style=\"text-align:left\">qw1uJ</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/8</td>\n<td style=\"text-align:left\">-469.6848</td>\n<td style=\"text-align:left\">0.9104</td>\n<td style=\"text-align:left\">56.7766</td>\n<td style=\"text-align:left\">ual53vbt</td>\n<td style=\"text-align:left\">uRSdY</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/16</td>\n<td style=\"text-align:left\">-417792</td>\n<td style=\"text-align:left\">0.8977</td>\n<td style=\"text-align:left\">49.0220</td>\n<td style=\"text-align:left\">z6ahtyk9</td>\n<td style=\"text-align:left\">tYrqz</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/24</td>\n<td style=\"text-align:left\">-473460.8688</td>\n<td style=\"text-align:left\">0.8495</td>\n<td style=\"text-align:left\">44.4155</td>\n<td style=\"text-align:left\">37awf5dc</td>\n<td style=\"text-align:left\">vdlR5</td>\n</tr>\n</tbody>\n</table>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover8.JPG","excerpt":"","more":"<p>这次的实验结果感觉能用, 请李老师评估一下是否能用</p>\n<h2 id=\"实验背景-方法-目标\">实验背景/方法/目标</h2>\n<p><mark>背景</mark> 在超参数优化的任务中，<mark>方法</mark> 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，<mark>目标</mark> 期望以更短的时间，获得一个精度相似的模型。</p>\n<h2 id=\"实验设计\">实验设计</h2>\n<p><mark>超参数与模型设置</mark> 实验在 VAE 的 11 个超参数（见附录 1）空间中 (超参数空间指: 所有的超参数取值范围的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">HP_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">i \\in \\left\\{1,2,\\dots,32\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>，构成 32 个不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>。</p>\n<p><mark>数据集选择及处理</mark> 从 ODDS 中的选择数据量不同的三个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mi>T</mi><mi>H</mi><mi>Y</mi><mi>R</mi><mi>O</mi><mi>I</mi><mi>D</mi><mo separator=\"true\">,</mo><mi>S</mi><mi>A</mi><mi>T</mi><mi>E</mi><mi>L</mi><mi>L</mi><mi>I</mi><mi>T</mi><mi>E</mi><mo separator=\"true\">,</mo><mi>M</mi><mi>U</mi><mi>S</mi><mi>K</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{THYROID,SATELLITE,MUSK\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">RO</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">TE</span><span class=\"mord mathnormal\">LL</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">TE</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mclose\">}</span></span></span></span>（附录 2），并按照 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>:</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">6:4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span> 的比例将数据集划分为训练集 (training set) 与测试集 (test set), 所有的数据均被标准化处理 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>x</mi><mo>ˉ</mo></mover><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi></mrow><mrow><mi>s</mi><mi>t</mi><mi>d</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\bar{x}=\\frac{x-mean}{std}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5678em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1473em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8023em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">an</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>)</p>\n<p><mark>训练集抽样设置</mark> 为了增加模型的训练速度，我们从训练集中使用随机抽样算法 (Random Sampling, RS), 在训练集 (training set) 中抽取不同比率 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>) 的 子数据集分别训练模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>; <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1/1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/1</span></span></span></span> 表示使用全部的训练集 (training set) 训练模型模型，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 表示使用训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> (subset, 占总训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span>) 训练模型。</p>\n<p><mark>模型度量</mark> 本文选择三个度量标准来度量模型的性能, 包括: Minimal Test Loss / Maximal AUC / Training time.</p>\n<ul>\n<li>Minimal Test Loss: 数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 中的最小的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">loss_{avg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">vg</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>. 实验中使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中的 test set 独立重复评估 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 10 次, 每次评估的结果记为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">loss_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>10</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{1,2,\\dots, 10\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">10</span><span class=\"mclose\">}</span></span></span></span>, 因此, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">loss_{avg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">vg</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>= <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>1</mn><mn>10</mn></mfrac><mo>∑</mo><mo stretchy=\"false\">(</mo><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\frac{1}{10}\\sum(loss_i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">10</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n<li>Maximal AUC: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">loss_{avg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">os</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">vg</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 取得最小值时对于的 AUC, 即 Maximal AUC.</li>\n<li>Training time: 使用数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 训练 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 所花费的时间. 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 指 32 个超参数不同的 VAE 模型.</li>\n</ul>\n<h2 id=\"实验结果及结论\">实验结果及结论</h2>\n<p>当在三个数据集 (MUSK/SATELITE/THYROID) 的训练集 (training set) 中抽取不同比率 (sampling rate, r) 的子集训练模型后, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 最小的测试误差 (test loss)、最小测试误差对应的 AUC、以及 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的总训练时间如下图所示 (原始数据见附录 3):</p>\n<p><img src=\"/images/0f8310bececba0c2bb686514134da7b4a0bad7a7.png\" alt=\"static/attachment/Pasted image 20221125162709.png\"><br>\n<strong>正向结论:</strong></p>\n<ul>\n<li>在数据集 MUSK 上, 因为 MUSK 维度 (dimension) 过大, 导致 VAE 失去异常识别的能力, 导致 AUC 为 0.</li>\n<li><strong>在训练集中抽取一定比例的数据训练模型时, 可以在更少的时间内得到精度相似的模型.</strong> 上图中, 在三个数据集上, 当 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn></mrow><annotation encoding=\"application/x-tex\">r=1/16</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/16</span></span></span></span> 时, 模型的训练时间 (相对于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1/1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/1</span></span></span></span> 时) 分别减少了 102(142)、153(229)、126(175) 分钟 (括号中的数字表示 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span> 时的训练时间; 在数据集 SATELITE 和 THYROID 上, 其 AUC 仅降低了 0.0001 和 0.04.</li>\n</ul>\n<p><strong>存在的问题 (待排查)</strong>:<br>\n在三个数据集上, test loss 由是重构误差与 KL 误差构成, 在图 (1) 与图 (2) 中, 训练集的比例从 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn></mrow><annotation encoding=\"application/x-tex\">1/16</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/16</span></span></span></span> 变为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn></mrow><annotation encoding=\"application/x-tex\">1/24</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/24</span></span></span></span> 时, test loss <strong>会升高的原因未知</strong>.</p>\n<h2 id=\"附录\">附录</h2>\n<h3 id=\"附录-1-VAE-的-11-个超参数及搜索空间\">附录 1: VAE 的 11 个超参数及搜索空间</h3>\n<p>超参数的表示方式参考 <a href=\"https://nni.readthedocs.io/en/stable/hpo/search_space.html\">Microsoft NNI</a>, 超参数的表示方式如下:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;batch_size&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span>           # 超参数名称</span><br><span class=\"line\">   <span class=\"attr\">&quot;_value&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"number\">256</span><span class=\"punctuation\">,</span><span class=\"number\">1024</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>  # batch_size 取值范围. </span><br><span class=\"line\">\t\t\t\t  # <span class=\"number\">256</span> 表示取值下限<span class=\"punctuation\">,</span> 即 batch_size 能够取到的最小值;</span><br><span class=\"line\">\t\t\t\t  # <span class=\"number\">1024</span> 表示取值上限<span class=\"punctuation\">,</span> 即 batch_size 能够取到的最大值.(<span class=\"number\">256</span> &lt;= batch_size &lt;= <span class=\"number\">1024</span>)</span><br><span class=\"line\">\t\t\t\t  </span><br><span class=\"line\">   <span class=\"attr\">&quot;_type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;uniform&quot;</span><span class=\"punctuation\">,</span>    # 超参数取值方式; uniform 表示在  batch_size 取值范围内<span class=\"punctuation\">,</span> 以 uniform 的分布取值<span class=\"punctuation\">,</span> </span><br><span class=\"line\">\t\t\t\t  # 即随机取值(在<span class=\"punctuation\">[</span><span class=\"number\">256</span><span class=\"punctuation\">,</span><span class=\"number\">1024</span><span class=\"punctuation\">]</span>的范围内<span class=\"punctuation\">,</span>每个值取到的概率是相等的)</span><br><span class=\"line\"> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n<p>VAE 中的 11 个超参数如下:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;batch_size&quot;</span>: &#123;   </span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">256</span>,</span><br><span class=\"line\">      <span class=\"number\">1024</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;hidden_activation&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;choice&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"string\">&quot;relu&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;sigmoid&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;softmax&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;softplus&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;tanh&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;selu&quot;</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;output_activation&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;choice&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"string\">&quot;relu&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;sigmoid&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;softmax&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;softplus&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;tanh&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;selu&quot;</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;l2_regularizer&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">1e-08</span>,</span><br><span class=\"line\">      <span class=\"number\">1e-01</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;learning_rate&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">1e-08</span>,</span><br><span class=\"line\">      <span class=\"number\">1e-01</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;drop_rate&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">1e-08</span>,</span><br><span class=\"line\">      <span class=\"number\">1e-01</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;epochs&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">16</span>,</span><br><span class=\"line\">      <span class=\"number\">128</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;latent_dim&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">2</span>,</span><br><span class=\"line\">      <span class=\"number\">20</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;n_neurons_layer1&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">32</span>,</span><br><span class=\"line\">      <span class=\"number\">256</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;n_neurons_layer2&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">16</span>,</span><br><span class=\"line\">      <span class=\"number\">128</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;n_neurons_layer3&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;_type&quot;</span>: <span class=\"string\">&quot;uniform&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;_value&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">8</span>,</span><br><span class=\"line\">      <span class=\"number\">64</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n<h3 id=\"附录-2-ODDS-的三个数据集\">附录 2: ODDS 的三个数据集</h3>\n<p><a href=\"http://odds.cs.stonybrook.edu\">ODDS</a> 中主要是多维 (多变量) 时间序列数据, 我们从中选择了三个数据集作为实验数据集, 数据统计信息如下表:</p>\n<table>\n<thead>\n<tr>\n<th>Dataset</th>\n<th>#points</th>\n<th>#dim.</th>\n<th>#outliers(%)</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>THYROID</td>\n<td>3772</td>\n<td>6</td>\n<td>93 (2.5%)</td>\n<td>exp_thy_214</td>\n</tr>\n<tr>\n<td>SATELLITE</td>\n<td>6435</td>\n<td>36</td>\n<td>2036 (32%)</td>\n<td>exp_sat_214</td>\n</tr>\n<tr>\n<td>MUSK</td>\n<td>3062</td>\n<td>166</td>\n<td>97 (3.2%)</td>\n<td>exp_mus_214</td>\n</tr>\n</tbody>\n</table>\n<p>这三个数据集的不同之处在于:</p>\n<ol>\n<li>维度 (dim) 相差大 (DIM 分别是 6 , 36 ,166 )</li>\n<li>异常率不同 (2.5%, 3.2%, 32%)</li>\n</ol>\n<h3 id=\"附录-3-实验原始数据-表格\">附录 3: 实验原始数据 (表格)</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">SHORT_EXP_NAME</th>\n<th style=\"text-align:left\">TRIALCMD_DATASET</th>\n<th style=\"text-align:left\">TRAINING_SAMPLE_RATE_FRAC</th>\n<th style=\"text-align:left\">AVG_LOSS</th>\n<th style=\"text-align:left\">AVG_AUC</th>\n<th style=\"text-align:left\">TOTAL_TRAINING_TIME(min)</th>\n<th style=\"text-align:left\">EXPID</th>\n<th style=\"text-align:left\">TRIALJOBID</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/1</td>\n<td style=\"text-align:left\">-808695.0625</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">141.5655</td>\n<td style=\"text-align:left\">pkozn786</td>\n<td style=\"text-align:left\">G0uPz</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/4</td>\n<td style=\"text-align:left\">-348153.8844</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">61.9486</td>\n<td style=\"text-align:left\">gs27ryjx</td>\n<td style=\"text-align:left\">vQQqv</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/8</td>\n<td style=\"text-align:left\">-242783644.8</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">46.5635</td>\n<td style=\"text-align:left\">lgua6ox4</td>\n<td style=\"text-align:left\">LsX3U</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/16</td>\n<td style=\"text-align:left\">-1486302809.6</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">39.9584</td>\n<td style=\"text-align:left\">aklxj7d9</td>\n<td style=\"text-align:left\">yyF60</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_MUS_214_20221124070846</td>\n<td style=\"text-align:left\">MUSK</td>\n<td style=\"text-align:left\">1/24</td>\n<td style=\"text-align:left\">-751732729.6</td>\n<td style=\"text-align:left\">0</td>\n<td style=\"text-align:left\">38.2083</td>\n<td style=\"text-align:left\">w5hfluvg</td>\n<td style=\"text-align:left\">Z1ALW</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/1</td>\n<td style=\"text-align:left\">-99676.8828</td>\n<td style=\"text-align:left\">0.7</td>\n<td style=\"text-align:left\">229.4541</td>\n<td style=\"text-align:left\">hc65txvk</td>\n<td style=\"text-align:left\">fr5ii</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/4</td>\n<td style=\"text-align:left\">-21157.9785</td>\n<td style=\"text-align:left\">0.6852</td>\n<td style=\"text-align:left\">140.2635</td>\n<td style=\"text-align:left\">iolyd70e</td>\n<td style=\"text-align:left\">IdzWE</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/8</td>\n<td style=\"text-align:left\">-10318.3757</td>\n<td style=\"text-align:left\">0.6903</td>\n<td style=\"text-align:left\">86.9189</td>\n<td style=\"text-align:left\">wgy57es2</td>\n<td style=\"text-align:left\">uISww</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/16</td>\n<td style=\"text-align:left\">-4292663</td>\n<td style=\"text-align:left\">0.6608</td>\n<td style=\"text-align:left\">76.4871</td>\n<td style=\"text-align:left\">zxlhj956</td>\n<td style=\"text-align:left\">kzW2k</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_SAT_214_20221124080724</td>\n<td style=\"text-align:left\">SATELLITE</td>\n<td style=\"text-align:left\">1/24</td>\n<td style=\"text-align:left\">-3274989.2</td>\n<td style=\"text-align:left\">0.565</td>\n<td style=\"text-align:left\">72.0015</td>\n<td style=\"text-align:left\">jv7qoxmb</td>\n<td style=\"text-align:left\">lhjCa</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/1</td>\n<td style=\"text-align:left\">-3309.7899</td>\n<td style=\"text-align:left\">0.8987</td>\n<td style=\"text-align:left\">175.2527</td>\n<td style=\"text-align:left\">by2zvwh9</td>\n<td style=\"text-align:left\">AwyaZ</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/4</td>\n<td style=\"text-align:left\">-1196.3076</td>\n<td style=\"text-align:left\">0.911</td>\n<td style=\"text-align:left\">75.0442</td>\n<td style=\"text-align:left\">xv7mn2b1</td>\n<td style=\"text-align:left\">qw1uJ</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/8</td>\n<td style=\"text-align:left\">-469.6848</td>\n<td style=\"text-align:left\">0.9104</td>\n<td style=\"text-align:left\">56.7766</td>\n<td style=\"text-align:left\">ual53vbt</td>\n<td style=\"text-align:left\">uRSdY</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/16</td>\n<td style=\"text-align:left\">-417792</td>\n<td style=\"text-align:left\">0.8977</td>\n<td style=\"text-align:left\">49.0220</td>\n<td style=\"text-align:left\">z6ahtyk9</td>\n<td style=\"text-align:left\">tYrqz</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">EXP_THY_214_20221124060301</td>\n<td style=\"text-align:left\">THYROID</td>\n<td style=\"text-align:left\">1/24</td>\n<td style=\"text-align:left\">-473460.8688</td>\n<td style=\"text-align:left\">0.8495</td>\n<td style=\"text-align:left\">44.4155</td>\n<td style=\"text-align:left\">37awf5dc</td>\n<td style=\"text-align:left\">vdlR5</td>\n</tr>\n</tbody>\n</table>\n"},{"title":"04-课程内容安排","date":"2022-11-14T05:44:54.000Z","updated":"2022-11-25T10:19:14.000Z","aliases":["04-课程内容安排"],"_content":"\n## 线性回归回忆 (回归问题)\n\n![[培训资料/贵州大学/22商业数据分析/03-线性回归原理分析及实现#模型表示]]\n\n## 机器学习模型理解与总结\n\n![[培训资料/贵州大学/22商业数据分析/04-机器学习模型理解#机器学习一般化理解]]  \n\n## 神经网络与手机品牌预测\n\n<a href='{% post_path 04-手机品牌识别之神经网络 %}'>04-手机品牌识别之神经网络</a>  \n\n \n","source":"_posts/04-课程内容安排.md","raw":"---\ntitle: 04-课程内容安排\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-11-14 13:44:54 \nupdated: 2022-11-25 18:19:14 \naliases:\n  - 04-课程内容安排\n---\n\n## 线性回归回忆 (回归问题)\n\n![[培训资料/贵州大学/22商业数据分析/03-线性回归原理分析及实现#模型表示]]\n\n## 机器学习模型理解与总结\n\n![[培训资料/贵州大学/22商业数据分析/04-机器学习模型理解#机器学习一般化理解]]  \n\n## 神经网络与手机品牌预测\n\n<a href='{% post_path 04-手机品牌识别之神经网络 %}'>04-手机品牌识别之神经网络</a>  \n\n \n","slug":"04-课程内容安排","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02inw000iiwv91edf9xql","content":"<h2 id=\"线性回归回忆-回归问题\">线性回归回忆 (回归问题)</h2>\n<p>![[培训资料/贵州大学/22商业数据分析/03-线性回归原理分析及实现#模型表示]]</p>\n<h2 id=\"机器学习模型理解与总结\">机器学习模型理解与总结</h2>\n<p>![[培训资料/贵州大学/22商业数据分析/04-机器学习模型理解#机器学习一般化理解]]</p>\n<h2 id=\"神经网络与手机品牌预测\">神经网络与手机品牌预测</h2>\n<p><a href='/uncategorized/316ec7ed5cda.html'>04-手机品牌识别之神经网络</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover2.jpg","excerpt":"","more":"<h2 id=\"线性回归回忆-回归问题\">线性回归回忆 (回归问题)</h2>\n<p>![[培训资料/贵州大学/22商业数据分析/03-线性回归原理分析及实现#模型表示]]</p>\n<h2 id=\"机器学习模型理解与总结\">机器学习模型理解与总结</h2>\n<p>![[培训资料/贵州大学/22商业数据分析/04-机器学习模型理解#机器学习一般化理解]]</p>\n<h2 id=\"神经网络与手机品牌预测\">神经网络与手机品牌预测</h2>\n<p><a href='/uncategorized/316ec7ed5cda.html'>04-手机品牌识别之神经网络</a></p>\n"},{"title":"2022-11-26 实验结果","date":"2022-11-25T22:30:09.000Z","updated":"2022-12-10T13:13:47.000Z","aliases":["2022-11-26 实验结果","2022-11-26实验结果"],"_content":"\n\n\n上次结果: <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a>.  \n\n## 摘要\n\n### ==目标==\n\n按 **维度高中低，异常率高中低** 的分类标准, 挑选 9 个 ODDS 数据集 ( <a href='{% post_path ODDS 数据集划分标准及常见问题 %}'>ODDS 数据集划分标准及常见问题</a>) 并进行实验, 实验方法参考本文 \" 实验设计章节 \".\n\n### ==实验结论==\n\n九个数据集上:\n\n- 3 个数据集的 $AUC^*$ ==不符合预期==\n- 5 个数据集的 $Test_{loss} *$ ==不符合预期==.\n- 9 个 (所有)**Training time** 全部符合预期\n\n细节:\n\n- **Training time(minutes)**: 在所有数据集上, 训练时间都随 $r$ 的降低而降低, 与 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a> 一致.\n- $AUC^*$(==预期: ==随着训练数据量的降低, AUC 降低 )\n\t- **符合预期**: 与 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a> 一致 (或我认为正确) 实验 (随着训练数据数据量的降低, AUC 减少)\n\t\t- Fig.2 Dataset MNIST\n\t\t- Fig.3 Dataset MUSK\n\t\t- Fig.4 Dataset SATELLITE\n\t\t- Fig.9 Dataset MAMMOGRAPHY )\n\t- ==不符合预期==\n\t\t- Fig.1 Dataset ARRHYTHMIA: 训练数据量减少, $AUC^*$ 先增后降低  \n\t\t- Fig.5 Dataset LETTER : AUC 在训练数据很少的时候升高了 (期望降低)  \n\t\t- Fig.9 Dataset MAMMOGRAPHY: 在 $r=1/4$ 的 $AUC^*$ 大于 $r=1/8$ 的 $AUC^*$  \n- $Test_{loss} *$ ,下文简称 loss (==预期: ==: 随着训练数据量的降低, $Test_{loss} *$ 增加)  \n\t- ==不符合预期== 的实验 ( 训练数据量减少, loss 反而降低)\n\t\t- Fig.2 Dataset MNIST\n\t\t- Fig.5 Dataset LETTER  \n\t\t- Fig.6 Dataset OPTDIGITS\n\t\t- Fig.8 Dataset ANNTHYROID  \n\t\t- Fig.9 Dataset MAMMOGRAPHY  \n<embed src='/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf' width='100%' height='750' type='application/pdf'>\n\n### ==可能原因分析==\n\n#### 不符合预期 AUC 可能原因分析\n\n- Fig.1 Dataset ARRHYTHMIA: 训练数据量减少, $AUC^*$ 先增后降低  \n\t- ==原因猜想== (没有实验证明): 数据量少 (452 条), 维度高 (274 维) 导致过拟合\n- Fig.5 Dataset LETTER : AUC 在训练数据很少 ($r=1/32,r=1/64$) 的时候升高了 (期望降低)  \n\t- ==原因猜想==: 数据量少 (在 $r=1/32,r=1/64$ 是, 训练数据分别只有 50/25 条 ), 导致过拟合 (dim=32)\n- Fig.9 Dataset MAMMOGRAPHY: 在 $r=1/4$ 的 $AUC^*$ 小于 $r=1/8$ 的 $AUC^*$  \n\t- ==原因猜想==: 在 $r=1/4$ 时抽到的训练数据没有代表性, 而 $r=1/8$ 时抽到的数据更有代表性. (数据量 11183, dim=6)\n\n#### Loss 不符合预期可能原因分析\n\n不符合预期的实验 ( 训练数据量减少, loss 反而降低)  \n\n- Fig.2 Dataset MNIST  \n\t- ==原因猜想== 模型没有学到数据的特征, 得到的 loss 随机的\n- Fig.5 Dataset LETTER  \n\t- ==原因猜想== 暂时想不出来\n- Fig.6 Dataset OPTDIGITS\n\t- ==原因猜想== 暂时想不出来\n\t- 对于的 loss 图像 ![static/attachment/Pasted image 20221201110026.png](/images/990e8dc15dfc3d4fbf6b0bc347ce50c486580b24.png)\n- Fig.8 Dataset ANNTHYROID / Fig.9 Dataset MAMMOGRAPHY\n\t- - ==原因猜想== 两个数据都是低纬数据, 是不是有什么关联?\n\t- loss 展示 ![static/attachment/Pasted image 20221201110235.png](/images/3e468fe601bb6c15b0ac6f549c0c5e45c728f9d1.png)\n\n### 本次工作与上次工作的不同之处\n\n- 数据集从 3 个变为 9 个 (https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn)\n- 训练集的抽样比例增加了 **两个抽取比例 $1/32,1/64$**, 即由 $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24\\right\\}$ 变为 $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}$\n- 损失函数替换为 Mean Square Error(MSE)(原概率损失 (binary cross-entropy)\n- 数据集归一化处理 (原标准化); 标注化假设原始数据服从高斯分布, 但是这里我们不清楚 ODDS 的数据是否服从高斯分布, 因此为了稳妥, 我们采用归一化.\n- 本次更多工作详细请参考章节 \" 本次工作内容总结 \".  \n\n \n\n## 实验背景/方法/目标\n\n==背景== 在时间序列异常检测算法的超参数优化的任务中，==方法== 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，==目标== 期望以 1) 更短的时间 2) 获得一个精度相似的模型。\n\n## 实验设计\n\n==超参数与模型设置== 实验在 VAE 的 11 个超参数（见 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a> 附录 1）空间中 (超参数空间指: 所有的超参数可能取值的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 $HP_i$, $i \\in \\left\\{1,2,\\dots,32\\right\\}$，构成 32 个不同的 VAE 模型 $VAE_{hp_i}$ 每个\n\n==数据集选择及处理== 从 ODDS 中的按照 **维度高中低，异常率高中低** 的方法选择数据量不同的 [9 个数据集]( https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn) $D_i$, $i$ 表示数据集的序号, $i \\in \\{1,\\dots,9 \\}$，并按照 $6:4$ 的比例将每个数据集划分为训练集 (training set) 与测试集 (test set), 所有的数据均被归一化处理 ($\\bar{x}=\\frac{x-min(x)}{max(x)-min(x)}$)\n\n==训练集抽样设置== 为了增加模型的训练速度，使用 RS 在训练集 (training set) 中抽取不同比率 ($r$) 的 子数据集分别训练每个模型 $VAE_{hp_i}$, 其中, $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}$; 例如, $r=1/1$ 表示使用全部的训练集 (training set) 训练所有的模型 $VAE_{hp_i}$，$r=1/8$ 表示使用训练集的 $1/8$ (subset, 占总训练集的 $1/8$) 训练所有模型 $VAE_{hp_i}$。$VAE_{hp_i}^{D_{i_r}}$ 表示该 VAE 的超参数是 $hp_i$ ,其训练数据是从数据集 $D_i$ 中安装比例 $r$ 进行抽取的.\n\n==评估标准== 本文选择三个度量标准来度量模型的性能, 包括: $Test_{loss}*$ / $AUC^*$ / Training time.\n\n- 👉 $Test_{loss}*$ : 在每个数据集 $D_i$ 上, 我们会以不同的比例 $r$ 将 $D_i$ 的训练集间距分为多个数据集 $D_i^r$; 然后使用 $D_i^r$ 训练一组超参数不同的 VAE 模型 $VAE_{hp_i}$, 我们将 $D_i^r$ 训练的这一组模型记为 $VAE_{hp_i}^{D_{i_r}}$; 在本例中, $i \\in \\{1, 2, \\dots, 32\\}$, 因为在超参数空间中使用 RS 抽取了 32 组不同的超参数样本. 在 $VAE_{hp_i}^{D_{i_r}}$ 中, 存在一个模型 $VAE_{hp*}=\\arg \\min_{hp_i} (VAE_{loss_{test}})$ , 其具有最小的平均 (使用 $D_i$ 中的 test set 独立重复评估 $VAE_{hp*}$ 10 次) 测试误差 ($Test_{loss}*$ )\n- 👉 **$AUC^*$** : $VAE_{hp*}$ 的 AUC, 即 $VAE_{hp_i}^{D_{i_r}}$ 中 **损失最小的模型的 AUC.**\n- 👉 **Training time**: 在 $VAE_{hp_i}^{D_{i_r}}$ 中, 使用数据集 $D_{i_r}$ (训练集) 训练每个模型 $VAE_{hp_i}$ 的训练时间总和, 其中, $VAE_{hp_i}, i \\in \\{1, 2, \\dots, 32\\}$ .\n\n## 本次工作内容总结\n\n- 按照<u>异常率</u> 与 <u>维度</u> 高中低重新划分数据集. 划分标准: <a href='{% post_path ODDS 数据集划分标准及常见问题 %}'>ODDS 数据集划分标准及常见问题</a>\n- <u>修改 VAE 的损失函数</u>. 将 binary cross-entropy 修改为 mean_absolute_error.\n\t- 原因: 基于 binary crossentropy 的损失差不多趋于 $-\\inf$ , 表现异常, 详细参考 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a>\n\t- 证明 VAE 模型的正确性. 通过 5 个例子, 测试损失函数为 mean_absolute_error 的 VAE. <a href='{% post_path vae_mse_example 1.pdf %}'>vae_mse_example 1.pdf</a>\n- 调研数据处理方式 (是归一化还是标注化) <a href='{% post_path 时间序列异常检测论文中常见的数据预处理方式 %}'>时间序列异常检测论文中常见的数据预处理方式</a>,\n\t- 结论: 都有, 只是场景不同\n\t- 调研方式: 读论文\n- 将 ODDS 数据集的标注化处理方式转为归一化 ($\\bar{x}=\\frac{x-min(x)}{max(x)-min(x)}$)\n\t- 原因: 标注化数据的 <u>前提是</u> 数据 follow normal distribution, if the data does not follow normal distribution then this will make problems. (Ali, Peshawa Jamal Muhammad, et al. \"Data normalization and standardization: a technical report.\" Mach Learn Tech Rep 1.1 (2014): 1-6.)\n\t- 对于 ODDS 的数据集来说, 其是否 follow normal distribution 我并不知道, 也不关心, 因此就直接采用归一化的方式\n- 下载并处理分好的 9 个数据集 https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn\n- 验证数据处理的正确性.\n\t- 结论: 正确处理.\n\t- 通过可视化已处理的 9 个数据集, 其所有数据的取值 $x \\in [0,1]$ , 表示数据处理正确. 可视化后的九个数据的概览图如下图所示:![static/attachment/Pasted image 20221126203842.png](/images/e058a82acde3fe0d917cc172375c1838b5fa959e.png)\n- 解决 NNI 实验失败后, 无法接着训练的问题\n- 跑完 9 个数据集上的实验结果 <embed src='/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf' width='100%' height='750' type='application/pdf'>\n","source":"_posts/2022-11-26实验结果.md","raw":"---\ntitle: 2022-11-26 实验结果\ntags:\n  - public\n  - research\ndate: 2022-11-26 06:30:09 \nupdated: 2022-12-10 21:13:47 \ncategories:\n  - research\naliases:\n  - 2022-11-26 实验结果\n  - 2022-11-26实验结果\n---\n\n\n\n上次结果: <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a>.  \n\n## 摘要\n\n### ==目标==\n\n按 **维度高中低，异常率高中低** 的分类标准, 挑选 9 个 ODDS 数据集 ( <a href='{% post_path ODDS 数据集划分标准及常见问题 %}'>ODDS 数据集划分标准及常见问题</a>) 并进行实验, 实验方法参考本文 \" 实验设计章节 \".\n\n### ==实验结论==\n\n九个数据集上:\n\n- 3 个数据集的 $AUC^*$ ==不符合预期==\n- 5 个数据集的 $Test_{loss} *$ ==不符合预期==.\n- 9 个 (所有)**Training time** 全部符合预期\n\n细节:\n\n- **Training time(minutes)**: 在所有数据集上, 训练时间都随 $r$ 的降低而降低, 与 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a> 一致.\n- $AUC^*$(==预期: ==随着训练数据量的降低, AUC 降低 )\n\t- **符合预期**: 与 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a> 一致 (或我认为正确) 实验 (随着训练数据数据量的降低, AUC 减少)\n\t\t- Fig.2 Dataset MNIST\n\t\t- Fig.3 Dataset MUSK\n\t\t- Fig.4 Dataset SATELLITE\n\t\t- Fig.9 Dataset MAMMOGRAPHY )\n\t- ==不符合预期==\n\t\t- Fig.1 Dataset ARRHYTHMIA: 训练数据量减少, $AUC^*$ 先增后降低  \n\t\t- Fig.5 Dataset LETTER : AUC 在训练数据很少的时候升高了 (期望降低)  \n\t\t- Fig.9 Dataset MAMMOGRAPHY: 在 $r=1/4$ 的 $AUC^*$ 大于 $r=1/8$ 的 $AUC^*$  \n- $Test_{loss} *$ ,下文简称 loss (==预期: ==: 随着训练数据量的降低, $Test_{loss} *$ 增加)  \n\t- ==不符合预期== 的实验 ( 训练数据量减少, loss 反而降低)\n\t\t- Fig.2 Dataset MNIST\n\t\t- Fig.5 Dataset LETTER  \n\t\t- Fig.6 Dataset OPTDIGITS\n\t\t- Fig.8 Dataset ANNTHYROID  \n\t\t- Fig.9 Dataset MAMMOGRAPHY  \n<embed src='/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf' width='100%' height='750' type='application/pdf'>\n\n### ==可能原因分析==\n\n#### 不符合预期 AUC 可能原因分析\n\n- Fig.1 Dataset ARRHYTHMIA: 训练数据量减少, $AUC^*$ 先增后降低  \n\t- ==原因猜想== (没有实验证明): 数据量少 (452 条), 维度高 (274 维) 导致过拟合\n- Fig.5 Dataset LETTER : AUC 在训练数据很少 ($r=1/32,r=1/64$) 的时候升高了 (期望降低)  \n\t- ==原因猜想==: 数据量少 (在 $r=1/32,r=1/64$ 是, 训练数据分别只有 50/25 条 ), 导致过拟合 (dim=32)\n- Fig.9 Dataset MAMMOGRAPHY: 在 $r=1/4$ 的 $AUC^*$ 小于 $r=1/8$ 的 $AUC^*$  \n\t- ==原因猜想==: 在 $r=1/4$ 时抽到的训练数据没有代表性, 而 $r=1/8$ 时抽到的数据更有代表性. (数据量 11183, dim=6)\n\n#### Loss 不符合预期可能原因分析\n\n不符合预期的实验 ( 训练数据量减少, loss 反而降低)  \n\n- Fig.2 Dataset MNIST  \n\t- ==原因猜想== 模型没有学到数据的特征, 得到的 loss 随机的\n- Fig.5 Dataset LETTER  \n\t- ==原因猜想== 暂时想不出来\n- Fig.6 Dataset OPTDIGITS\n\t- ==原因猜想== 暂时想不出来\n\t- 对于的 loss 图像 ![static/attachment/Pasted image 20221201110026.png](/images/990e8dc15dfc3d4fbf6b0bc347ce50c486580b24.png)\n- Fig.8 Dataset ANNTHYROID / Fig.9 Dataset MAMMOGRAPHY\n\t- - ==原因猜想== 两个数据都是低纬数据, 是不是有什么关联?\n\t- loss 展示 ![static/attachment/Pasted image 20221201110235.png](/images/3e468fe601bb6c15b0ac6f549c0c5e45c728f9d1.png)\n\n### 本次工作与上次工作的不同之处\n\n- 数据集从 3 个变为 9 个 (https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn)\n- 训练集的抽样比例增加了 **两个抽取比例 $1/32,1/64$**, 即由 $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24\\right\\}$ 变为 $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}$\n- 损失函数替换为 Mean Square Error(MSE)(原概率损失 (binary cross-entropy)\n- 数据集归一化处理 (原标准化); 标注化假设原始数据服从高斯分布, 但是这里我们不清楚 ODDS 的数据是否服从高斯分布, 因此为了稳妥, 我们采用归一化.\n- 本次更多工作详细请参考章节 \" 本次工作内容总结 \".  \n\n \n\n## 实验背景/方法/目标\n\n==背景== 在时间序列异常检测算法的超参数优化的任务中，==方法== 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，==目标== 期望以 1) 更短的时间 2) 获得一个精度相似的模型。\n\n## 实验设计\n\n==超参数与模型设置== 实验在 VAE 的 11 个超参数（见 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a> 附录 1）空间中 (超参数空间指: 所有的超参数可能取值的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 $HP_i$, $i \\in \\left\\{1,2,\\dots,32\\right\\}$，构成 32 个不同的 VAE 模型 $VAE_{hp_i}$ 每个\n\n==数据集选择及处理== 从 ODDS 中的按照 **维度高中低，异常率高中低** 的方法选择数据量不同的 [9 个数据集]( https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn) $D_i$, $i$ 表示数据集的序号, $i \\in \\{1,\\dots,9 \\}$，并按照 $6:4$ 的比例将每个数据集划分为训练集 (training set) 与测试集 (test set), 所有的数据均被归一化处理 ($\\bar{x}=\\frac{x-min(x)}{max(x)-min(x)}$)\n\n==训练集抽样设置== 为了增加模型的训练速度，使用 RS 在训练集 (training set) 中抽取不同比率 ($r$) 的 子数据集分别训练每个模型 $VAE_{hp_i}$, 其中, $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}$; 例如, $r=1/1$ 表示使用全部的训练集 (training set) 训练所有的模型 $VAE_{hp_i}$，$r=1/8$ 表示使用训练集的 $1/8$ (subset, 占总训练集的 $1/8$) 训练所有模型 $VAE_{hp_i}$。$VAE_{hp_i}^{D_{i_r}}$ 表示该 VAE 的超参数是 $hp_i$ ,其训练数据是从数据集 $D_i$ 中安装比例 $r$ 进行抽取的.\n\n==评估标准== 本文选择三个度量标准来度量模型的性能, 包括: $Test_{loss}*$ / $AUC^*$ / Training time.\n\n- 👉 $Test_{loss}*$ : 在每个数据集 $D_i$ 上, 我们会以不同的比例 $r$ 将 $D_i$ 的训练集间距分为多个数据集 $D_i^r$; 然后使用 $D_i^r$ 训练一组超参数不同的 VAE 模型 $VAE_{hp_i}$, 我们将 $D_i^r$ 训练的这一组模型记为 $VAE_{hp_i}^{D_{i_r}}$; 在本例中, $i \\in \\{1, 2, \\dots, 32\\}$, 因为在超参数空间中使用 RS 抽取了 32 组不同的超参数样本. 在 $VAE_{hp_i}^{D_{i_r}}$ 中, 存在一个模型 $VAE_{hp*}=\\arg \\min_{hp_i} (VAE_{loss_{test}})$ , 其具有最小的平均 (使用 $D_i$ 中的 test set 独立重复评估 $VAE_{hp*}$ 10 次) 测试误差 ($Test_{loss}*$ )\n- 👉 **$AUC^*$** : $VAE_{hp*}$ 的 AUC, 即 $VAE_{hp_i}^{D_{i_r}}$ 中 **损失最小的模型的 AUC.**\n- 👉 **Training time**: 在 $VAE_{hp_i}^{D_{i_r}}$ 中, 使用数据集 $D_{i_r}$ (训练集) 训练每个模型 $VAE_{hp_i}$ 的训练时间总和, 其中, $VAE_{hp_i}, i \\in \\{1, 2, \\dots, 32\\}$ .\n\n## 本次工作内容总结\n\n- 按照<u>异常率</u> 与 <u>维度</u> 高中低重新划分数据集. 划分标准: <a href='{% post_path ODDS 数据集划分标准及常见问题 %}'>ODDS 数据集划分标准及常见问题</a>\n- <u>修改 VAE 的损失函数</u>. 将 binary cross-entropy 修改为 mean_absolute_error.\n\t- 原因: 基于 binary crossentropy 的损失差不多趋于 $-\\inf$ , 表现异常, 详细参考 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a>\n\t- 证明 VAE 模型的正确性. 通过 5 个例子, 测试损失函数为 mean_absolute_error 的 VAE. <a href='{% post_path vae_mse_example 1.pdf %}'>vae_mse_example 1.pdf</a>\n- 调研数据处理方式 (是归一化还是标注化) <a href='{% post_path 时间序列异常检测论文中常见的数据预处理方式 %}'>时间序列异常检测论文中常见的数据预处理方式</a>,\n\t- 结论: 都有, 只是场景不同\n\t- 调研方式: 读论文\n- 将 ODDS 数据集的标注化处理方式转为归一化 ($\\bar{x}=\\frac{x-min(x)}{max(x)-min(x)}$)\n\t- 原因: 标注化数据的 <u>前提是</u> 数据 follow normal distribution, if the data does not follow normal distribution then this will make problems. (Ali, Peshawa Jamal Muhammad, et al. \"Data normalization and standardization: a technical report.\" Mach Learn Tech Rep 1.1 (2014): 1-6.)\n\t- 对于 ODDS 的数据集来说, 其是否 follow normal distribution 我并不知道, 也不关心, 因此就直接采用归一化的方式\n- 下载并处理分好的 9 个数据集 https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn\n- 验证数据处理的正确性.\n\t- 结论: 正确处理.\n\t- 通过可视化已处理的 9 个数据集, 其所有数据的取值 $x \\in [0,1]$ , 表示数据处理正确. 可视化后的九个数据的概览图如下图所示:![static/attachment/Pasted image 20221126203842.png](/images/e058a82acde3fe0d917cc172375c1838b5fa959e.png)\n- 解决 NNI 实验失败后, 无法接着训练的问题\n- 跑完 9 个数据集上的实验结果 <embed src='/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf' width='100%' height='750' type='application/pdf'>\n","slug":"2022-11-26实验结果","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02inx000miwv9cx1wdk69","content":"<p>上次结果: <a href=''>2022-11-25 实验结果</a>.</p>\n<h2 id=\"摘要\">摘要</h2>\n<h3 id=\"目标\"><mark>目标</mark></h3>\n<p>按 <strong>维度高中低，异常率高中低</strong> 的分类标准, 挑选 9 个 ODDS 数据集 ( <a href=''>ODDS 数据集划分标准及常见问题</a>) 并进行实验, 实验方法参考本文 &quot; 实验设计章节 &quot;.</p>\n<h3 id=\"实验结论\"><mark>实验结论</mark></h3>\n<p>九个数据集上:</p>\n<ul>\n<li>3 个数据集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> <mark>不符合预期</mark></li>\n<li>5 个数据集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss} *</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> <mark>不符合预期</mark>.</li>\n<li>9 个 (所有)<strong>Training time</strong> 全部符合预期</li>\n</ul>\n<p>细节:</p>\n<ul>\n<li><strong>Training time(minutes)</strong>: 在所有数据集上, 训练时间都随 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 的降低而降低, 与 <a href=''>2022-11-25 实验结果</a> 一致.</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span>(==预期: ==随着训练数据量的降低, AUC 降低 )\n<ul>\n<li><strong>符合预期</strong>: 与 <a href=''>2022-11-25 实验结果</a> 一致 (或我认为正确) 实验 (随着训练数据数据量的降低, AUC 减少)\n<ul>\n<li>Fig.2 Dataset MNIST</li>\n<li>Fig.3 Dataset MUSK</li>\n<li>Fig.4 Dataset SATELLITE</li>\n<li>Fig.9 Dataset MAMMOGRAPHY )</li>\n</ul>\n</li>\n<li><mark>不符合预期</mark>\n<ul>\n<li>Fig.1 Dataset ARRHYTHMIA: 训练数据量减少, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> 先增后降低</li>\n<li>Fig.5 Dataset LETTER : AUC 在训练数据很少的时候升高了 (期望降低)</li>\n<li>Fig.9 Dataset MAMMOGRAPHY: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">r=1/4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/4</span></span></span></span> 的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> 大于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss} *</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> ,下文简称 loss (==预期: ==: 随着训练数据量的降低, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss} *</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> 增加)\n<ul>\n<li><mark>不符合预期</mark> 的实验 ( 训练数据量减少, loss 反而降低)\n<ul>\n<li>Fig.2 Dataset MNIST</li>\n<li>Fig.5 Dataset LETTER</li>\n<li>Fig.6 Dataset OPTDIGITS</li>\n<li>Fig.8 Dataset ANNTHYROID</li>\n<li>Fig.9 Dataset MAMMOGRAPHY<br>\n<embed src='/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf' width='100%' height='750' type='application/pdf'></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"可能原因分析\"><mark>可能原因分析</mark></h3>\n<h4 id=\"不符合预期-AUC-可能原因分析\">不符合预期 AUC 可能原因分析</h4>\n<ul>\n<li>Fig.1 Dataset ARRHYTHMIA: 训练数据量减少, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> 先增后降低\n<ul>\n<li><mark>原因猜想</mark> (没有实验证明): 数据量少 (452 条), 维度高 (274 维) 导致过拟合</li>\n</ul>\n</li>\n<li>Fig.5 Dataset LETTER : AUC 在训练数据很少 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn></mrow><annotation encoding=\"application/x-tex\">r=1/32,r=1/64</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/64</span></span></span></span>) 的时候升高了 (期望降低)\n<ul>\n<li><mark>原因猜想</mark>: 数据量少 (在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn></mrow><annotation encoding=\"application/x-tex\">r=1/32,r=1/64</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/64</span></span></span></span> 是, 训练数据分别只有 50/25 条 ), 导致过拟合 (dim=32)</li>\n</ul>\n</li>\n<li>Fig.9 Dataset MAMMOGRAPHY: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">r=1/4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/4</span></span></span></span> 的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> 小于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span>\n<ul>\n<li><mark>原因猜想</mark>: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">r=1/4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/4</span></span></span></span> 时抽到的训练数据没有代表性, 而 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 时抽到的数据更有代表性. (数据量 11183, dim=6)</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Loss-不符合预期可能原因分析\">Loss 不符合预期可能原因分析</h4>\n<p>不符合预期的实验 ( 训练数据量减少, loss 反而降低)</p>\n<ul>\n<li>Fig.2 Dataset MNIST\n<ul>\n<li><mark>原因猜想</mark> 模型没有学到数据的特征, 得到的 loss 随机的</li>\n</ul>\n</li>\n<li>Fig.5 Dataset LETTER\n<ul>\n<li><mark>原因猜想</mark> 暂时想不出来</li>\n</ul>\n</li>\n<li>Fig.6 Dataset OPTDIGITS\n<ul>\n<li><mark>原因猜想</mark> 暂时想不出来</li>\n<li>对于的 loss 图像 <img src=\"/images/990e8dc15dfc3d4fbf6b0bc347ce50c486580b24.png\" alt=\"static/attachment/Pasted image 20221201110026.png\"></li>\n</ul>\n</li>\n<li>Fig.8 Dataset ANNTHYROID / Fig.9 Dataset MAMMOGRAPHY\n<ul>\n<li>\n<ul>\n<li><mark>原因猜想</mark> 两个数据都是低纬数据, 是不是有什么关联?</li>\n</ul>\n</li>\n<li>loss 展示 <img src=\"/images/3e468fe601bb6c15b0ac6f549c0c5e45c728f9d1.png\" alt=\"static/attachment/Pasted image 20221201110235.png\"></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"本次工作与上次工作的不同之处\">本次工作与上次工作的不同之处</h3>\n<ul>\n<li>数据集从 3 个变为 9 个 (<a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn\">https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn</a>)</li>\n<li>训练集的抽样比例增加了 <strong>两个抽取比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn></mrow><annotation encoding=\"application/x-tex\">1/32,1/64</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/64</span></span></span></span></strong>, 即由 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span> 变为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/64</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span></li>\n<li>损失函数替换为 Mean Square Error(MSE)(原概率损失 (binary cross-entropy)</li>\n<li>数据集归一化处理 (原标准化); 标注化假设原始数据服从高斯分布, 但是这里我们不清楚 ODDS 的数据是否服从高斯分布, 因此为了稳妥, 我们采用归一化.</li>\n<li>本次更多工作详细请参考章节 &quot; 本次工作内容总结 &quot;.</li>\n</ul>\n<h2 id=\"实验背景-方法-目标\">实验背景/方法/目标</h2>\n<p><mark>背景</mark> 在时间序列异常检测算法的超参数优化的任务中，<mark>方法</mark> 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，<mark>目标</mark> 期望以 1) 更短的时间 2) 获得一个精度相似的模型。</p>\n<h2 id=\"实验设计\">实验设计</h2>\n<p><mark>超参数与模型设置</mark> 实验在 VAE 的 11 个超参数（见 <a href=''>2022-11-25 实验结果</a> 附录 1）空间中 (超参数空间指: 所有的超参数可能取值的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">HP_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">i \\in \\left\\{1,2,\\dots,32\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>，构成 32 个不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 每个</p>\n<p><mark>数据集选择及处理</mark> 从 ODDS 中的按照 <strong>维度高中低，异常率高中低</strong> 的方法选择数据量不同的 <a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn\">9 个数据集</a> <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 表示数据集的序号, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>9</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{1,\\dots,9 \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">9</span><span class=\"mclose\">}</span></span></span></span>，并按照 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>:</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">6:4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span> 的比例将每个数据集划分为训练集 (training set) 与测试集 (test set), 所有的数据均被归一化处理 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>x</mi><mo>ˉ</mo></mover><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\bar{x}=\\frac{x-min(x)}{max(x)-min(x)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5678em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">ma</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">min</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">min</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>)</p>\n<p><mark>训练集抽样设置</mark> 为了增加模型的训练速度，使用 RS 在训练集 (training set) 中抽取不同比率 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>) 的 子数据集分别训练每个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/64</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>; 例如, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1/1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/1</span></span></span></span> 表示使用全部的训练集 (training set) 训练所有的模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 表示使用训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> (subset, 占总训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span>) 训练所有模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 表示该 VAE 的超参数是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">hp_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ,其训练数据是从数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中安装比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 进行抽取的.</p>\n<p><mark>评估标准</mark> 本文选择三个度量标准来度量模型的性能, 包括: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> / <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> / Training time.</p>\n<ul>\n<li>👉 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> : 在每个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 上, 我们会以不同的比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 将 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的训练集间距分为多个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span>; 然后使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span> 训练一组超参数不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 我们将 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span> 训练的这一组模型记为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span>; 在本例中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{1, 2, \\dots, 32\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose\">}</span></span></span></span>, 因为在超参数空间中使用 RS 抽取了 32 组不同的超参数样本. 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中, 存在一个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub><mo>=</mo><mi>arg</mi><mo>⁡</mo><msub><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub><mo stretchy=\"false\">(</mo><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}=\\arg \\min_{hp_i} (VAE_{loss_{test}})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mop\">ar<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">min</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">os</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2963em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">es</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> , 其具有最小的平均 (使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中的 test set 独立重复评估 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 10 次) 测试误差 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> )</li>\n<li>👉 <strong><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></strong> : <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的 AUC, 即 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中 <strong>损失最小的模型的 AUC.</strong></li>\n<li>👉 <strong>Training time</strong>: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中, 使用数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></mrow><annotation encoding=\"application/x-tex\">D_{i_r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9334em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span></span></span></span> (训练集) 训练每个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的训练时间总和, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}, i \\in \\{1, 2, \\dots, 32\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose\">}</span></span></span></span> .</li>\n</ul>\n<h2 id=\"本次工作内容总结\">本次工作内容总结</h2>\n<ul>\n<li>按照<u>异常率</u> 与 <u>维度</u> 高中低重新划分数据集. 划分标准: <a href=''>ODDS 数据集划分标准及常见问题</a></li>\n<li><u>修改 VAE 的损失函数</u>. 将 binary cross-entropy 修改为 mean_absolute_error.\n<ul>\n<li>原因: 基于 binary crossentropy 的损失差不多趋于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mi>inf</mi><mo>⁡</mo></mrow><annotation encoding=\"application/x-tex\">-\\inf</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">in<span style=\"margin-right:0.07778em;\">f</span></span></span></span></span> , 表现异常, 详细参考 <a href=''>2022-11-25 实验结果</a></li>\n<li>证明 VAE 模型的正确性. 通过 5 个例子, 测试损失函数为 mean_absolute_error 的 VAE. <a href=''>vae_mse_example 1.pdf</a></li>\n</ul>\n</li>\n<li>调研数据处理方式 (是归一化还是标注化) <a href=''>时间序列异常检测论文中常见的数据预处理方式</a>,\n<ul>\n<li>结论: 都有, 只是场景不同</li>\n<li>调研方式: 读论文</li>\n</ul>\n</li>\n<li>将 ODDS 数据集的标注化处理方式转为归一化 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>x</mi><mo>ˉ</mo></mover><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\bar{x}=\\frac{x-min(x)}{max(x)-min(x)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5678em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">ma</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">min</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">min</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>)\n<ul>\n<li>原因: 标注化数据的 <u>前提是</u> 数据 follow normal distribution, if the data does not follow normal distribution then this will make problems. (Ali, Peshawa Jamal Muhammad, et al. “Data normalization and standardization: a technical report.” Mach Learn Tech Rep 1.1 (2014): 1-6.)</li>\n<li>对于 ODDS 的数据集来说, 其是否 follow normal distribution 我并不知道, 也不关心, 因此就直接采用归一化的方式</li>\n</ul>\n</li>\n<li>下载并处理分好的 9 个数据集 <a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn\">https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn</a></li>\n<li>验证数据处理的正确性.\n<ul>\n<li>结论: 正确处理.</li>\n<li>通过可视化已处理的 9 个数据集, 其所有数据的取值 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">x \\in [0,1]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span> , 表示数据处理正确. 可视化后的九个数据的概览图如下图所示:<img src=\"/images/e058a82acde3fe0d917cc172375c1838b5fa959e.png\" alt=\"static/attachment/Pasted image 20221126203842.png\"></li>\n</ul>\n</li>\n<li>解决 NNI 实验失败后, 无法接着训练的问题</li>\n<li>跑完 9 个数据集上的实验结果 <embed src='/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf' width='100%' height='750' type='application/pdf'></li>\n</ul>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover1.JPG","excerpt":"","more":"<p>上次结果: <a href=''>2022-11-25 实验结果</a>.</p>\n<h2 id=\"摘要\">摘要</h2>\n<h3 id=\"目标\"><mark>目标</mark></h3>\n<p>按 <strong>维度高中低，异常率高中低</strong> 的分类标准, 挑选 9 个 ODDS 数据集 ( <a href=''>ODDS 数据集划分标准及常见问题</a>) 并进行实验, 实验方法参考本文 &quot; 实验设计章节 &quot;.</p>\n<h3 id=\"实验结论\"><mark>实验结论</mark></h3>\n<p>九个数据集上:</p>\n<ul>\n<li>3 个数据集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> <mark>不符合预期</mark></li>\n<li>5 个数据集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss} *</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> <mark>不符合预期</mark>.</li>\n<li>9 个 (所有)<strong>Training time</strong> 全部符合预期</li>\n</ul>\n<p>细节:</p>\n<ul>\n<li><strong>Training time(minutes)</strong>: 在所有数据集上, 训练时间都随 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 的降低而降低, 与 <a href=''>2022-11-25 实验结果</a> 一致.</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span>(==预期: ==随着训练数据量的降低, AUC 降低 )\n<ul>\n<li><strong>符合预期</strong>: 与 <a href=''>2022-11-25 实验结果</a> 一致 (或我认为正确) 实验 (随着训练数据数据量的降低, AUC 减少)\n<ul>\n<li>Fig.2 Dataset MNIST</li>\n<li>Fig.3 Dataset MUSK</li>\n<li>Fig.4 Dataset SATELLITE</li>\n<li>Fig.9 Dataset MAMMOGRAPHY )</li>\n</ul>\n</li>\n<li><mark>不符合预期</mark>\n<ul>\n<li>Fig.1 Dataset ARRHYTHMIA: 训练数据量减少, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> 先增后降低</li>\n<li>Fig.5 Dataset LETTER : AUC 在训练数据很少的时候升高了 (期望降低)</li>\n<li>Fig.9 Dataset MAMMOGRAPHY: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">r=1/4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/4</span></span></span></span> 的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> 大于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss} *</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> ,下文简称 loss (==预期: ==: 随着训练数据量的降低, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss} *</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> 增加)\n<ul>\n<li><mark>不符合预期</mark> 的实验 ( 训练数据量减少, loss 反而降低)\n<ul>\n<li>Fig.2 Dataset MNIST</li>\n<li>Fig.5 Dataset LETTER</li>\n<li>Fig.6 Dataset OPTDIGITS</li>\n<li>Fig.8 Dataset ANNTHYROID</li>\n<li>Fig.9 Dataset MAMMOGRAPHY<br>\n<embed src='/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf' width='100%' height='750' type='application/pdf'></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"可能原因分析\"><mark>可能原因分析</mark></h3>\n<h4 id=\"不符合预期-AUC-可能原因分析\">不符合预期 AUC 可能原因分析</h4>\n<ul>\n<li>Fig.1 Dataset ARRHYTHMIA: 训练数据量减少, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> 先增后降低\n<ul>\n<li><mark>原因猜想</mark> (没有实验证明): 数据量少 (452 条), 维度高 (274 维) 导致过拟合</li>\n</ul>\n</li>\n<li>Fig.5 Dataset LETTER : AUC 在训练数据很少 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn></mrow><annotation encoding=\"application/x-tex\">r=1/32,r=1/64</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/64</span></span></span></span>) 的时候升高了 (期望降低)\n<ul>\n<li><mark>原因猜想</mark>: 数据量少 (在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn></mrow><annotation encoding=\"application/x-tex\">r=1/32,r=1/64</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/64</span></span></span></span> 是, 训练数据分别只有 50/25 条 ), 导致过拟合 (dim=32)</li>\n</ul>\n</li>\n<li>Fig.9 Dataset MAMMOGRAPHY: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">r=1/4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/4</span></span></span></span> 的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> 小于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span>\n<ul>\n<li><mark>原因猜想</mark>: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">r=1/4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/4</span></span></span></span> 时抽到的训练数据没有代表性, 而 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 时抽到的数据更有代表性. (数据量 11183, dim=6)</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Loss-不符合预期可能原因分析\">Loss 不符合预期可能原因分析</h4>\n<p>不符合预期的实验 ( 训练数据量减少, loss 反而降低)</p>\n<ul>\n<li>Fig.2 Dataset MNIST\n<ul>\n<li><mark>原因猜想</mark> 模型没有学到数据的特征, 得到的 loss 随机的</li>\n</ul>\n</li>\n<li>Fig.5 Dataset LETTER\n<ul>\n<li><mark>原因猜想</mark> 暂时想不出来</li>\n</ul>\n</li>\n<li>Fig.6 Dataset OPTDIGITS\n<ul>\n<li><mark>原因猜想</mark> 暂时想不出来</li>\n<li>对于的 loss 图像 <img src=\"/images/990e8dc15dfc3d4fbf6b0bc347ce50c486580b24.png\" alt=\"static/attachment/Pasted image 20221201110026.png\"></li>\n</ul>\n</li>\n<li>Fig.8 Dataset ANNTHYROID / Fig.9 Dataset MAMMOGRAPHY\n<ul>\n<li>\n<ul>\n<li><mark>原因猜想</mark> 两个数据都是低纬数据, 是不是有什么关联?</li>\n</ul>\n</li>\n<li>loss 展示 <img src=\"/images/3e468fe601bb6c15b0ac6f549c0c5e45c728f9d1.png\" alt=\"static/attachment/Pasted image 20221201110235.png\"></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"本次工作与上次工作的不同之处\">本次工作与上次工作的不同之处</h3>\n<ul>\n<li>数据集从 3 个变为 9 个 (<a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn\">https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn</a>)</li>\n<li>训练集的抽样比例增加了 <strong>两个抽取比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn></mrow><annotation encoding=\"application/x-tex\">1/32,1/64</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/64</span></span></span></span></strong>, 即由 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span> 变为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/64</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span></li>\n<li>损失函数替换为 Mean Square Error(MSE)(原概率损失 (binary cross-entropy)</li>\n<li>数据集归一化处理 (原标准化); 标注化假设原始数据服从高斯分布, 但是这里我们不清楚 ODDS 的数据是否服从高斯分布, 因此为了稳妥, 我们采用归一化.</li>\n<li>本次更多工作详细请参考章节 &quot; 本次工作内容总结 &quot;.</li>\n</ul>\n<h2 id=\"实验背景-方法-目标\">实验背景/方法/目标</h2>\n<p><mark>背景</mark> 在时间序列异常检测算法的超参数优化的任务中，<mark>方法</mark> 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，<mark>目标</mark> 期望以 1) 更短的时间 2) 获得一个精度相似的模型。</p>\n<h2 id=\"实验设计\">实验设计</h2>\n<p><mark>超参数与模型设置</mark> 实验在 VAE 的 11 个超参数（见 <a href=''>2022-11-25 实验结果</a> 附录 1）空间中 (超参数空间指: 所有的超参数可能取值的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">HP_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">i \\in \\left\\{1,2,\\dots,32\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>，构成 32 个不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 每个</p>\n<p><mark>数据集选择及处理</mark> 从 ODDS 中的按照 <strong>维度高中低，异常率高中低</strong> 的方法选择数据量不同的 <a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn\">9 个数据集</a> <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> 表示数据集的序号, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>9</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{1,\\dots,9 \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">9</span><span class=\"mclose\">}</span></span></span></span>，并按照 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>:</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">6:4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span> 的比例将每个数据集划分为训练集 (training set) 与测试集 (test set), 所有的数据均被归一化处理 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>x</mi><mo>ˉ</mo></mover><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\bar{x}=\\frac{x-min(x)}{max(x)-min(x)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5678em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">ma</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">min</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">min</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>)</p>\n<p><mark>训练集抽样设置</mark> 为了增加模型的训练速度，使用 RS 在训练集 (training set) 中抽取不同比率 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>) 的 子数据集分别训练每个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/64</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>; 例如, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1/1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/1</span></span></span></span> 表示使用全部的训练集 (training set) 训练所有的模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 表示使用训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> (subset, 占总训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span>) 训练所有模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 表示该 VAE 的超参数是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">hp_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ,其训练数据是从数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中安装比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 进行抽取的.</p>\n<p><mark>评估标准</mark> 本文选择三个度量标准来度量模型的性能, 包括: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> / <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> / Training time.</p>\n<ul>\n<li>👉 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> : 在每个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 上, 我们会以不同的比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 将 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的训练集间距分为多个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span>; 然后使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span> 训练一组超参数不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 我们将 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span> 训练的这一组模型记为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span>; 在本例中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{1, 2, \\dots, 32\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose\">}</span></span></span></span>, 因为在超参数空间中使用 RS 抽取了 32 组不同的超参数样本. 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中, 存在一个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub><mo>=</mo><mi>arg</mi><mo>⁡</mo><msub><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub><mo stretchy=\"false\">(</mo><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}=\\arg \\min_{hp_i} (VAE_{loss_{test}})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mop\">ar<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">min</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">os</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2963em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">es</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> , 其具有最小的平均 (使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中的 test set 独立重复评估 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 10 次) 测试误差 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> )</li>\n<li>👉 <strong><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></strong> : <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的 AUC, 即 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中 <strong>损失最小的模型的 AUC.</strong></li>\n<li>👉 <strong>Training time</strong>: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中, 使用数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></mrow><annotation encoding=\"application/x-tex\">D_{i_r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9334em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span></span></span></span> (训练集) 训练每个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的训练时间总和, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}, i \\in \\{1, 2, \\dots, 32\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose\">}</span></span></span></span> .</li>\n</ul>\n<h2 id=\"本次工作内容总结\">本次工作内容总结</h2>\n<ul>\n<li>按照<u>异常率</u> 与 <u>维度</u> 高中低重新划分数据集. 划分标准: <a href=''>ODDS 数据集划分标准及常见问题</a></li>\n<li><u>修改 VAE 的损失函数</u>. 将 binary cross-entropy 修改为 mean_absolute_error.\n<ul>\n<li>原因: 基于 binary crossentropy 的损失差不多趋于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mi>inf</mi><mo>⁡</mo></mrow><annotation encoding=\"application/x-tex\">-\\inf</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">in<span style=\"margin-right:0.07778em;\">f</span></span></span></span></span> , 表现异常, 详细参考 <a href=''>2022-11-25 实验结果</a></li>\n<li>证明 VAE 模型的正确性. 通过 5 个例子, 测试损失函数为 mean_absolute_error 的 VAE. <a href=''>vae_mse_example 1.pdf</a></li>\n</ul>\n</li>\n<li>调研数据处理方式 (是归一化还是标注化) <a href=''>时间序列异常检测论文中常见的数据预处理方式</a>,\n<ul>\n<li>结论: 都有, 只是场景不同</li>\n<li>调研方式: 读论文</li>\n</ul>\n</li>\n<li>将 ODDS 数据集的标注化处理方式转为归一化 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>x</mi><mo>ˉ</mo></mover><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\bar{x}=\\frac{x-min(x)}{max(x)-min(x)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5678em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">ma</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">min</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\">min</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>)\n<ul>\n<li>原因: 标注化数据的 <u>前提是</u> 数据 follow normal distribution, if the data does not follow normal distribution then this will make problems. (Ali, Peshawa Jamal Muhammad, et al. “Data normalization and standardization: a technical report.” Mach Learn Tech Rep 1.1 (2014): 1-6.)</li>\n<li>对于 ODDS 的数据集来说, 其是否 follow normal distribution 我并不知道, 也不关心, 因此就直接采用归一化的方式</li>\n</ul>\n</li>\n<li>下载并处理分好的 9 个数据集 <a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn\">https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=7ersyn</a></li>\n<li>验证数据处理的正确性.\n<ul>\n<li>结论: 正确处理.</li>\n<li>通过可视化已处理的 9 个数据集, 其所有数据的取值 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">x \\in [0,1]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span> , 表示数据处理正确. 可视化后的九个数据的概览图如下图所示:<img src=\"/images/e058a82acde3fe0d917cc172375c1838b5fa959e.png\" alt=\"static/attachment/Pasted image 20221126203842.png\"></li>\n</ul>\n</li>\n<li>解决 NNI 实验失败后, 无法接着训练的问题</li>\n<li>跑完 9 个数据集上的实验结果 <embed src='/images/b23c0bd9ae3daf506c0007c5ef379485485e1226.pdf' width='100%' height='750' type='application/pdf'></li>\n</ul>\n"},{"title":"2022-12-09 实验设计","date":"2022-12-02T00:59:19.000Z","updated":"2022-12-12T15:38:03.000Z","aliases":["2022-12-09 实验设计","2022-12-09 实验结果","2022-12-02 实验结果","Untitled 1"],"_content":"\n\n\n<a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a>  \n<a href='{% post_path 2022-11-26 实验结果 %}'>2022-11-26 实验结果</a>  \n<a href='{% post_path 2022-12-09 实验设计 %}'>2022-12-09 实验设计</a>  \n\n## 实验背景/方法/目标\n\n==背景== 在超参数优化的任务中，==方法== 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，==目标== 期望以更短的时间，获得一个精度相似的模型。\n\n## 实验设计\n\n==超参数与模型设置== 实验在 VAE 的 11 个超参数空间中（见 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a> 附录 1; 超参数空间指: 所有的超参数可能取值的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 $HP_i$, $i \\in \\left\\{1,2,\\dots,32\\right\\}$，构成 32 个不同的 VAE 模型 $VAE_{hp_i}$ 每个\n\n==数据集选择及处理== 从 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> 中的按照 **异常率高中低** 的方法选择 3 个不同的数据集 $D_1,D_2,D_3$, 并按照 `Chen, Zhuangbin, et al. \"Adaptive Performance Anomaly Detection for Online Service Systems via Pattern Sketching.\" arXiv preprint arXiv:2201.02944 (2022)` 的数据处理方式处理数据.\n\n==训练集抽样设置== 为了增加模型的训练速度，使用 RS 在训练集 (training set) 中抽取不同比率 ($r$) 的 子数据集分别训练每个模型 $VAE_{hp_i}$, 其中, $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}$; 例如, $r=1/1$ 表示使用全部的训练集 (training set) 训练所有的模型 $VAE_{hp_i}$，$r=1/8$ 表示使用训练集的 $1/8$ (subset, 占总训练集的 $1/8$) 训练所有模型 $VAE_{hp_i}$。$VAE_{hp_i}^{D_{i_r}}$ 表示该 VAE 的超参数是 $hp_i$ ,其训练数据是从数据集 $D_i$ 中安装比例 $r$ 进行抽取的.\n\n==评估标准== 本文选择三个度量标准来度量模型的性能, 包括: $Test_{loss}*$ / $AUC^*$ / Training time.\n\n- 👉 $Test_{loss}*$ : 在每个数据集 $D_i$ 上, 我们会以不同的比例 $r$ 将 $D_i$ 的训练集间距分为多个数据集 $D_i^r$; 然后使用 $D_i^r$ 训练一组超参数不同的 VAE 模型 $VAE_{hp_i}$, 我们将 $D_i^r$ 训练的这一组模型记为 $VAE_{hp_i}^{D_{i_r}}$; 在本例中, $i \\in \\{1, 2, \\dots, 32\\}$, 因为在超参数空间中使用 RS 抽取了 32 组不同的超参数样本. 在 $VAE_{hp_i}^{D_{i_r}}$ 中, 存在一个模型 $VAE_{hp*}=\\arg \\min_{hp_i} (VAE_{loss_{test}})$ , 其具有最小的平均 (使用 $D_i$ 中的 test set 独立重复评估 $VAE_{hp*}$ 10 次) 测试误差 ($Test_{loss}*$ )\n- 👉 **$AUC^*$** : $VAE_{hp*}$ 的 AUC, 即 $VAE_{hp_i}^{D_{i_r}}$ 中 **损失最小的模型的 AUC.**\n- 👉 **Training time**: 在 $VAE_{hp_i}^{D_{i_r}}$ 中, 使用数据集 $D_{i_r}$ (训练集) 训练每个模型 $VAE_{hp_i}$ 的训练时间总和, 其中, $VAE_{hp_i}, i \\in \\{1, 2, \\dots, 32\\}$ .\n\n## 待选择数据\n\n在 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> 中选择 **3 个异常率不同** 的 **周期性性** 的数据集, 待实验的数据:\n\n```python\n# kpi_id\t\t\t\t\t\t\t#count\t#missing\t#missing rate(%)\t#anomaly\t#anomaly rate(%)\n# da10a69f-d836-3baa-ad40-3e548ecf1fbd\t216000\t1116\t\t0.5167\t\t\t16113\t7.4597\n# 431a8542-c468-3988-a508-3afd06a218da\t263590\t22978\t8.7173\t\t\t11508\t4.3659\n# 4d2af31a-9916-3d9f-8a8e-8a268a48c095\t263590\t23348\t8.8577\t\t\t9981\t\t3.7866\n# ffb82d38-5f00-37db-abc0-5d2e4e4cb6aa\t263590\t23410\t8.8812\t\t\t9677\t\t3.6712\n# 6a757df4-95e5-3357-8406-165e2bd49360\t263590\t23704\t8.9928\t\t\t9491\t\t3.6007\n# a07ac296-de40-3a7c-8df3-91f642cc14d0\t222730\t4948\t\t2.2215\t\t\t7922\t\t3.5568\n# 55f8b8b8-b659-38df-b3df-e4a5a8a54bc9\t299053\t3716\t\t1.2426\t\t\t9958\t\t3.3298\n# 9c639a46-34c8-39bc-aaf0-9144b37adfc8\t221388\t2678\t\t1.2096\t\t\t7084\t\t3.1998\n# ba5f3328-9f3f-3ff5-a683-84437d16d554\t299053\t3795\t\t1.269\t\t\t9291\t\t3.1068\n# 301c70d8-1630-35ac-8f96-bc1b6f4359ea\t17568\t0\t\t0\t\t\t\t320\t\t1.8215\n# e0747cad-8dc8-38a9-a9ab-855b61f5551d\t17568\t0\t\t0\t\t\t\t209\t\t1.1897\n# 0efb375b-b902-3661-ab23-9a0bb799f4e3\t17568\t0\t\t0\t\t\t\t84\t\t0.4781\n# c02607e8-7399-3dde-9d28-8a8da5e5d251\t17568\t0\t\t0\t\t\t\t67\t\t0.3814 \n```\n\n### 部分实验结果\n\n`c02607e8-7399-3dde-9d28-8a8da5e5d251`  \n![static/attachment/Pasted image 20221209113901.png](/images/7787d2201b4e05057aa77f046d8a80605e5aa21f.png)\n\n### 本次工作与上次工作的不同之处\n- [x] 将通过 csv 管理的数据, 加载到 sqlite 中管理, **目的** 是: ✅ 2022-12-09\n\t- 容易添加数据集\n\t- 管理数据集\n\t- 验证数据集的正确性\n- [x] 将 <u>ODDS 数据</u>换为 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> ✅ 2022-12-09\n- [x] 处理和分析 KPI 日常检测的 29 数据集 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> ✅ 2022-12-10\n- [x] 寻找使用数据集 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> 的论文, 并分析数据使用方式 <a href='{% post_path AIOPS2018数据集的引用论文分析 %}'>AIOPS2018数据集的引用论文分析</a> ✅ 2022-12-10\n- [x] 修改实验代码适应数据集 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> ✅ 2022-12-11\n- [ ] 将 `COCO: Deep Contrastive One-Class Time Series Anomaly Detection` 加入实验\n\t- [x] 原因: 其直接使用了 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> 的数据集, 直接站在巨人的肩膀上工作 ✅ 2022-12-11 <a href='{% post_path Deep Contrastive One-Class Time Series Anomaly Detection %}'>Deep Contrastive One-Class Time Series Anomaly Detection</a>\n\t- [x] 熟悉 <a href='{% post_path Merlion-A Machine Learning Library for Time Series %}'>Merlion-A Machine Learning Library for Time Series</a> 的功能 ✅ 2022-12-11\n\t- [x] 熟悉 `COCO` 的评价指标 <a href='{% post_path Deep Contrastive One-Class Time Series Anomaly Detection %}'>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11\n\t- [x] 熟悉 COCO 的 Baselines <a href='{% post_path Deep Contrastive One-Class Time Series Anomaly Detection %}'>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11\n\t- [x] 是什么 COCA Variants <a href='{% post_path Deep Contrastive One-Class Time Series Anomaly Detection %}'>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11\n\t- [x] COCA 分析结论的方式 <a href='{% post_path 表格解读的方法 %}'>表格解读的方法</a> ✅ 2022-12-11\n\t- [x] COCA 源码实现分析 - 处理 AIOps 数据的方式 <a href='{% post_path COCA源码分析 %}'>COCA源码分析</a>: 加载为多个单变量的时间序列数据, 用 `TSADBaseDataset` 表示 ✅ 2022-12-12\n\t- [x] COCA 是一次使用全部的数据训练模型吗? ✅ 2022-12-12 不是, 是一个一个的训练? 一个一个训练\n\t- [x] 跑完一个 COCA, 看看结果是否与原文一致 ✅ 2022-12-12 基本一致\n\t- [ ] 分析源码 <a href='{% post_path COCA源码分析 %}'>COCA源码分析</a>\n\n`\n","source":"_posts/2022-12-09实验设计.md","raw":"---\ntitle: 2022-12-09 实验设计\ntags:\n  - docs\n  - research\n  - public\ndate: 2022-12-02 08:59:19 \nupdated: 2022-12-12 23:38:03 \ncategories:\n  - research\naliases:\n  - 2022-12-09 实验设计\n  - 2022-12-09 实验结果\n  - 2022-12-02 实验结果\n  - Untitled 1\n---\n\n\n\n<a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a>  \n<a href='{% post_path 2022-11-26 实验结果 %}'>2022-11-26 实验结果</a>  \n<a href='{% post_path 2022-12-09 实验设计 %}'>2022-12-09 实验设计</a>  \n\n## 实验背景/方法/目标\n\n==背景== 在超参数优化的任务中，==方法== 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，==目标== 期望以更短的时间，获得一个精度相似的模型。\n\n## 实验设计\n\n==超参数与模型设置== 实验在 VAE 的 11 个超参数空间中（见 <a href='{% post_path 2022-11-25 实验结果 %}'>2022-11-25 实验结果</a> 附录 1; 超参数空间指: 所有的超参数可能取值的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 $HP_i$, $i \\in \\left\\{1,2,\\dots,32\\right\\}$，构成 32 个不同的 VAE 模型 $VAE_{hp_i}$ 每个\n\n==数据集选择及处理== 从 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> 中的按照 **异常率高中低** 的方法选择 3 个不同的数据集 $D_1,D_2,D_3$, 并按照 `Chen, Zhuangbin, et al. \"Adaptive Performance Anomaly Detection for Online Service Systems via Pattern Sketching.\" arXiv preprint arXiv:2201.02944 (2022)` 的数据处理方式处理数据.\n\n==训练集抽样设置== 为了增加模型的训练速度，使用 RS 在训练集 (training set) 中抽取不同比率 ($r$) 的 子数据集分别训练每个模型 $VAE_{hp_i}$, 其中, $r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}$; 例如, $r=1/1$ 表示使用全部的训练集 (training set) 训练所有的模型 $VAE_{hp_i}$，$r=1/8$ 表示使用训练集的 $1/8$ (subset, 占总训练集的 $1/8$) 训练所有模型 $VAE_{hp_i}$。$VAE_{hp_i}^{D_{i_r}}$ 表示该 VAE 的超参数是 $hp_i$ ,其训练数据是从数据集 $D_i$ 中安装比例 $r$ 进行抽取的.\n\n==评估标准== 本文选择三个度量标准来度量模型的性能, 包括: $Test_{loss}*$ / $AUC^*$ / Training time.\n\n- 👉 $Test_{loss}*$ : 在每个数据集 $D_i$ 上, 我们会以不同的比例 $r$ 将 $D_i$ 的训练集间距分为多个数据集 $D_i^r$; 然后使用 $D_i^r$ 训练一组超参数不同的 VAE 模型 $VAE_{hp_i}$, 我们将 $D_i^r$ 训练的这一组模型记为 $VAE_{hp_i}^{D_{i_r}}$; 在本例中, $i \\in \\{1, 2, \\dots, 32\\}$, 因为在超参数空间中使用 RS 抽取了 32 组不同的超参数样本. 在 $VAE_{hp_i}^{D_{i_r}}$ 中, 存在一个模型 $VAE_{hp*}=\\arg \\min_{hp_i} (VAE_{loss_{test}})$ , 其具有最小的平均 (使用 $D_i$ 中的 test set 独立重复评估 $VAE_{hp*}$ 10 次) 测试误差 ($Test_{loss}*$ )\n- 👉 **$AUC^*$** : $VAE_{hp*}$ 的 AUC, 即 $VAE_{hp_i}^{D_{i_r}}$ 中 **损失最小的模型的 AUC.**\n- 👉 **Training time**: 在 $VAE_{hp_i}^{D_{i_r}}$ 中, 使用数据集 $D_{i_r}$ (训练集) 训练每个模型 $VAE_{hp_i}$ 的训练时间总和, 其中, $VAE_{hp_i}, i \\in \\{1, 2, \\dots, 32\\}$ .\n\n## 待选择数据\n\n在 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> 中选择 **3 个异常率不同** 的 **周期性性** 的数据集, 待实验的数据:\n\n```python\n# kpi_id\t\t\t\t\t\t\t#count\t#missing\t#missing rate(%)\t#anomaly\t#anomaly rate(%)\n# da10a69f-d836-3baa-ad40-3e548ecf1fbd\t216000\t1116\t\t0.5167\t\t\t16113\t7.4597\n# 431a8542-c468-3988-a508-3afd06a218da\t263590\t22978\t8.7173\t\t\t11508\t4.3659\n# 4d2af31a-9916-3d9f-8a8e-8a268a48c095\t263590\t23348\t8.8577\t\t\t9981\t\t3.7866\n# ffb82d38-5f00-37db-abc0-5d2e4e4cb6aa\t263590\t23410\t8.8812\t\t\t9677\t\t3.6712\n# 6a757df4-95e5-3357-8406-165e2bd49360\t263590\t23704\t8.9928\t\t\t9491\t\t3.6007\n# a07ac296-de40-3a7c-8df3-91f642cc14d0\t222730\t4948\t\t2.2215\t\t\t7922\t\t3.5568\n# 55f8b8b8-b659-38df-b3df-e4a5a8a54bc9\t299053\t3716\t\t1.2426\t\t\t9958\t\t3.3298\n# 9c639a46-34c8-39bc-aaf0-9144b37adfc8\t221388\t2678\t\t1.2096\t\t\t7084\t\t3.1998\n# ba5f3328-9f3f-3ff5-a683-84437d16d554\t299053\t3795\t\t1.269\t\t\t9291\t\t3.1068\n# 301c70d8-1630-35ac-8f96-bc1b6f4359ea\t17568\t0\t\t0\t\t\t\t320\t\t1.8215\n# e0747cad-8dc8-38a9-a9ab-855b61f5551d\t17568\t0\t\t0\t\t\t\t209\t\t1.1897\n# 0efb375b-b902-3661-ab23-9a0bb799f4e3\t17568\t0\t\t0\t\t\t\t84\t\t0.4781\n# c02607e8-7399-3dde-9d28-8a8da5e5d251\t17568\t0\t\t0\t\t\t\t67\t\t0.3814 \n```\n\n### 部分实验结果\n\n`c02607e8-7399-3dde-9d28-8a8da5e5d251`  \n![static/attachment/Pasted image 20221209113901.png](/images/7787d2201b4e05057aa77f046d8a80605e5aa21f.png)\n\n### 本次工作与上次工作的不同之处\n- [x] 将通过 csv 管理的数据, 加载到 sqlite 中管理, **目的** 是: ✅ 2022-12-09\n\t- 容易添加数据集\n\t- 管理数据集\n\t- 验证数据集的正确性\n- [x] 将 <u>ODDS 数据</u>换为 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> ✅ 2022-12-09\n- [x] 处理和分析 KPI 日常检测的 29 数据集 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> ✅ 2022-12-10\n- [x] 寻找使用数据集 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> 的论文, 并分析数据使用方式 <a href='{% post_path AIOPS2018数据集的引用论文分析 %}'>AIOPS2018数据集的引用论文分析</a> ✅ 2022-12-10\n- [x] 修改实验代码适应数据集 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> ✅ 2022-12-11\n- [ ] 将 `COCO: Deep Contrastive One-Class Time Series Anomaly Detection` 加入实验\n\t- [x] 原因: 其直接使用了 <a href='{% post_path AIOPS2018 数据集 %}'>AIOPS2018 数据集</a> 的数据集, 直接站在巨人的肩膀上工作 ✅ 2022-12-11 <a href='{% post_path Deep Contrastive One-Class Time Series Anomaly Detection %}'>Deep Contrastive One-Class Time Series Anomaly Detection</a>\n\t- [x] 熟悉 <a href='{% post_path Merlion-A Machine Learning Library for Time Series %}'>Merlion-A Machine Learning Library for Time Series</a> 的功能 ✅ 2022-12-11\n\t- [x] 熟悉 `COCO` 的评价指标 <a href='{% post_path Deep Contrastive One-Class Time Series Anomaly Detection %}'>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11\n\t- [x] 熟悉 COCO 的 Baselines <a href='{% post_path Deep Contrastive One-Class Time Series Anomaly Detection %}'>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11\n\t- [x] 是什么 COCA Variants <a href='{% post_path Deep Contrastive One-Class Time Series Anomaly Detection %}'>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11\n\t- [x] COCA 分析结论的方式 <a href='{% post_path 表格解读的方法 %}'>表格解读的方法</a> ✅ 2022-12-11\n\t- [x] COCA 源码实现分析 - 处理 AIOps 数据的方式 <a href='{% post_path COCA源码分析 %}'>COCA源码分析</a>: 加载为多个单变量的时间序列数据, 用 `TSADBaseDataset` 表示 ✅ 2022-12-12\n\t- [x] COCA 是一次使用全部的数据训练模型吗? ✅ 2022-12-12 不是, 是一个一个的训练? 一个一个训练\n\t- [x] 跑完一个 COCA, 看看结果是否与原文一致 ✅ 2022-12-12 基本一致\n\t- [ ] 分析源码 <a href='{% post_path COCA源码分析 %}'>COCA源码分析</a>\n\n`\n","slug":"2022-12-09实验设计","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02iny000piwv93tt9dfmd","content":"<p><a href=''>2022-11-25 实验结果</a><br>\n<a href=''>2022-11-26 实验结果</a><br>\n<a href=''>2022-12-09 实验设计</a></p>\n<h2 id=\"实验背景-方法-目标\">实验背景/方法/目标</h2>\n<p><mark>背景</mark> 在超参数优化的任务中，<mark>方法</mark> 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，<mark>目标</mark> 期望以更短的时间，获得一个精度相似的模型。</p>\n<h2 id=\"实验设计\">实验设计</h2>\n<p><mark>超参数与模型设置</mark> 实验在 VAE 的 11 个超参数空间中（见 <a href=''>2022-11-25 实验结果</a> 附录 1; 超参数空间指: 所有的超参数可能取值的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">HP_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">i \\in \\left\\{1,2,\\dots,32\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>，构成 32 个不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 每个</p>\n<p><mark>数据集选择及处理</mark> 从 <a href=''>AIOPS2018 数据集</a> 中的按照 <strong>异常率高中低</strong> 的方法选择 3 个不同的数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">D_1,D_2,D_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, 并按照 <code>Chen, Zhuangbin, et al. &quot;Adaptive Performance Anomaly Detection for Online Service Systems via Pattern Sketching.&quot; arXiv preprint arXiv:2201.02944 (2022)</code> 的数据处理方式处理数据.</p>\n<p><mark>训练集抽样设置</mark> 为了增加模型的训练速度，使用 RS 在训练集 (training set) 中抽取不同比率 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>) 的 子数据集分别训练每个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/64</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>; 例如, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1/1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/1</span></span></span></span> 表示使用全部的训练集 (training set) 训练所有的模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 表示使用训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> (subset, 占总训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span>) 训练所有模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 表示该 VAE 的超参数是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">hp_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ,其训练数据是从数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中安装比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 进行抽取的.</p>\n<p><mark>评估标准</mark> 本文选择三个度量标准来度量模型的性能, 包括: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> / <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> / Training time.</p>\n<ul>\n<li>👉 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> : 在每个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 上, 我们会以不同的比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 将 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的训练集间距分为多个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span>; 然后使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span> 训练一组超参数不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 我们将 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span> 训练的这一组模型记为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span>; 在本例中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{1, 2, \\dots, 32\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose\">}</span></span></span></span>, 因为在超参数空间中使用 RS 抽取了 32 组不同的超参数样本. 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中, 存在一个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub><mo>=</mo><mi>arg</mi><mo>⁡</mo><msub><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub><mo stretchy=\"false\">(</mo><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}=\\arg \\min_{hp_i} (VAE_{loss_{test}})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mop\">ar<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">min</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">os</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2963em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">es</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> , 其具有最小的平均 (使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中的 test set 独立重复评估 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 10 次) 测试误差 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> )</li>\n<li>👉 <strong><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></strong> : <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的 AUC, 即 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中 <strong>损失最小的模型的 AUC.</strong></li>\n<li>👉 <strong>Training time</strong>: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中, 使用数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></mrow><annotation encoding=\"application/x-tex\">D_{i_r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9334em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span></span></span></span> (训练集) 训练每个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的训练时间总和, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}, i \\in \\{1, 2, \\dots, 32\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose\">}</span></span></span></span> .</li>\n</ul>\n<h2 id=\"待选择数据\">待选择数据</h2>\n<p>在 <a href=''>AIOPS2018 数据集</a> 中选择 <strong>3 个异常率不同</strong> 的 <strong>周期性性</strong> 的数据集, 待实验的数据:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># kpi_id\t\t\t\t\t\t\t#count\t#missing\t#missing rate(%)\t#anomaly\t#anomaly rate(%)</span></span><br><span class=\"line\"><span class=\"comment\"># da10a69f-d836-3baa-ad40-3e548ecf1fbd\t216000\t1116\t\t0.5167\t\t\t16113\t7.4597</span></span><br><span class=\"line\"><span class=\"comment\"># 431a8542-c468-3988-a508-3afd06a218da\t263590\t22978\t8.7173\t\t\t11508\t4.3659</span></span><br><span class=\"line\"><span class=\"comment\"># 4d2af31a-9916-3d9f-8a8e-8a268a48c095\t263590\t23348\t8.8577\t\t\t9981\t\t3.7866</span></span><br><span class=\"line\"><span class=\"comment\"># ffb82d38-5f00-37db-abc0-5d2e4e4cb6aa\t263590\t23410\t8.8812\t\t\t9677\t\t3.6712</span></span><br><span class=\"line\"><span class=\"comment\"># 6a757df4-95e5-3357-8406-165e2bd49360\t263590\t23704\t8.9928\t\t\t9491\t\t3.6007</span></span><br><span class=\"line\"><span class=\"comment\"># a07ac296-de40-3a7c-8df3-91f642cc14d0\t222730\t4948\t\t2.2215\t\t\t7922\t\t3.5568</span></span><br><span class=\"line\"><span class=\"comment\"># 55f8b8b8-b659-38df-b3df-e4a5a8a54bc9\t299053\t3716\t\t1.2426\t\t\t9958\t\t3.3298</span></span><br><span class=\"line\"><span class=\"comment\"># 9c639a46-34c8-39bc-aaf0-9144b37adfc8\t221388\t2678\t\t1.2096\t\t\t7084\t\t3.1998</span></span><br><span class=\"line\"><span class=\"comment\"># ba5f3328-9f3f-3ff5-a683-84437d16d554\t299053\t3795\t\t1.269\t\t\t9291\t\t3.1068</span></span><br><span class=\"line\"><span class=\"comment\"># 301c70d8-1630-35ac-8f96-bc1b6f4359ea\t17568\t0\t\t0\t\t\t\t320\t\t1.8215</span></span><br><span class=\"line\"><span class=\"comment\"># e0747cad-8dc8-38a9-a9ab-855b61f5551d\t17568\t0\t\t0\t\t\t\t209\t\t1.1897</span></span><br><span class=\"line\"><span class=\"comment\"># 0efb375b-b902-3661-ab23-9a0bb799f4e3\t17568\t0\t\t0\t\t\t\t84\t\t0.4781</span></span><br><span class=\"line\"><span class=\"comment\"># c02607e8-7399-3dde-9d28-8a8da5e5d251\t17568\t0\t\t0\t\t\t\t67\t\t0.3814 </span></span><br></pre></td></tr></table></figure>\n<h3 id=\"部分实验结果\">部分实验结果</h3>\n<p><code>c02607e8-7399-3dde-9d28-8a8da5e5d251</code><br>\n<img src=\"/images/7787d2201b4e05057aa77f046d8a80605e5aa21f.png\" alt=\"static/attachment/Pasted image 20221209113901.png\"></p>\n<h3 id=\"本次工作与上次工作的不同之处\">本次工作与上次工作的不同之处</h3>\n<ul>\n<li>[x] 将通过 csv 管理的数据, 加载到 sqlite 中管理, <strong>目的</strong> 是: ✅ 2022-12-09\n<ul>\n<li>容易添加数据集</li>\n<li>管理数据集</li>\n<li>验证数据集的正确性</li>\n</ul>\n</li>\n<li>[x] 将 <u>ODDS 数据</u>换为 <a href=''>AIOPS2018 数据集</a> ✅ 2022-12-09</li>\n<li>[x] 处理和分析 KPI 日常检测的 29 数据集 <a href=''>AIOPS2018 数据集</a> ✅ 2022-12-10</li>\n<li>[x] 寻找使用数据集 <a href=''>AIOPS2018 数据集</a> 的论文, 并分析数据使用方式 <a href='/uncategory/82d958e74aa0.html'>AIOPS2018数据集的引用论文分析</a> ✅ 2022-12-10</li>\n<li>[x] 修改实验代码适应数据集 <a href=''>AIOPS2018 数据集</a> ✅ 2022-12-11</li>\n<li>[ ] 将 <code>COCO: Deep Contrastive One-Class Time Series Anomaly Detection</code> 加入实验\n<ul>\n<li>[x] 原因: 其直接使用了 <a href=''>AIOPS2018 数据集</a> 的数据集, 直接站在巨人的肩膀上工作 ✅ 2022-12-11 <a href=''>Deep Contrastive One-Class Time Series Anomaly Detection</a></li>\n<li>[x] 熟悉 <a href=''>Merlion-A Machine Learning Library for Time Series</a> 的功能 ✅ 2022-12-11</li>\n<li>[x] 熟悉 <code>COCO</code> 的评价指标 <a href=''>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11</li>\n<li>[x] 熟悉 COCO 的 Baselines <a href=''>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11</li>\n<li>[x] 是什么 COCA Variants <a href=''>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11</li>\n<li>[x] COCA 分析结论的方式 <a href='/uncategory/cdc97ac6a61b.html'>表格解读的方法</a> ✅ 2022-12-11</li>\n<li>[x] COCA 源码实现分析 - 处理 AIOps 数据的方式 <a href='/research/101dd24c918c.html'>COCA源码分析</a>: 加载为多个单变量的时间序列数据, 用 <code>TSADBaseDataset</code> 表示 ✅ 2022-12-12</li>\n<li>[x] COCA 是一次使用全部的数据训练模型吗? ✅ 2022-12-12 不是, 是一个一个的训练? 一个一个训练</li>\n<li>[x] 跑完一个 COCA, 看看结果是否与原文一致 ✅ 2022-12-12 基本一致</li>\n<li>[ ] 分析源码 <a href='/research/101dd24c918c.html'>COCA源码分析</a></li>\n</ul>\n</li>\n</ul>\n<p>`</p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover8.JPG","excerpt":"","more":"<p><a href=''>2022-11-25 实验结果</a><br>\n<a href=''>2022-11-26 实验结果</a><br>\n<a href=''>2022-12-09 实验设计</a></p>\n<h2 id=\"实验背景-方法-目标\">实验背景/方法/目标</h2>\n<p><mark>背景</mark> 在超参数优化的任务中，<mark>方法</mark> 在 1) 超参数空间 和 2) 训练数据 中使用随机抽样 (Random Sampling, RS) 算法，<mark>目标</mark> 期望以更短的时间，获得一个精度相似的模型。</p>\n<h2 id=\"实验设计\">实验设计</h2>\n<p><mark>超参数与模型设置</mark> 实验在 VAE 的 11 个超参数空间中（见 <a href=''>2022-11-25 实验结果</a> 附录 1; 超参数空间指: 所有的超参数可能取值的笛卡尔积)，使用随机抽样算法（RS）抽取 32 组超参数样本 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">HP_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">i \\in \\left\\{1,2,\\dots,32\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>，构成 32 个不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 每个</p>\n<p><mark>数据集选择及处理</mark> 从 <a href=''>AIOPS2018 数据集</a> 中的按照 <strong>异常率高中低</strong> 的方法选择 3 个不同的数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">D_1,D_2,D_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, 并按照 <code>Chen, Zhuangbin, et al. &quot;Adaptive Performance Anomaly Detection for Online Service Systems via Pattern Sketching.&quot; arXiv preprint arXiv:2201.02944 (2022)</code> 的数据处理方式处理数据.</p>\n<p><mark>训练集抽样设置</mark> 为了增加模型的训练速度，使用 RS 在训练集 (training set) 中抽取不同比率 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>) 的 子数据集分别训练每个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>∈</mo><mrow><mo fence=\"true\">{</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>4</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>16</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>24</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>32</mn><mo separator=\"true\">,</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>64</mn><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">r \\in \\left\\{ 1/1, 1/4, 1/8, 1/16, 1/24, 1/32, 1/64 \\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\">1/1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/16</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/24</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/32</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1/64</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>; 例如, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">r=1/1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/1</span></span></span></span> 表示使用全部的训练集 (training set) 训练所有的模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">r=1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> 表示使用训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span> (subset, 占总训练集的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">1/8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/8</span></span></span></span>) 训练所有模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 表示该 VAE 的超参数是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">hp_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ,其训练数据是从数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中安装比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 进行抽取的.</p>\n<p><mark>评估标准</mark> 本文选择三个度量标准来度量模型的性能, 包括: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> / <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> / Training time.</p>\n<ul>\n<li>👉 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> : 在每个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 上, 我们会以不同的比例 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 将 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的训练集间距分为多个数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span>; 然后使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span> 训练一组超参数不同的 VAE 模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, 我们将 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>D</mi><mi>i</mi><mi>r</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">D_i^r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.942em;vertical-align:-0.2587em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4413em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2587em;\"><span></span></span></span></span></span></span></span></span></span> 训练的这一组模型记为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span>; 在本例中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">i \\in \\{1, 2, \\dots, 32\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6986em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose\">}</span></span></span></span>, 因为在超参数空间中使用 RS 抽取了 32 组不同的超参数样本. 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中, 存在一个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub><mo>=</mo><mi>arg</mi><mo>⁡</mo><msub><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub><mo stretchy=\"false\">(</mo><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><msub><mi>s</mi><mrow><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}=\\arg \\min_{hp_i} (VAE_{loss_{test}})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mop\">ar<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">min</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">os</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2963em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">es</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> , 其具有最小的平均 (使用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中的 test set 独立重复评估 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 10 次) 测试误差 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">Test_{loss}*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">es</span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oss</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∗</span></span></span></span> )</li>\n<li>👉 <strong><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>U</mi><msup><mi>C</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">AUC^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></strong> : <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><mi>p</mi><mo>∗</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的 AUC, 即 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中 <strong>损失最小的模型的 AUC.</strong></li>\n<li>👉 <strong>Training time</strong>: 在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msubsup><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></msubsup></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}^{D_{i_r}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4606em;vertical-align:-0.4374em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0232em;\"><span style=\"top:-2.3987em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2449em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2306em;\"><span style=\"top:-2.3em;margin-left:0em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2859em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4374em;\"><span></span></span></span></span></span></span></span></span></span> 中, 使用数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><msub><mi>i</mi><mi>r</mi></msub></msub></mrow><annotation encoding=\"application/x-tex\">D_{i_r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9334em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span></span></span></span> (训练集) 训练每个模型 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 的训练时间总和, 其中, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>A</mi><msub><mi>E</mi><mrow><mi>h</mi><msub><mi>p</mi><mi>i</mi></msub></mrow></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mn>32</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">VAE_{hp_i}, i \\in \\{1, 2, \\dots, 32\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">32</span><span class=\"mclose\">}</span></span></span></span> .</li>\n</ul>\n<h2 id=\"待选择数据\">待选择数据</h2>\n<p>在 <a href=''>AIOPS2018 数据集</a> 中选择 <strong>3 个异常率不同</strong> 的 <strong>周期性性</strong> 的数据集, 待实验的数据:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># kpi_id\t\t\t\t\t\t\t#count\t#missing\t#missing rate(%)\t#anomaly\t#anomaly rate(%)</span></span><br><span class=\"line\"><span class=\"comment\"># da10a69f-d836-3baa-ad40-3e548ecf1fbd\t216000\t1116\t\t0.5167\t\t\t16113\t7.4597</span></span><br><span class=\"line\"><span class=\"comment\"># 431a8542-c468-3988-a508-3afd06a218da\t263590\t22978\t8.7173\t\t\t11508\t4.3659</span></span><br><span class=\"line\"><span class=\"comment\"># 4d2af31a-9916-3d9f-8a8e-8a268a48c095\t263590\t23348\t8.8577\t\t\t9981\t\t3.7866</span></span><br><span class=\"line\"><span class=\"comment\"># ffb82d38-5f00-37db-abc0-5d2e4e4cb6aa\t263590\t23410\t8.8812\t\t\t9677\t\t3.6712</span></span><br><span class=\"line\"><span class=\"comment\"># 6a757df4-95e5-3357-8406-165e2bd49360\t263590\t23704\t8.9928\t\t\t9491\t\t3.6007</span></span><br><span class=\"line\"><span class=\"comment\"># a07ac296-de40-3a7c-8df3-91f642cc14d0\t222730\t4948\t\t2.2215\t\t\t7922\t\t3.5568</span></span><br><span class=\"line\"><span class=\"comment\"># 55f8b8b8-b659-38df-b3df-e4a5a8a54bc9\t299053\t3716\t\t1.2426\t\t\t9958\t\t3.3298</span></span><br><span class=\"line\"><span class=\"comment\"># 9c639a46-34c8-39bc-aaf0-9144b37adfc8\t221388\t2678\t\t1.2096\t\t\t7084\t\t3.1998</span></span><br><span class=\"line\"><span class=\"comment\"># ba5f3328-9f3f-3ff5-a683-84437d16d554\t299053\t3795\t\t1.269\t\t\t9291\t\t3.1068</span></span><br><span class=\"line\"><span class=\"comment\"># 301c70d8-1630-35ac-8f96-bc1b6f4359ea\t17568\t0\t\t0\t\t\t\t320\t\t1.8215</span></span><br><span class=\"line\"><span class=\"comment\"># e0747cad-8dc8-38a9-a9ab-855b61f5551d\t17568\t0\t\t0\t\t\t\t209\t\t1.1897</span></span><br><span class=\"line\"><span class=\"comment\"># 0efb375b-b902-3661-ab23-9a0bb799f4e3\t17568\t0\t\t0\t\t\t\t84\t\t0.4781</span></span><br><span class=\"line\"><span class=\"comment\"># c02607e8-7399-3dde-9d28-8a8da5e5d251\t17568\t0\t\t0\t\t\t\t67\t\t0.3814 </span></span><br></pre></td></tr></table></figure>\n<h3 id=\"部分实验结果\">部分实验结果</h3>\n<p><code>c02607e8-7399-3dde-9d28-8a8da5e5d251</code><br>\n<img src=\"/images/7787d2201b4e05057aa77f046d8a80605e5aa21f.png\" alt=\"static/attachment/Pasted image 20221209113901.png\"></p>\n<h3 id=\"本次工作与上次工作的不同之处\">本次工作与上次工作的不同之处</h3>\n<ul>\n<li>[x] 将通过 csv 管理的数据, 加载到 sqlite 中管理, <strong>目的</strong> 是: ✅ 2022-12-09\n<ul>\n<li>容易添加数据集</li>\n<li>管理数据集</li>\n<li>验证数据集的正确性</li>\n</ul>\n</li>\n<li>[x] 将 <u>ODDS 数据</u>换为 <a href=''>AIOPS2018 数据集</a> ✅ 2022-12-09</li>\n<li>[x] 处理和分析 KPI 日常检测的 29 数据集 <a href=''>AIOPS2018 数据集</a> ✅ 2022-12-10</li>\n<li>[x] 寻找使用数据集 <a href=''>AIOPS2018 数据集</a> 的论文, 并分析数据使用方式 <a href='/uncategory/82d958e74aa0.html'>AIOPS2018数据集的引用论文分析</a> ✅ 2022-12-10</li>\n<li>[x] 修改实验代码适应数据集 <a href=''>AIOPS2018 数据集</a> ✅ 2022-12-11</li>\n<li>[ ] 将 <code>COCO: Deep Contrastive One-Class Time Series Anomaly Detection</code> 加入实验\n<ul>\n<li>[x] 原因: 其直接使用了 <a href=''>AIOPS2018 数据集</a> 的数据集, 直接站在巨人的肩膀上工作 ✅ 2022-12-11 <a href=''>Deep Contrastive One-Class Time Series Anomaly Detection</a></li>\n<li>[x] 熟悉 <a href=''>Merlion-A Machine Learning Library for Time Series</a> 的功能 ✅ 2022-12-11</li>\n<li>[x] 熟悉 <code>COCO</code> 的评价指标 <a href=''>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11</li>\n<li>[x] 熟悉 COCO 的 Baselines <a href=''>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11</li>\n<li>[x] 是什么 COCA Variants <a href=''>Deep Contrastive One-Class Time Series Anomaly Detection</a> ✅ 2022-12-11</li>\n<li>[x] COCA 分析结论的方式 <a href='/uncategory/cdc97ac6a61b.html'>表格解读的方法</a> ✅ 2022-12-11</li>\n<li>[x] COCA 源码实现分析 - 处理 AIOps 数据的方式 <a href='/research/101dd24c918c.html'>COCA源码分析</a>: 加载为多个单变量的时间序列数据, 用 <code>TSADBaseDataset</code> 表示 ✅ 2022-12-12</li>\n<li>[x] COCA 是一次使用全部的数据训练模型吗? ✅ 2022-12-12 不是, 是一个一个的训练? 一个一个训练</li>\n<li>[x] 跑完一个 COCA, 看看结果是否与原文一致 ✅ 2022-12-12 基本一致</li>\n<li>[ ] 分析源码 <a href='/research/101dd24c918c.html'>COCA源码分析</a></li>\n</ul>\n</li>\n</ul>\n<p>`</p>\n"},{"title":"03-线性回归原理分析及实现","date":"2022-11-07T05:12:58.000Z","updated":"2022-11-26T00:36:46.000Z","password":null,"message":null,"abstract":null,"aliases":["03-线性回归原理分析及实现"],"_content":"\n\n\n## 模型目标\n\n- 给定房子的面积集合 $x=\\{ x_1,\\dots,x_n \\}$ 与价格集合 $y=\\{y_1,\\dots,y_n \\}$, 我们想要求解出一个模型\n  \n\n$$\\begin{gather}  \n  f: R \\rightarrow R, \\\\  \n  f(x)=y,\\\\ s.t. x,y \\in R  \n  \\end{gather}  \n$$\n\n  \n- 该模型能够根据房子的面积 $x$ 预测房子的价格 $y$. $(x_1,y_1)$ 表示房子 $x_1$ 对应的价格为 $y_1$；可能取值：$x=\\{ 56,60,120 \\}$, $y=\\{30万,40万,70万 \\}$\n- 举例说明：\n\t- 给定图中的点，我们的目标是根据已知的点，求出适合数据线（红色）（位置）\n\t  ![static/attachment/Pasted image 20221107135019.png](/images/b32c68fa9d60da210505be648152958708936b6a.png)![static/attachment/Pasted image 20221107135150.png](/images/0db520fdf28e05e081f24b9b3b7388315bfc7919.png)\n\n## 模型表示\n\n- 模型表示：一元一次方程\n\t- $y=ax+b=b+ax=\\theta_0+\\theta_1 x=w*x+b$\n\t- $b$ 与 $\\theta_0$ 等价，$a$ 与 $\\theta_1$ 等价\n- 代价函数 (loss function)\n\t- 代价函数用于评估模型的预测结果与实际结果的差距\n\t\t- 假设房子的实际价格 $y$ 是 30 万，模型的预测价格 $y_{pred},\\hat{y}$ 是 29 万，那么的一种 **可能** 损失 $loss$ 是：$loss=(y_{pred}-y)^2=(30-29)^2=1^2=1$\n\t\t  \n- 我们的目标\n\t- **最小化** 预测价格与实际价格的差距：让模型的预测结果与实际结果无限接近\n\t- 问题转换为求最小值的问题：最小化损失函数\n\t- 损失表达式：给定数据集合 $x=\\{ x_1,\\dots,x_n \\}$ , $y=\\{y_1,\\dots,y_n \\}$ 与模型的预测结果 $y_{pred}=\\hat{y}=\\{ \\hat{y_1}, \\dots, \\hat{y_n} \\}$, 其损失的表达式为 $loss=\\frac{1}{n} \\sum_i^n(y_{pred}-y)^2$\n\t- 假设 N=3, loss=$\\frac{1}{3} [( \\hat{y_1}-y_1)^2 + (\\hat{y_2}-y_2)^2 +(\\hat{y_3}-y_3)^2]$\n\t- 问题转换为：找到一组参数 $(\\theta_0,\\theta_1)$, 也就是 $(w,b)$, 该值使 $loss$ 最小。\n\t- 那怎么求最小的 loss 呢？\n- 梯度下降（SGD）\n\t- 梯度下降是一个用来求函数最小值的算法.\n\t- 梯度下降的表达式 $\\theta_j:=\\theta_j-\\alpha \\frac{\\partial}{\\partial \\theta_j} J\\left(\\theta_0, \\theta_1\\right) \\quad(\\text { for } j=0 \\text { and } j=1 \\text { ) }$\n\t- $\\alpha$ 是学习率 (learning rate)，它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大，在批量梯度下降中，我们每一次都同时让所有的参数减去学习速率 乘以代价函数的导数。\n- 梯度下降的步骤 (在线性回归中）\n\t- 初始化 $w,b$ 为任意值，如 $w=0,b=0$\n\t- 计算当前 $w,b$ 对应的损失: $loss=\\frac{1}{n} \\sum_i^n(y_{pred}-y)^2,where \\ y_{pred}=x_i*w+b$\n\t- 分别计算 loss 对 $w,b$ 的梯度 $d_w, d_b$（偏导数）\n\t- 更新 $w$ 和 $b$ 直到：（训练（fit): 逐渐更新 $w,b$ 的过程）\n\t\t- 策略 1：loss 不在降低\n\t\t- 策略 2：迭代到指定次数（本文采用）\n\t\t- $w=w-\\alpha*d_w, b=b-\\alpha*d_b,\\alpha \\in [0,1]$\n\t\t- $\\alpha$ 学习率（超参数：手工设置的，模型参数：能通过数据学到的 ($w,b$）)\n\t\t\t\n\n## 案例：基于 Tensorflow 求解一元一次方程\n\n为什么基于 Tensorflow：因为 Tensorflow 为我们提供了求解导数的方法。你也可以基于 numpy、keras 等实现。\n\n实现步骤：\n\n1. 导入类库\n2. 准备数据\n3. 构建未知数 $w$ 和 $b$\n4. 定义 $y_{pred}=x*w+b$\n5. 定义 $loss$\n6. 求解 $dw,db$：\n7. 更新梯度：\n$$\\begin{gather} \\\\  \n\t\t\t  w=w-\\alpha*d_w, \\\\  \n\t\t\t  b=b-\\alpha*d_b\\\\  \n\t\t\t  s.t. \\alpha \\in [0,1]  \n\t\t\t  \\end{gather}$$\n\n8. 回到 步骤 6, 直到迭代到指定次数\n\n例子演示：[线性案例](http://localhost:8888/lab/tree/商业数据分析/02-10%20手动拟合线性回归.ipynb)\n\n## 案例：基于 DM（作业：2022-11-07）\n\n![static/attachment/Pasted image 20221107160559.png](/images/30b7afcaa4ce763e3adf2f3593ffc7f1c6a6ef54.png)  \n![static/attachment/Pasted image 20221107161935.png](/images/ca4acb61c008141a83bf4db021354d1b42850cb2.png)  \n[数据处理脚本](<http://127.0.0.1:8888/lab/tree/商业数据分析/02-12> 数据可视化.ipynb)\n","source":"_posts/03-线性回归原理分析及实现.md","raw":"---\ntitle: 03-线性回归原理分析及实现\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-11-07 13:12:58 \nupdated: 2022-11-26 08:36:46 \npassword: \nmessage: \nabstract: \naliases:\n  - 03-线性回归原理分析及实现\n---\n\n\n\n## 模型目标\n\n- 给定房子的面积集合 $x=\\{ x_1,\\dots,x_n \\}$ 与价格集合 $y=\\{y_1,\\dots,y_n \\}$, 我们想要求解出一个模型\n  \n\n$$\\begin{gather}  \n  f: R \\rightarrow R, \\\\  \n  f(x)=y,\\\\ s.t. x,y \\in R  \n  \\end{gather}  \n$$\n\n  \n- 该模型能够根据房子的面积 $x$ 预测房子的价格 $y$. $(x_1,y_1)$ 表示房子 $x_1$ 对应的价格为 $y_1$；可能取值：$x=\\{ 56,60,120 \\}$, $y=\\{30万,40万,70万 \\}$\n- 举例说明：\n\t- 给定图中的点，我们的目标是根据已知的点，求出适合数据线（红色）（位置）\n\t  ![static/attachment/Pasted image 20221107135019.png](/images/b32c68fa9d60da210505be648152958708936b6a.png)![static/attachment/Pasted image 20221107135150.png](/images/0db520fdf28e05e081f24b9b3b7388315bfc7919.png)\n\n## 模型表示\n\n- 模型表示：一元一次方程\n\t- $y=ax+b=b+ax=\\theta_0+\\theta_1 x=w*x+b$\n\t- $b$ 与 $\\theta_0$ 等价，$a$ 与 $\\theta_1$ 等价\n- 代价函数 (loss function)\n\t- 代价函数用于评估模型的预测结果与实际结果的差距\n\t\t- 假设房子的实际价格 $y$ 是 30 万，模型的预测价格 $y_{pred},\\hat{y}$ 是 29 万，那么的一种 **可能** 损失 $loss$ 是：$loss=(y_{pred}-y)^2=(30-29)^2=1^2=1$\n\t\t  \n- 我们的目标\n\t- **最小化** 预测价格与实际价格的差距：让模型的预测结果与实际结果无限接近\n\t- 问题转换为求最小值的问题：最小化损失函数\n\t- 损失表达式：给定数据集合 $x=\\{ x_1,\\dots,x_n \\}$ , $y=\\{y_1,\\dots,y_n \\}$ 与模型的预测结果 $y_{pred}=\\hat{y}=\\{ \\hat{y_1}, \\dots, \\hat{y_n} \\}$, 其损失的表达式为 $loss=\\frac{1}{n} \\sum_i^n(y_{pred}-y)^2$\n\t- 假设 N=3, loss=$\\frac{1}{3} [( \\hat{y_1}-y_1)^2 + (\\hat{y_2}-y_2)^2 +(\\hat{y_3}-y_3)^2]$\n\t- 问题转换为：找到一组参数 $(\\theta_0,\\theta_1)$, 也就是 $(w,b)$, 该值使 $loss$ 最小。\n\t- 那怎么求最小的 loss 呢？\n- 梯度下降（SGD）\n\t- 梯度下降是一个用来求函数最小值的算法.\n\t- 梯度下降的表达式 $\\theta_j:=\\theta_j-\\alpha \\frac{\\partial}{\\partial \\theta_j} J\\left(\\theta_0, \\theta_1\\right) \\quad(\\text { for } j=0 \\text { and } j=1 \\text { ) }$\n\t- $\\alpha$ 是学习率 (learning rate)，它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大，在批量梯度下降中，我们每一次都同时让所有的参数减去学习速率 乘以代价函数的导数。\n- 梯度下降的步骤 (在线性回归中）\n\t- 初始化 $w,b$ 为任意值，如 $w=0,b=0$\n\t- 计算当前 $w,b$ 对应的损失: $loss=\\frac{1}{n} \\sum_i^n(y_{pred}-y)^2,where \\ y_{pred}=x_i*w+b$\n\t- 分别计算 loss 对 $w,b$ 的梯度 $d_w, d_b$（偏导数）\n\t- 更新 $w$ 和 $b$ 直到：（训练（fit): 逐渐更新 $w,b$ 的过程）\n\t\t- 策略 1：loss 不在降低\n\t\t- 策略 2：迭代到指定次数（本文采用）\n\t\t- $w=w-\\alpha*d_w, b=b-\\alpha*d_b,\\alpha \\in [0,1]$\n\t\t- $\\alpha$ 学习率（超参数：手工设置的，模型参数：能通过数据学到的 ($w,b$）)\n\t\t\t\n\n## 案例：基于 Tensorflow 求解一元一次方程\n\n为什么基于 Tensorflow：因为 Tensorflow 为我们提供了求解导数的方法。你也可以基于 numpy、keras 等实现。\n\n实现步骤：\n\n1. 导入类库\n2. 准备数据\n3. 构建未知数 $w$ 和 $b$\n4. 定义 $y_{pred}=x*w+b$\n5. 定义 $loss$\n6. 求解 $dw,db$：\n7. 更新梯度：\n$$\\begin{gather} \\\\  \n\t\t\t  w=w-\\alpha*d_w, \\\\  \n\t\t\t  b=b-\\alpha*d_b\\\\  \n\t\t\t  s.t. \\alpha \\in [0,1]  \n\t\t\t  \\end{gather}$$\n\n8. 回到 步骤 6, 直到迭代到指定次数\n\n例子演示：[线性案例](http://localhost:8888/lab/tree/商业数据分析/02-10%20手动拟合线性回归.ipynb)\n\n## 案例：基于 DM（作业：2022-11-07）\n\n![static/attachment/Pasted image 20221107160559.png](/images/30b7afcaa4ce763e3adf2f3593ffc7f1c6a6ef54.png)  \n![static/attachment/Pasted image 20221107161935.png](/images/ca4acb61c008141a83bf4db021354d1b42850cb2.png)  \n[数据处理脚本](<http://127.0.0.1:8888/lab/tree/商业数据分析/02-12> 数据可视化.ipynb)\n","slug":"03-线性回归原理分析及实现","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02inz000siwv945vn8h9a","content":"<h2 id=\"模型目标\">模型目标</h2>\n<ul>\n<li>给定房子的面积集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x=\\{ x_1,\\dots,x_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> 与价格集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y=\\{y_1,\\dots,y_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, 我们想要求解出一个模型</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"center\" columnspacing=\"0em\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>f</mi><mo>:</mo><mi>R</mi><mo>→</mo><mi>R</mi><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>y</mi><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>t</mi><mi mathvariant=\"normal\">.</mi><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo>∈</mo><mi>R</mi></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gather}  \n  f: R \\rightarrow R, \\\\  \n  f(x)=y,\\\\ s.t. x,y \\in R  \n  \\end{gather}  \n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.5em;vertical-align:-2em;\"></span><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5em;\"><span style=\"top:-4.66em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-3.16em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-1.66em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">t</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5em;\"><span style=\"top:-4.5em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-1.5em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2em;\"><span></span></span></span></span></span></span></span></span></p>\n<ul>\n<li>该模型能够根据房子的面积 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 预测房子的价格 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>. <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x_1,y_1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 表示房子 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 对应的价格为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">y_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>；可能取值：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy=\"false\">{</mo><mn>56</mn><mo separator=\"true\">,</mo><mn>60</mn><mo separator=\"true\">,</mo><mn>120</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x=\\{ 56,60,120 \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">56</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">60</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">120</span><span class=\"mclose\">}</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy=\"false\">{</mo><mn>30</mn><mtext>万</mtext><mo separator=\"true\">,</mo><mn>40</mn><mtext>万</mtext><mo separator=\"true\">,</mo><mn>70</mn><mtext>万</mtext><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y=\\{30万,40万,70万 \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">30</span><span class=\"mord cjk_fallback\">万</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">40</span><span class=\"mord cjk_fallback\">万</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">70</span><span class=\"mord cjk_fallback\">万</span><span class=\"mclose\">}</span></span></span></span></li>\n<li>举例说明：\n<ul>\n<li>给定图中的点，我们的目标是根据已知的点，求出适合数据线（红色）（位置）<br>\n<img src=\"/images/b32c68fa9d60da210505be648152958708936b6a.png\" alt=\"static/attachment/Pasted image 20221107135019.png\"><img src=\"/images/0db520fdf28e05e081f24b9b3b7388315bfc7919.png\" alt=\"static/attachment/Pasted image 20221107135150.png\"></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"模型表示\">模型表示</h2>\n<ul>\n<li>\n<p>模型表示：一元一次方程</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>+</mo><mi>a</mi><mi>x</mi><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>x</mi><mo>=</mo><mi>w</mi><mo>∗</mo><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y=ax+b=b+ax=\\theta_0+\\theta_1 x=w*x+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 等价，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 等价</li>\n</ul>\n</li>\n<li>\n<p>代价函数 (loss function)</p>\n<ul>\n<li>代价函数用于评估模型的预测结果与实际结果的差距\n<ul>\n<li>假设房子的实际价格 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> 是 30 万，模型的预测价格 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo separator=\"true\">,</mo><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">y_{pred},\\hat{y}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span></span></span></span> 是 29 万，那么的一种 <strong>可能</strong> 损失 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">loss</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span></span></span></span> 是：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>−</mo><mi>y</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>=</mo><mo stretchy=\"false\">(</mo><mn>30</mn><mo>−</mo><mn>29</mn><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>=</mo><msup><mn>1</mn><mn>2</mn></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">loss=(y_{pred}-y)^2=(30-29)^2=1^2=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">30</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\">29</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>我们的目标</p>\n<ul>\n<li><strong>最小化</strong> 预测价格与实际价格的差距：让模型的预测结果与实际结果无限接近</li>\n<li>问题转换为求最小值的问题：最小化损失函数</li>\n<li>损失表达式：给定数据集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x=\\{ x_1,\\dots,x_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> , <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y=\\{y_1,\\dots,y_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> 与模型的预测结果 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>=</mo><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mo stretchy=\"false\">{</mo><mover accent=\"true\"><msub><mi>y</mi><mn>1</mn></msub><mo>^</mo></mover><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mover accent=\"true\"><msub><mi>y</mi><mi>n</mi></msub><mo>^</mo></mover><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y_{pred}=\\hat{y}=\\{ \\hat{y_1}, \\dots, \\hat{y_n} \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, 其损失的表达式为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mi>i</mi><mi>n</mi></msubsup><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>−</mo><mi>y</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">loss=\\frac{1}{n} \\sum_i^n(y_{pred}-y)^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8043em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></li>\n<li>假设 N=3, loss=<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><msub><mi>y</mi><mn>1</mn></msub><mo>^</mo></mover><mo>−</mo><msub><mi>y</mi><mn>1</mn></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><msub><mi>y</mi><mn>2</mn></msub><mo>^</mo></mover><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><msub><mi>y</mi><mn>3</mn></msub><mo>^</mo></mover><mo>−</mo><msub><mi>y</mi><mn>3</mn></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\frac{1}{3} [( \\hat{y_1}-y_1)^2 + (\\hat{y_2}-y_2)^2 +(\\hat{y_3}-y_3)^2]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mopen\">[(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></li>\n<li>问题转换为：找到一组参数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>θ</mi><mn>0</mn></msub><mo separator=\"true\">,</mo><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\theta_0,\\theta_1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>, 也就是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(w,b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span>, 该值使 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">loss</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span></span></span></span> 最小。</li>\n<li>那怎么求最小的 loss 呢？</li>\n</ul>\n</li>\n<li>\n<p>梯度下降（SGD）</p>\n<ul>\n<li>梯度下降是一个用来求函数最小值的算法.</li>\n<li>梯度下降的表达式 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mi>j</mi></msub><mo>:</mo><mo>=</mo><msub><mi>θ</mi><mi>j</mi></msub><mo>−</mo><mi>α</mi><mfrac><mi mathvariant=\"normal\">∂</mi><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi>θ</mi><mi>j</mi></msub></mrow></mfrac><mi>J</mi><mrow><mo fence=\"true\">(</mo><msub><mi>θ</mi><mn>0</mn></msub><mo separator=\"true\">,</mo><msub><mi>θ</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mspace width=\"1em\"/><mo stretchy=\"false\">(</mo><mtext> for </mtext><mi>j</mi><mo>=</mo><mn>0</mn><mtext> and </mtext><mi>j</mi><mo>=</mo><mn>1</mn><mtext> ) </mtext></mrow><annotation encoding=\"application/x-tex\">\\theta_j:=\\theta_j-\\alpha \\frac{\\partial}{\\partial \\theta_j} J\\left(\\theta_0, \\theta_1\\right) \\quad(\\text { for } j=0 \\text { and } j=1 \\text { ) }</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.4224em;vertical-align:-0.5423em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8801em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2819em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\" style=\"margin-right:0.05556em;\">∂</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5423em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord text\"><span class=\"mord\"> for </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> and </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mord text\"><span class=\"mord\"> ) </span></span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span> 是学习率 (learning rate)，它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大，在批量梯度下降中，我们每一次都同时让所有的参数减去学习速率 乘以代价函数的导数。</li>\n</ul>\n</li>\n<li>\n<p>梯度下降的步骤 (在线性回归中）</p>\n<ul>\n<li>初始化 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 为任意值，如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>=</mo><mn>0</mn><mo separator=\"true\">,</mo><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">w=0,b=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span></li>\n<li>计算当前 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 对应的损失: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mi>i</mi><mi>n</mi></msubsup><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>−</mo><mi>y</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo separator=\"true\">,</mo><mi>w</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>e</mi><mtext> </mtext><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>=</mo><msub><mi>x</mi><mi>i</mi></msub><mo>∗</mo><mi>w</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">loss=\\frac{1}{n} \\sum_i^n(y_{pred}-y)^2,where \\ y_{pred}=x_i*w+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8043em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1002em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">ere</span><span class=\"mspace\"> </span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6153em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li>分别计算 loss 对 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 的梯度 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo><msub><mi>d</mi><mi>b</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_w, d_b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（偏导数）</li>\n<li>更新 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 直到：（训练（fit): 逐渐更新 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 的过程）\n<ul>\n<li>策略 1：loss 不在降低</li>\n<li>策略 2：迭代到指定次数（本文采用）</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>=</mo><mi>w</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>b</mi></msub><mo separator=\"true\">,</mo><mi>α</mi><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">w=w-\\alpha*d_w, b=b-\\alpha*d_b,\\alpha \\in [0,1]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span> 学习率（超参数：手工设置的，模型参数：能通过数据学到的 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>）)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"案例：基于-Tensorflow-求解一元一次方程\">案例：基于 Tensorflow 求解一元一次方程</h2>\n<p>为什么基于 Tensorflow：因为 Tensorflow 为我们提供了求解导数的方法。你也可以基于 numpy、keras 等实现。</p>\n<p>实现步骤：</p>\n<ol>\n<li>导入类库</li>\n<li>准备数据</li>\n<li>构建未知数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li>定义 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>=</mo><mi>x</mi><mo>∗</mo><mi>w</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y_{pred}=x*w+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li>定义 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">loss</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span></span></span></span></li>\n<li>求解 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi>w</mi><mo separator=\"true\">,</mo><mi>d</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">dw,db</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">b</span></span></span></span>：</li>\n<li>更新梯度：</li>\n</ol>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"center\" columnspacing=\"0em\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>w</mi><mo>=</mo><mi>w</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>b</mi><mo>=</mo><mi>b</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>b</mi></msub></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>t</mi><mi mathvariant=\"normal\">.</mi><mi>α</mi><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gather} \\\\  \n\t\t\t  w=w-\\alpha*d_w, \\\\  \n\t\t\t  b=b-\\alpha*d_b\\\\  \n\t\t\t  s.t. \\alpha \\in [0,1]  \n\\end{gather}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6em;vertical-align:-2.75em;\"></span><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-0.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">t</span><span class=\"mord\">.</span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-3.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-0.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span></span></p>\n<ol start=\"8\">\n<li>回到 步骤 6, 直到迭代到指定次数</li>\n</ol>\n<p>例子演示：<a href=\"http://localhost:8888/lab/tree/%E5%95%86%E4%B8%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02-10%20%E6%89%8B%E5%8A%A8%E6%8B%9F%E5%90%88%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.ipynb\">线性案例</a></p>\n<h2 id=\"案例：基于-DM（作业：2022-11-07）\">案例：基于 DM（作业：2022-11-07）</h2>\n<p><img src=\"/images/30b7afcaa4ce763e3adf2f3593ffc7f1c6a6ef54.png\" alt=\"static/attachment/Pasted image 20221107160559.png\"><br>\n<img src=\"/images/ca4acb61c008141a83bf4db021354d1b42850cb2.png\" alt=\"static/attachment/Pasted image 20221107161935.png\"><br>\n[数据处理脚本](<a href=\"http://127.0.0.1:8888/lab/tree/%E5%95%86%E4%B8%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02-12\">http://127.0.0.1:8888/lab/tree/商业数据分析/02-12</a> 数据可视化.ipynb)</p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover3.jpg","excerpt":"","more":"<h2 id=\"模型目标\">模型目标</h2>\n<ul>\n<li>给定房子的面积集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x=\\{ x_1,\\dots,x_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> 与价格集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y=\\{y_1,\\dots,y_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, 我们想要求解出一个模型</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"center\" columnspacing=\"0em\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>f</mi><mo>:</mo><mi>R</mi><mo>→</mo><mi>R</mi><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>y</mi><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>t</mi><mi mathvariant=\"normal\">.</mi><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo>∈</mo><mi>R</mi></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gather}  \n  f: R \\rightarrow R, \\\\  \n  f(x)=y,\\\\ s.t. x,y \\in R  \n  \\end{gather}  \n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.5em;vertical-align:-2em;\"></span><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5em;\"><span style=\"top:-4.66em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-3.16em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-1.66em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">t</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.5em;\"><span style=\"top:-4.5em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-1.5em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2em;\"><span></span></span></span></span></span></span></span></span></p>\n<ul>\n<li>该模型能够根据房子的面积 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 预测房子的价格 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>. <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x_1,y_1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 表示房子 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 对应的价格为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">y_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>；可能取值：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy=\"false\">{</mo><mn>56</mn><mo separator=\"true\">,</mo><mn>60</mn><mo separator=\"true\">,</mo><mn>120</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x=\\{ 56,60,120 \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">56</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">60</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">120</span><span class=\"mclose\">}</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy=\"false\">{</mo><mn>30</mn><mtext>万</mtext><mo separator=\"true\">,</mo><mn>40</mn><mtext>万</mtext><mo separator=\"true\">,</mo><mn>70</mn><mtext>万</mtext><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y=\\{30万,40万,70万 \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">30</span><span class=\"mord cjk_fallback\">万</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">40</span><span class=\"mord cjk_fallback\">万</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">70</span><span class=\"mord cjk_fallback\">万</span><span class=\"mclose\">}</span></span></span></span></li>\n<li>举例说明：\n<ul>\n<li>给定图中的点，我们的目标是根据已知的点，求出适合数据线（红色）（位置）<br>\n<img src=\"/images/b32c68fa9d60da210505be648152958708936b6a.png\" alt=\"static/attachment/Pasted image 20221107135019.png\"><img src=\"/images/0db520fdf28e05e081f24b9b3b7388315bfc7919.png\" alt=\"static/attachment/Pasted image 20221107135150.png\"></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"模型表示\">模型表示</h2>\n<ul>\n<li>\n<p>模型表示：一元一次方程</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>+</mo><mi>a</mi><mi>x</mi><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>x</mi><mo>=</mo><mi>w</mi><mo>∗</mo><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y=ax+b=b+ax=\\theta_0+\\theta_1 x=w*x+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 等价，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 等价</li>\n</ul>\n</li>\n<li>\n<p>代价函数 (loss function)</p>\n<ul>\n<li>代价函数用于评估模型的预测结果与实际结果的差距\n<ul>\n<li>假设房子的实际价格 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> 是 30 万，模型的预测价格 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo separator=\"true\">,</mo><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">y_{pred},\\hat{y}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span></span></span></span> 是 29 万，那么的一种 <strong>可能</strong> 损失 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">loss</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span></span></span></span> 是：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>−</mo><mi>y</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>=</mo><mo stretchy=\"false\">(</mo><mn>30</mn><mo>−</mo><mn>29</mn><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>=</mo><msup><mn>1</mn><mn>2</mn></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">loss=(y_{pred}-y)^2=(30-29)^2=1^2=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">30</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\">29</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>我们的目标</p>\n<ul>\n<li><strong>最小化</strong> 预测价格与实际价格的差距：让模型的预测结果与实际结果无限接近</li>\n<li>问题转换为求最小值的问题：最小化损失函数</li>\n<li>损失表达式：给定数据集合 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">x=\\{ x_1,\\dots,x_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> , <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y=\\{y_1,\\dots,y_n \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> 与模型的预测结果 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>=</mo><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mo>=</mo><mo stretchy=\"false\">{</mo><mover accent=\"true\"><msub><mi>y</mi><mn>1</mn></msub><mo>^</mo></mover><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mover accent=\"true\"><msub><mi>y</mi><mi>n</mi></msub><mo>^</mo></mover><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">y_{pred}=\\hat{y}=\\{ \\hat{y_1}, \\dots, \\hat{y_n} \\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, 其损失的表达式为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mi>i</mi><mi>n</mi></msubsup><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>−</mo><mi>y</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">loss=\\frac{1}{n} \\sum_i^n(y_{pred}-y)^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8043em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></li>\n<li>假设 N=3, loss=<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><msub><mi>y</mi><mn>1</mn></msub><mo>^</mo></mover><mo>−</mo><msub><mi>y</mi><mn>1</mn></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><msub><mi>y</mi><mn>2</mn></msub><mo>^</mo></mover><mo>−</mo><msub><mi>y</mi><mn>2</mn></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><msub><mi>y</mi><mn>3</mn></msub><mo>^</mo></mover><mo>−</mo><msub><mi>y</mi><mn>3</mn></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\frac{1}{3} [( \\hat{y_1}-y_1)^2 + (\\hat{y_2}-y_2)^2 +(\\hat{y_3}-y_3)^2]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mopen\">[(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></li>\n<li>问题转换为：找到一组参数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>θ</mi><mn>0</mn></msub><mo separator=\"true\">,</mo><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\theta_0,\\theta_1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>, 也就是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(w,b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span>, 该值使 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">loss</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span></span></span></span> 最小。</li>\n<li>那怎么求最小的 loss 呢？</li>\n</ul>\n</li>\n<li>\n<p>梯度下降（SGD）</p>\n<ul>\n<li>梯度下降是一个用来求函数最小值的算法.</li>\n<li>梯度下降的表达式 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mi>j</mi></msub><mo>:</mo><mo>=</mo><msub><mi>θ</mi><mi>j</mi></msub><mo>−</mo><mi>α</mi><mfrac><mi mathvariant=\"normal\">∂</mi><mrow><mi mathvariant=\"normal\">∂</mi><msub><mi>θ</mi><mi>j</mi></msub></mrow></mfrac><mi>J</mi><mrow><mo fence=\"true\">(</mo><msub><mi>θ</mi><mn>0</mn></msub><mo separator=\"true\">,</mo><msub><mi>θ</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mspace width=\"1em\"/><mo stretchy=\"false\">(</mo><mtext> for </mtext><mi>j</mi><mo>=</mo><mn>0</mn><mtext> and </mtext><mi>j</mi><mo>=</mo><mn>1</mn><mtext> ) </mtext></mrow><annotation encoding=\"application/x-tex\">\\theta_j:=\\theta_j-\\alpha \\frac{\\partial}{\\partial \\theta_j} J\\left(\\theta_0, \\theta_1\\right) \\quad(\\text { for } j=0 \\text { and } j=1 \\text { ) }</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.4224em;vertical-align:-0.5423em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8801em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2819em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\" style=\"margin-right:0.05556em;\">∂</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5423em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">(</span><span class=\"mord text\"><span class=\"mord\"> for </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> and </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mord text\"><span class=\"mord\"> ) </span></span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span> 是学习率 (learning rate)，它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大，在批量梯度下降中，我们每一次都同时让所有的参数减去学习速率 乘以代价函数的导数。</li>\n</ul>\n</li>\n<li>\n<p>梯度下降的步骤 (在线性回归中）</p>\n<ul>\n<li>初始化 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 为任意值，如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>=</mo><mn>0</mn><mo separator=\"true\">,</mo><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">w=0,b=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span></li>\n<li>计算当前 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 对应的损失: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mi>i</mi><mi>n</mi></msubsup><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>−</mo><mi>y</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo separator=\"true\">,</mo><mi>w</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>e</mi><mtext> </mtext><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>=</mo><msub><mi>x</mi><mi>i</mi></msub><mo>∗</mo><mi>w</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">loss=\\frac{1}{n} \\sum_i^n(y_{pred}-y)^2,where \\ y_{pred}=x_i*w+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8043em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1002em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">ere</span><span class=\"mspace\"> </span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6153em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li>分别计算 loss 对 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 的梯度 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo><msub><mi>d</mi><mi>b</mi></msub></mrow><annotation encoding=\"application/x-tex\">d_w, d_b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（偏导数）</li>\n<li>更新 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 直到：（训练（fit): 逐渐更新 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> 的过程）\n<ul>\n<li>策略 1：loss 不在降低</li>\n<li>策略 2：迭代到指定次数（本文采用）</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>=</mo><mi>w</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>b</mi></msub><mo separator=\"true\">,</mo><mi>α</mi><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">w=w-\\alpha*d_w, b=b-\\alpha*d_b,\\alpha \\in [0,1]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span> 学习率（超参数：手工设置的，模型参数：能通过数据学到的 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">w,b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>）)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"案例：基于-Tensorflow-求解一元一次方程\">案例：基于 Tensorflow 求解一元一次方程</h2>\n<p>为什么基于 Tensorflow：因为 Tensorflow 为我们提供了求解导数的方法。你也可以基于 numpy、keras 等实现。</p>\n<p>实现步骤：</p>\n<ol>\n<li>导入类库</li>\n<li>准备数据</li>\n<li>构建未知数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li>定义 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>=</mo><mi>x</mi><mo>∗</mo><mi>w</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">y_{pred}=x*w+b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></li>\n<li>定义 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">loss</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">oss</span></span></span></span></li>\n<li>求解 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi>w</mi><mo separator=\"true\">,</mo><mi>d</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">dw,db</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">b</span></span></span></span>：</li>\n<li>更新梯度：</li>\n</ol>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"center\" columnspacing=\"0em\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>w</mi><mo>=</mo><mi>w</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>w</mi></msub><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>b</mi><mo>=</mo><mi>b</mi><mo>−</mo><mi>α</mi><mo>∗</mo><msub><mi>d</mi><mi>b</mi></msub></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>t</mi><mi mathvariant=\"normal\">.</mi><mi>α</mi><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{gather} \\\\  \n\t\t\t  w=w-\\alpha*d_w, \\\\  \n\t\t\t  b=b-\\alpha*d_b\\\\  \n\t\t\t  s.t. \\alpha \\in [0,1]  \n\\end{gather}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6em;vertical-align:-2.75em;\"></span><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-0.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">t</span><span class=\"mord\">.</span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-3.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span><span style=\"top:-0.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"eqn-num\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.75em;\"><span></span></span></span></span></span></span></span></span></p>\n<ol start=\"8\">\n<li>回到 步骤 6, 直到迭代到指定次数</li>\n</ol>\n<p>例子演示：<a href=\"http://localhost:8888/lab/tree/%E5%95%86%E4%B8%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02-10%20%E6%89%8B%E5%8A%A8%E6%8B%9F%E5%90%88%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.ipynb\">线性案例</a></p>\n<h2 id=\"案例：基于-DM（作业：2022-11-07）\">案例：基于 DM（作业：2022-11-07）</h2>\n<p><img src=\"/images/30b7afcaa4ce763e3adf2f3593ffc7f1c6a6ef54.png\" alt=\"static/attachment/Pasted image 20221107160559.png\"><br>\n<img src=\"/images/ca4acb61c008141a83bf4db021354d1b42850cb2.png\" alt=\"static/attachment/Pasted image 20221107161935.png\"><br>\n[数据处理脚本](<a href=\"http://127.0.0.1:8888/lab/tree/%E5%95%86%E4%B8%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02-12\">http://127.0.0.1:8888/lab/tree/商业数据分析/02-12</a> 数据可视化.ipynb)</p>\n"},{"title":"AIOPS2018 数据集","date":"2022-12-07T00:23:20.000Z","updated":"2022-12-12T00:36:45.000Z","aliases":["AIOPS2018 数据集","Untitled 1"],"_content":"\n## 比赛资料\n\n数据集介绍: https://competition.aiops-challenge.com/home/competition/1484452272200032281  \n数据集链接: https://github.com/NetManAIOps/KPI-Anomaly-Detection/tree/master/Finals_dataset\n\nhttps://workshop.aiops.org/#2018%20AIOps  \n\n## 处理的代码\n\nhttps://opensource.salesforce.com/Merlion/v1.0.1/ts_datasets.anomaly.html\n\n## 数据统计\n\nhttps://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=K3mrP9\n\n## 可视化\n\n![static/attachment/301c70d8-1630-35ac-8f96-bc1b6f4359ea.png](/images/0a2334193585c03a9c88aa9bba490578052d37da.png)\n\n![static/attachment/0efb375b-b902-3661-ab23-9a0bb799f4e3.png](/images/7069d69b0c915b9f27ccecfc731850849d5a1e50.png)\n\n![static/attachment/1c6d7a26-1f1a-3321-bb4d-7a9d969ec8f0.png](/images/46e0d1afaf15e13bef5d940501c08f8559ed72b5.png)\n\n![static/attachment/4d2af31a-9916-3d9f-8a8e-8a268a48c095.png](/images/688548cfede693dcb4287b0915302ef4a9ceb905.png)\n\n![static/attachment/05f10d3a-239c-3bef-9bdc-a2feeb0037aa.png](/images/7902138d9bf946f6d7893f43d07131c63a7e47a6.png)\n\n![static/attachment/6a757df4-95e5-3357-8406-165e2bd49360.png](/images/1370c97bc57284c414da5d7fdafdff2dace046f2.png)\n\n![static/attachment/6d1114ae-be04-3c46-b5aa-be1a003a57cd.png](/images/e6c28ba6b083dc8458b1311d2d7d18a94934167b.png)\n\n![static/attachment/6efa3a07-4544-34a0-b921-a155bd1a05e8.png](/images/d137ddc3b4e8f4e61cddbdbbffd7a7b4e27ec57d.png)\n\n![static/attachment/9c639a46-34c8-39bc-aaf0-9144b37adfc8.png](/images/37abbbb12469481e6af19ce4be56d0a048a9be90.png)\n\n![static/attachment/42d6616d-c9c5-370a-a8ba-17ead74f3114.png](/images/09b966c799d4c8ca44612f1eb98fd1eefd377fb2.png)\n\n![static/attachment/55f8b8b8-b659-38df-b3df-e4a5a8a54bc9.png](/images/1447a3ce37d405d6b028245b5d0f7f728bd17a96.png)\n\n![static/attachment/431a8542-c468-3988-a508-3afd06a218da.png](/images/fc6773fec6a6ce305fe9361c9a404122cd96155d.png)\n\n![static/attachment/847e8ecc-f8d2-3a93-9107-f367a0aab37d.png](/images/6489e8a5f01b6de04754ae5238f20b693cb18f0b.png)\n\n![static/attachment/7103fa0f-cac4-314f-addc-866190247439.png](/images/83f9ed76cca0ef8c956909511fad20319aaf1d43.png)\n\n![static/attachment/8723f0fb-eaef-32e6-b372-6034c9c04b80.png](/images/a4e08000d57f7e73b9f7bf1cdb9e2f5ba83e9455.png)\n\n![static/attachment/43115f2a-baeb-3b01-96f7-4ea14188343c.png](/images/7c4a93b18e55add96c46913425a60b1cf7b82fcd.png)\n\n![static/attachment/54350a12-7a9d-3ca8-b81f-f886b9d156fd.png](/images/f5503233e757ca0b05d941c193f8b9207863bf1e.png)\n\n![static/attachment/57051487-3a40-3828-9084-a12f7f23ee38.png](/images/c43f0fb17247ff0559363e3350b5848aa9d9aea4.png)\n\n![static/attachment/a07ac296-de40-3a7c-8df3-91f642cc14d0.png](/images/b2c52d796c98ffb94100da0438420e7cd483cd01.png)\n\n![static/attachment/a8c06b47-cc41-3738-9110-12df0ee4c721.png](/images/82a8f16cdb3304a2d7efd121779786c21065fd7b.png)\n\n![static/attachment/ab216663-dcc2-3a24-b1ee-2c3e550e06c9.png](/images/bde042b155cb56f19e4e168dc27d2940fd1580ff.png)\n\n![static/attachment/adb2fde9-8589-3f5b-a410-5fe14386c7af.png](/images/639cf43bac0db5f637594b8a71a94dc655172205.png)\n\n![static/attachment/ba5f3328-9f3f-3ff5-a683-84437d16d554.png](/images/6d4f59b37197e75bff112c621bf1524c5af712a5.png)\n\n![static/attachment/c69a50cf-ee03-3bd7-831e-407d36c7ee91.png](/images/212d5a449a50e458f1b3dd8c00c2be3b012b8428.png)\n\n![static/attachment/c02607e8-7399-3dde-9d28-8a8da5e5d251.png](/images/c42f554486a4c5ace455ddaa6b320b6fd755d904.png)\n\n![static/attachment/da10a69f-d836-3baa-ad40-3e548ecf1fbd.png](/images/231205b84b2517b89eeae51949fdbbfec0243eb4.png)\n\n![static/attachment/e0747cad-8dc8-38a9-a9ab-855b61f5551d.png](/images/3d99aefa7286c3164e9a874f2faac64a1446844f.png)\n\n![static/attachment/f0932edd-6400-3e63-9559-0a9860a1baa9.png](/images/f9ae5e9b0ad88d664d887ba7613940616549ca36.png)\n\n![static/attachment/ffb82d38-5f00-37db-abc0-5d2e4e4cb6aa.png](/images/cc862b36f59d295bd77d64adb5e6b796c68099ff.png)\n\n## 类似数据集\n\nhttps://www.cs.ucr.edu/~eamonn/time_series_data/\n","source":"_posts/AIOPS2018数据集.md","raw":"---\ntitle: AIOPS2018 数据集\ntags:\n  - docs\n  - public\ndate: 2022-12-07 08:23:20 \nupdated: 2022-12-12 08:36:45 \ncategories:\n  - uncategory\naliases:\n  - AIOPS2018 数据集\n  - Untitled 1\n---\n\n## 比赛资料\n\n数据集介绍: https://competition.aiops-challenge.com/home/competition/1484452272200032281  \n数据集链接: https://github.com/NetManAIOps/KPI-Anomaly-Detection/tree/master/Finals_dataset\n\nhttps://workshop.aiops.org/#2018%20AIOps  \n\n## 处理的代码\n\nhttps://opensource.salesforce.com/Merlion/v1.0.1/ts_datasets.anomaly.html\n\n## 数据统计\n\nhttps://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=K3mrP9\n\n## 可视化\n\n![static/attachment/301c70d8-1630-35ac-8f96-bc1b6f4359ea.png](/images/0a2334193585c03a9c88aa9bba490578052d37da.png)\n\n![static/attachment/0efb375b-b902-3661-ab23-9a0bb799f4e3.png](/images/7069d69b0c915b9f27ccecfc731850849d5a1e50.png)\n\n![static/attachment/1c6d7a26-1f1a-3321-bb4d-7a9d969ec8f0.png](/images/46e0d1afaf15e13bef5d940501c08f8559ed72b5.png)\n\n![static/attachment/4d2af31a-9916-3d9f-8a8e-8a268a48c095.png](/images/688548cfede693dcb4287b0915302ef4a9ceb905.png)\n\n![static/attachment/05f10d3a-239c-3bef-9bdc-a2feeb0037aa.png](/images/7902138d9bf946f6d7893f43d07131c63a7e47a6.png)\n\n![static/attachment/6a757df4-95e5-3357-8406-165e2bd49360.png](/images/1370c97bc57284c414da5d7fdafdff2dace046f2.png)\n\n![static/attachment/6d1114ae-be04-3c46-b5aa-be1a003a57cd.png](/images/e6c28ba6b083dc8458b1311d2d7d18a94934167b.png)\n\n![static/attachment/6efa3a07-4544-34a0-b921-a155bd1a05e8.png](/images/d137ddc3b4e8f4e61cddbdbbffd7a7b4e27ec57d.png)\n\n![static/attachment/9c639a46-34c8-39bc-aaf0-9144b37adfc8.png](/images/37abbbb12469481e6af19ce4be56d0a048a9be90.png)\n\n![static/attachment/42d6616d-c9c5-370a-a8ba-17ead74f3114.png](/images/09b966c799d4c8ca44612f1eb98fd1eefd377fb2.png)\n\n![static/attachment/55f8b8b8-b659-38df-b3df-e4a5a8a54bc9.png](/images/1447a3ce37d405d6b028245b5d0f7f728bd17a96.png)\n\n![static/attachment/431a8542-c468-3988-a508-3afd06a218da.png](/images/fc6773fec6a6ce305fe9361c9a404122cd96155d.png)\n\n![static/attachment/847e8ecc-f8d2-3a93-9107-f367a0aab37d.png](/images/6489e8a5f01b6de04754ae5238f20b693cb18f0b.png)\n\n![static/attachment/7103fa0f-cac4-314f-addc-866190247439.png](/images/83f9ed76cca0ef8c956909511fad20319aaf1d43.png)\n\n![static/attachment/8723f0fb-eaef-32e6-b372-6034c9c04b80.png](/images/a4e08000d57f7e73b9f7bf1cdb9e2f5ba83e9455.png)\n\n![static/attachment/43115f2a-baeb-3b01-96f7-4ea14188343c.png](/images/7c4a93b18e55add96c46913425a60b1cf7b82fcd.png)\n\n![static/attachment/54350a12-7a9d-3ca8-b81f-f886b9d156fd.png](/images/f5503233e757ca0b05d941c193f8b9207863bf1e.png)\n\n![static/attachment/57051487-3a40-3828-9084-a12f7f23ee38.png](/images/c43f0fb17247ff0559363e3350b5848aa9d9aea4.png)\n\n![static/attachment/a07ac296-de40-3a7c-8df3-91f642cc14d0.png](/images/b2c52d796c98ffb94100da0438420e7cd483cd01.png)\n\n![static/attachment/a8c06b47-cc41-3738-9110-12df0ee4c721.png](/images/82a8f16cdb3304a2d7efd121779786c21065fd7b.png)\n\n![static/attachment/ab216663-dcc2-3a24-b1ee-2c3e550e06c9.png](/images/bde042b155cb56f19e4e168dc27d2940fd1580ff.png)\n\n![static/attachment/adb2fde9-8589-3f5b-a410-5fe14386c7af.png](/images/639cf43bac0db5f637594b8a71a94dc655172205.png)\n\n![static/attachment/ba5f3328-9f3f-3ff5-a683-84437d16d554.png](/images/6d4f59b37197e75bff112c621bf1524c5af712a5.png)\n\n![static/attachment/c69a50cf-ee03-3bd7-831e-407d36c7ee91.png](/images/212d5a449a50e458f1b3dd8c00c2be3b012b8428.png)\n\n![static/attachment/c02607e8-7399-3dde-9d28-8a8da5e5d251.png](/images/c42f554486a4c5ace455ddaa6b320b6fd755d904.png)\n\n![static/attachment/da10a69f-d836-3baa-ad40-3e548ecf1fbd.png](/images/231205b84b2517b89eeae51949fdbbfec0243eb4.png)\n\n![static/attachment/e0747cad-8dc8-38a9-a9ab-855b61f5551d.png](/images/3d99aefa7286c3164e9a874f2faac64a1446844f.png)\n\n![static/attachment/f0932edd-6400-3e63-9559-0a9860a1baa9.png](/images/f9ae5e9b0ad88d664d887ba7613940616549ca36.png)\n\n![static/attachment/ffb82d38-5f00-37db-abc0-5d2e4e4cb6aa.png](/images/cc862b36f59d295bd77d64adb5e6b796c68099ff.png)\n\n## 类似数据集\n\nhttps://www.cs.ucr.edu/~eamonn/time_series_data/\n","slug":"AIOPS2018数据集","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io0000viwv97tjtb5rh","content":"<h2 id=\"比赛资料\">比赛资料</h2>\n<p>数据集介绍: <a href=\"https://competition.aiops-challenge.com/home/competition/1484452272200032281\">https://competition.aiops-challenge.com/home/competition/1484452272200032281</a><br>\n数据集链接: <a href=\"https://github.com/NetManAIOps/KPI-Anomaly-Detection/tree/master/Finals_dataset\">https://github.com/NetManAIOps/KPI-Anomaly-Detection/tree/master/Finals_dataset</a></p>\n<p><a href=\"https://workshop.aiops.org/#2018%20AIOps\">https://workshop.aiops.org/#2018 AIOps</a></p>\n<h2 id=\"处理的代码\">处理的代码</h2>\n<p><a href=\"https://opensource.salesforce.com/Merlion/v1.0.1/ts_datasets.anomaly.html\">https://opensource.salesforce.com/Merlion/v1.0.1/ts_datasets.anomaly.html</a></p>\n<h2 id=\"数据统计\">数据统计</h2>\n<p><a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=K3mrP9\">https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=K3mrP9</a></p>\n<h2 id=\"可视化\">可视化</h2>\n<p><img src=\"/images/0a2334193585c03a9c88aa9bba490578052d37da.png\" alt=\"static/attachment/301c70d8-1630-35ac-8f96-bc1b6f4359ea.png\"></p>\n<p><img src=\"/images/7069d69b0c915b9f27ccecfc731850849d5a1e50.png\" alt=\"static/attachment/0efb375b-b902-3661-ab23-9a0bb799f4e3.png\"></p>\n<p><img src=\"/images/46e0d1afaf15e13bef5d940501c08f8559ed72b5.png\" alt=\"static/attachment/1c6d7a26-1f1a-3321-bb4d-7a9d969ec8f0.png\"></p>\n<p><img src=\"/images/688548cfede693dcb4287b0915302ef4a9ceb905.png\" alt=\"static/attachment/4d2af31a-9916-3d9f-8a8e-8a268a48c095.png\"></p>\n<p><img src=\"/images/7902138d9bf946f6d7893f43d07131c63a7e47a6.png\" alt=\"static/attachment/05f10d3a-239c-3bef-9bdc-a2feeb0037aa.png\"></p>\n<p><img src=\"/images/1370c97bc57284c414da5d7fdafdff2dace046f2.png\" alt=\"static/attachment/6a757df4-95e5-3357-8406-165e2bd49360.png\"></p>\n<p><img src=\"/images/e6c28ba6b083dc8458b1311d2d7d18a94934167b.png\" alt=\"static/attachment/6d1114ae-be04-3c46-b5aa-be1a003a57cd.png\"></p>\n<p><img src=\"/images/d137ddc3b4e8f4e61cddbdbbffd7a7b4e27ec57d.png\" alt=\"static/attachment/6efa3a07-4544-34a0-b921-a155bd1a05e8.png\"></p>\n<p><img src=\"/images/37abbbb12469481e6af19ce4be56d0a048a9be90.png\" alt=\"static/attachment/9c639a46-34c8-39bc-aaf0-9144b37adfc8.png\"></p>\n<p><img src=\"/images/09b966c799d4c8ca44612f1eb98fd1eefd377fb2.png\" alt=\"static/attachment/42d6616d-c9c5-370a-a8ba-17ead74f3114.png\"></p>\n<p><img src=\"/images/1447a3ce37d405d6b028245b5d0f7f728bd17a96.png\" alt=\"static/attachment/55f8b8b8-b659-38df-b3df-e4a5a8a54bc9.png\"></p>\n<p><img src=\"/images/fc6773fec6a6ce305fe9361c9a404122cd96155d.png\" alt=\"static/attachment/431a8542-c468-3988-a508-3afd06a218da.png\"></p>\n<p><img src=\"/images/6489e8a5f01b6de04754ae5238f20b693cb18f0b.png\" alt=\"static/attachment/847e8ecc-f8d2-3a93-9107-f367a0aab37d.png\"></p>\n<p><img src=\"/images/83f9ed76cca0ef8c956909511fad20319aaf1d43.png\" alt=\"static/attachment/7103fa0f-cac4-314f-addc-866190247439.png\"></p>\n<p><img src=\"/images/a4e08000d57f7e73b9f7bf1cdb9e2f5ba83e9455.png\" alt=\"static/attachment/8723f0fb-eaef-32e6-b372-6034c9c04b80.png\"></p>\n<p><img src=\"/images/7c4a93b18e55add96c46913425a60b1cf7b82fcd.png\" alt=\"static/attachment/43115f2a-baeb-3b01-96f7-4ea14188343c.png\"></p>\n<p><img src=\"/images/f5503233e757ca0b05d941c193f8b9207863bf1e.png\" alt=\"static/attachment/54350a12-7a9d-3ca8-b81f-f886b9d156fd.png\"></p>\n<p><img src=\"/images/c43f0fb17247ff0559363e3350b5848aa9d9aea4.png\" alt=\"static/attachment/57051487-3a40-3828-9084-a12f7f23ee38.png\"></p>\n<p><img src=\"/images/b2c52d796c98ffb94100da0438420e7cd483cd01.png\" alt=\"static/attachment/a07ac296-de40-3a7c-8df3-91f642cc14d0.png\"></p>\n<p><img src=\"/images/82a8f16cdb3304a2d7efd121779786c21065fd7b.png\" alt=\"static/attachment/a8c06b47-cc41-3738-9110-12df0ee4c721.png\"></p>\n<p><img src=\"/images/bde042b155cb56f19e4e168dc27d2940fd1580ff.png\" alt=\"static/attachment/ab216663-dcc2-3a24-b1ee-2c3e550e06c9.png\"></p>\n<p><img src=\"/images/639cf43bac0db5f637594b8a71a94dc655172205.png\" alt=\"static/attachment/adb2fde9-8589-3f5b-a410-5fe14386c7af.png\"></p>\n<p><img src=\"/images/6d4f59b37197e75bff112c621bf1524c5af712a5.png\" alt=\"static/attachment/ba5f3328-9f3f-3ff5-a683-84437d16d554.png\"></p>\n<p><img src=\"/images/212d5a449a50e458f1b3dd8c00c2be3b012b8428.png\" alt=\"static/attachment/c69a50cf-ee03-3bd7-831e-407d36c7ee91.png\"></p>\n<p><img src=\"/images/c42f554486a4c5ace455ddaa6b320b6fd755d904.png\" alt=\"static/attachment/c02607e8-7399-3dde-9d28-8a8da5e5d251.png\"></p>\n<p><img src=\"/images/231205b84b2517b89eeae51949fdbbfec0243eb4.png\" alt=\"static/attachment/da10a69f-d836-3baa-ad40-3e548ecf1fbd.png\"></p>\n<p><img src=\"/images/3d99aefa7286c3164e9a874f2faac64a1446844f.png\" alt=\"static/attachment/e0747cad-8dc8-38a9-a9ab-855b61f5551d.png\"></p>\n<p><img src=\"/images/f9ae5e9b0ad88d664d887ba7613940616549ca36.png\" alt=\"static/attachment/f0932edd-6400-3e63-9559-0a9860a1baa9.png\"></p>\n<p><img src=\"/images/cc862b36f59d295bd77d64adb5e6b796c68099ff.png\" alt=\"static/attachment/ffb82d38-5f00-37db-abc0-5d2e4e4cb6aa.png\"></p>\n<h2 id=\"类似数据集\">类似数据集</h2>\n<p><a href=\"https://www.cs.ucr.edu/~eamonn/time_series_data/\">https://www.cs.ucr.edu/~eamonn/time_series_data/</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover3.jpg","excerpt":"","more":"<h2 id=\"比赛资料\">比赛资料</h2>\n<p>数据集介绍: <a href=\"https://competition.aiops-challenge.com/home/competition/1484452272200032281\">https://competition.aiops-challenge.com/home/competition/1484452272200032281</a><br>\n数据集链接: <a href=\"https://github.com/NetManAIOps/KPI-Anomaly-Detection/tree/master/Finals_dataset\">https://github.com/NetManAIOps/KPI-Anomaly-Detection/tree/master/Finals_dataset</a></p>\n<p><a href=\"https://workshop.aiops.org/#2018%20AIOps\">https://workshop.aiops.org/#2018 AIOps</a></p>\n<h2 id=\"处理的代码\">处理的代码</h2>\n<p><a href=\"https://opensource.salesforce.com/Merlion/v1.0.1/ts_datasets.anomaly.html\">https://opensource.salesforce.com/Merlion/v1.0.1/ts_datasets.anomaly.html</a></p>\n<h2 id=\"数据统计\">数据统计</h2>\n<p><a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=K3mrP9\">https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=K3mrP9</a></p>\n<h2 id=\"可视化\">可视化</h2>\n<p><img src=\"/images/0a2334193585c03a9c88aa9bba490578052d37da.png\" alt=\"static/attachment/301c70d8-1630-35ac-8f96-bc1b6f4359ea.png\"></p>\n<p><img src=\"/images/7069d69b0c915b9f27ccecfc731850849d5a1e50.png\" alt=\"static/attachment/0efb375b-b902-3661-ab23-9a0bb799f4e3.png\"></p>\n<p><img src=\"/images/46e0d1afaf15e13bef5d940501c08f8559ed72b5.png\" alt=\"static/attachment/1c6d7a26-1f1a-3321-bb4d-7a9d969ec8f0.png\"></p>\n<p><img src=\"/images/688548cfede693dcb4287b0915302ef4a9ceb905.png\" alt=\"static/attachment/4d2af31a-9916-3d9f-8a8e-8a268a48c095.png\"></p>\n<p><img src=\"/images/7902138d9bf946f6d7893f43d07131c63a7e47a6.png\" alt=\"static/attachment/05f10d3a-239c-3bef-9bdc-a2feeb0037aa.png\"></p>\n<p><img src=\"/images/1370c97bc57284c414da5d7fdafdff2dace046f2.png\" alt=\"static/attachment/6a757df4-95e5-3357-8406-165e2bd49360.png\"></p>\n<p><img src=\"/images/e6c28ba6b083dc8458b1311d2d7d18a94934167b.png\" alt=\"static/attachment/6d1114ae-be04-3c46-b5aa-be1a003a57cd.png\"></p>\n<p><img src=\"/images/d137ddc3b4e8f4e61cddbdbbffd7a7b4e27ec57d.png\" alt=\"static/attachment/6efa3a07-4544-34a0-b921-a155bd1a05e8.png\"></p>\n<p><img src=\"/images/37abbbb12469481e6af19ce4be56d0a048a9be90.png\" alt=\"static/attachment/9c639a46-34c8-39bc-aaf0-9144b37adfc8.png\"></p>\n<p><img src=\"/images/09b966c799d4c8ca44612f1eb98fd1eefd377fb2.png\" alt=\"static/attachment/42d6616d-c9c5-370a-a8ba-17ead74f3114.png\"></p>\n<p><img src=\"/images/1447a3ce37d405d6b028245b5d0f7f728bd17a96.png\" alt=\"static/attachment/55f8b8b8-b659-38df-b3df-e4a5a8a54bc9.png\"></p>\n<p><img src=\"/images/fc6773fec6a6ce305fe9361c9a404122cd96155d.png\" alt=\"static/attachment/431a8542-c468-3988-a508-3afd06a218da.png\"></p>\n<p><img src=\"/images/6489e8a5f01b6de04754ae5238f20b693cb18f0b.png\" alt=\"static/attachment/847e8ecc-f8d2-3a93-9107-f367a0aab37d.png\"></p>\n<p><img src=\"/images/83f9ed76cca0ef8c956909511fad20319aaf1d43.png\" alt=\"static/attachment/7103fa0f-cac4-314f-addc-866190247439.png\"></p>\n<p><img src=\"/images/a4e08000d57f7e73b9f7bf1cdb9e2f5ba83e9455.png\" alt=\"static/attachment/8723f0fb-eaef-32e6-b372-6034c9c04b80.png\"></p>\n<p><img src=\"/images/7c4a93b18e55add96c46913425a60b1cf7b82fcd.png\" alt=\"static/attachment/43115f2a-baeb-3b01-96f7-4ea14188343c.png\"></p>\n<p><img src=\"/images/f5503233e757ca0b05d941c193f8b9207863bf1e.png\" alt=\"static/attachment/54350a12-7a9d-3ca8-b81f-f886b9d156fd.png\"></p>\n<p><img src=\"/images/c43f0fb17247ff0559363e3350b5848aa9d9aea4.png\" alt=\"static/attachment/57051487-3a40-3828-9084-a12f7f23ee38.png\"></p>\n<p><img src=\"/images/b2c52d796c98ffb94100da0438420e7cd483cd01.png\" alt=\"static/attachment/a07ac296-de40-3a7c-8df3-91f642cc14d0.png\"></p>\n<p><img src=\"/images/82a8f16cdb3304a2d7efd121779786c21065fd7b.png\" alt=\"static/attachment/a8c06b47-cc41-3738-9110-12df0ee4c721.png\"></p>\n<p><img src=\"/images/bde042b155cb56f19e4e168dc27d2940fd1580ff.png\" alt=\"static/attachment/ab216663-dcc2-3a24-b1ee-2c3e550e06c9.png\"></p>\n<p><img src=\"/images/639cf43bac0db5f637594b8a71a94dc655172205.png\" alt=\"static/attachment/adb2fde9-8589-3f5b-a410-5fe14386c7af.png\"></p>\n<p><img src=\"/images/6d4f59b37197e75bff112c621bf1524c5af712a5.png\" alt=\"static/attachment/ba5f3328-9f3f-3ff5-a683-84437d16d554.png\"></p>\n<p><img src=\"/images/212d5a449a50e458f1b3dd8c00c2be3b012b8428.png\" alt=\"static/attachment/c69a50cf-ee03-3bd7-831e-407d36c7ee91.png\"></p>\n<p><img src=\"/images/c42f554486a4c5ace455ddaa6b320b6fd755d904.png\" alt=\"static/attachment/c02607e8-7399-3dde-9d28-8a8da5e5d251.png\"></p>\n<p><img src=\"/images/231205b84b2517b89eeae51949fdbbfec0243eb4.png\" alt=\"static/attachment/da10a69f-d836-3baa-ad40-3e548ecf1fbd.png\"></p>\n<p><img src=\"/images/3d99aefa7286c3164e9a874f2faac64a1446844f.png\" alt=\"static/attachment/e0747cad-8dc8-38a9-a9ab-855b61f5551d.png\"></p>\n<p><img src=\"/images/f9ae5e9b0ad88d664d887ba7613940616549ca36.png\" alt=\"static/attachment/f0932edd-6400-3e63-9559-0a9860a1baa9.png\"></p>\n<p><img src=\"/images/cc862b36f59d295bd77d64adb5e6b796c68099ff.png\" alt=\"static/attachment/ffb82d38-5f00-37db-abc0-5d2e4e4cb6aa.png\"></p>\n<h2 id=\"类似数据集\">类似数据集</h2>\n<p><a href=\"https://www.cs.ucr.edu/~eamonn/time_series_data/\">https://www.cs.ucr.edu/~eamonn/time_series_data/</a></p>\n"},{"title":"AIOPS2018数据集的引用论文分析","date":"2022-12-07T00:40:15.000Z","updated":"2022-12-10T05:33:10.000Z","aliases":["AIOPS2018数据集的引用论文分析","AIOPS2018数据集的引用论文"],"_content":"\n请参考:  \nhttps://uniplore.feishu.cn/sheets/shtcnHUEX6zAUVuZaUjJfXCcOi3?sheet=XIUQDH\n\n \n","source":"_posts/AIOPS2018数据集的引用论文分析.md","raw":"---\ntitle: AIOPS2018数据集的引用论文分析\ntags:\n  - docs\n  - public\ndate: 2022-12-07 08:40:15 \nupdated: 2022-12-10 13:33:10 \ncategories:\n  - uncategory\naliases:\n  - AIOPS2018数据集的引用论文分析\n  - AIOPS2018数据集的引用论文\n---\n\n请参考:  \nhttps://uniplore.feishu.cn/sheets/shtcnHUEX6zAUVuZaUjJfXCcOi3?sheet=XIUQDH\n\n \n","slug":"AIOPS2018数据集的引用论文分析","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io0000yiwv9968xdon2","content":"<p>请参考:<br>\n<a href=\"https://uniplore.feishu.cn/sheets/shtcnHUEX6zAUVuZaUjJfXCcOi3?sheet=XIUQDH\">https://uniplore.feishu.cn/sheets/shtcnHUEX6zAUVuZaUjJfXCcOi3?sheet=XIUQDH</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover8.JPG","excerpt":"","more":"<p>请参考:<br>\n<a href=\"https://uniplore.feishu.cn/sheets/shtcnHUEX6zAUVuZaUjJfXCcOi3?sheet=XIUQDH\">https://uniplore.feishu.cn/sheets/shtcnHUEX6zAUVuZaUjJfXCcOi3?sheet=XIUQDH</a></p>\n"},{"title":"About","date":"2022-11-30T13:41:29.000Z","updated":"2022-12-09T13:52:39.000Z","password":"","message":null,"abstract":null,"aliases":["About","网站介绍","Untitled 1"],"_content":"\n我在这里与您分享我的知识库. 如果对您有用, 请给个 star : https://github.com/gwusun/gwusun.github.io\n\n## TOP\n\n<a href='{% post_path (2022)贵州大学商业数据分析课程看板 %}'>(2022)贵州大学商业数据分析课程看板</a>\n\n<a href='{% post_path 00-贵州商学院课程看板 %}'>00-贵州商学院课程看板</a>\n","source":"_posts/About.md","raw":"---\ntitle: About\ntags:\n  - public\ndate: 2022-11-30 21:41:29 \nupdated: 2022-12-09 21:52:39 \npassword: \"\"\nmessage: \nabstract: \naliases:\n  - About\n  - 网站介绍\n  - Untitled 1\n---\n\n我在这里与您分享我的知识库. 如果对您有用, 请给个 star : https://github.com/gwusun/gwusun.github.io\n\n## TOP\n\n<a href='{% post_path (2022)贵州大学商业数据分析课程看板 %}'>(2022)贵州大学商业数据分析课程看板</a>\n\n<a href='{% post_path 00-贵州商学院课程看板 %}'>00-贵州商学院课程看板</a>\n","slug":"About","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io10011iwv9bbp601h1","content":"<p>我在这里与您分享我的知识库. 如果对您有用, 请给个 star : <a href=\"https://github.com/gwusun/gwusun.github.io\">https://github.com/gwusun/gwusun.github.io</a></p>\n<h2 id=\"TOP\">TOP</h2>\n<p><a href='/uncategorized/0346da89df46.html'>(2022)贵州大学商业数据分析课程看板</a></p>\n<p><a href='/gzsxy/b3d4dc4246c4.html'>00-贵州商学院课程看板</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover8.JPG","excerpt":"","more":"<p>我在这里与您分享我的知识库. 如果对您有用, 请给个 star : <a href=\"https://github.com/gwusun/gwusun.github.io\">https://github.com/gwusun/gwusun.github.io</a></p>\n<h2 id=\"TOP\">TOP</h2>\n<p><a href='/uncategorized/0346da89df46.html'>(2022)贵州大学商业数据分析课程看板</a></p>\n<p><a href='/gzsxy/b3d4dc4246c4.html'>00-贵州商学院课程看板</a></p>\n"},{"title":"COCA源码分析","date":"2022-12-11T11:50:56.000Z","updated":"2022-12-13T04:22:21.000Z","aliases":["COCA源码分析","COCA源码","COCA"],"_content":"\n## 总结\n- COCA 并没有填充缺失数据\n- 归一化和标注化的均值和方差是 `训练集与测试集=总数据` 的均值 (scale) 和方差 (bias)\n- ![Excalidraw/COCA源码分析 2022-12-13 09.26.38.excalidraw](/images/9e087da6ca09691ea8edb510553356c47bbf69dc.excalidraw)\n\n## 安装\n```python\nmake install \n```\n\n```python\ngit clone https://github.com/salesforce/Merlion.git\ncd Merlion\npip install salesforce-merlion==1.1.1\npip install -e ts_datasets/\npip install -r requirements.txt \n```\n\n## Dataset 的表示是什么样?\n\nDataset 是多个 KPI 的表示.  \n\nall dataset:  \n![static/attachment/Pasted image 20221211204935.png](/images/0399299fb68cd20b1dbbf9bfc411a229dca7c1f6.png)  \n![static/attachment/Pasted image 20221211205148.png](/images/ecb7c0fed195365ef31c17fb5f0cf2deb9423e79.png)\n\n## `time_series, meta_data = dt[idx]` 是什么\n\ntime_series 包含 `DateTime` 和 `value`  \nmeta_data 包含 `anomaly`(是否是一次) 与 `trainval`(是否是训练集)  \n![static/attachment/Pasted image 20221212080901.png](/images/ab245dbb3a70ff7671109b47f39a1375aa896e67.png)  \n![static/attachment/Pasted image 20221212080845.png](/images/8a55323c68ecb1797e67f3018b72feb6780e3def.png)\n\n## 如何获取训练集和测试集\n```python\ntrain_data = TimeSeries.from_pd(time_series[meta_data.trainval])\ntest_data = TimeSeries.from_pd(time_series[~meta_data.trainval])\ntrain_labels = TimeSeries.from_pd(meta_data.anomaly[meta_data.trainval])\ntest_labels = TimeSeries.from_pd(meta_data.anomaly[~meta_data.trainval]) \n```\n\n### `meta_data.trainval` 存储是否是训练集\n\n![static/attachment/Pasted image 20221212081230.png](/images/db90a8315faa1528cf9847b300e3d9d4b25c54de.png)\n\n### `~meta_data.trainval` 取反\n```python\n~np.ndarray 表示取反:\n数组中的 true 变 False\nFalse 变 True \n```\n\n![static/attachment/Pasted image 20221212081325.png](/images/bfccfee6cba1e46a6031d9c7c2b70da97c13423c.png)\n\n## COCA 是一次使用全部的数据训练模型吗?\n\n不是, 是一个一个的训练  \n![static/attachment/Pasted image 20221212081932.png](/images/e03e984c489d88c178be758aee9b839174c1ba5b.png)\n\n## COCA 是如何处理缺失数据点的?\n\n<a href='{% post_path COCA %}'>COCA</a> 原始论文统计\n\n```python\nkpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa  \n训练集总数量: 146255  \n测试集总数量: 149130  \n总量: 295385 (未加缺失数据 3668(295385+3668=299053(加上缺失数据点后,与我的统计结果一致)))  \n```\n\n标注化后的数据统计:\n\n```python\ntest_time_series=(149130, 1) \n```\n\n我的统计结果:\n\n| kpi_id                               | \\#count_all | \\#train_datapoints | \\#test_datapoints | \\#missing_all |\n| ------------------------------------ | ---------- | ----------------- | ---------------- | ------------ |\n| 05f10d3a-239c-3bef-9bdc-a2feeb0037aa | 299053     | 149526            | 149527           | 3668         |\n\n数据处理流程分析: `data_generator4`\n\ntest_time_series_ts  \n![static/attachment/Pasted image 20221212084211.png](/images/f6df3690fe8dcff8aaa65aaebfe30a859049fafb.png)  \ntrain_time_series  \n![static/attachment/Pasted image 20221212090126.png](/images/e68f82882020d7d891a80e98459c280c481572a9.png)  \ntrain_time_series 转换为窗口后的数据 `configs.window_size=16, configs.time_step=2`  \n![static/attachment/Pasted image 20221212090200.png](/images/e4c4ab79e883880c71761e195ce99f95079141a6.png)\n\n### 如何标准化?\n\n求 **训练集 + 测试集** 所有的数据均值和方差, 然后标准化 (均值 scale, 方差 bias)\n\n```python\nmvn = MeanVarNormalize()\nmvn.train(train_time_series_ts + test_time_series_ts)\nbias, scale = mvn.bias, mvn.scale \n```\n\n### train_time_series 是什么?\n\n被标准后的训练数据.\n\n![static/attachment/Pasted image 20221212084458.png](/images/d959af017055f0c9d66531ee5e22e402b329b6c0.png)\n\n## COCA 的模型如何表示?\n```python\nfrom torch import nn\nimport torch\n\n\nclass base_Model(nn.Module):\n    def __init__(self, configs, device):\n        super(base_Model, self).__init__()\n        self.input_channels = configs.input_channels\n        self.final_out_channels = configs.final_out_channels\n        self.features_len = configs.features_len\n        self.project_channels = configs.project_channels\n        self.hidden_size = configs.hidden_size\n        self.window_size = configs.window_size\n        self.device = device\n        self.num_layers = configs.num_layers\n        self.kernel_size = configs.kernel_size\n        self.stride = configs.stride\n        self.dropout = configs.dropout\n\n        self.conv_block1 = nn.Sequential(\n            nn.Conv1d(self.input_channels, 32, kernel_size=self.kernel_size,\n                      stride=self.stride, bias=False, padding=(self.kernel_size//2)),\n            nn.BatchNorm1d(32),\n            nn.ReLU(),\n            nn.MaxPool1d(kernel_size=2, stride=2, padding=1),\n            nn.Dropout(self.dropout)\n        )\n\n        self.conv_block2 = nn.Sequential(\n            nn.Conv1d(32, self.final_out_channels, kernel_size=8, stride=1, bias=False, padding=4),\n            nn.BatchNorm1d(self.final_out_channels),\n            nn.ReLU(),\n            nn.MaxPool1d(kernel_size=2, stride=2, padding=1)\n        )\n\n        self.conv_block3 = nn.Sequential(\n            nn.Conv1d(64, self.final_out_channels, kernel_size=8, stride=1, bias=False, padding=4),\n            nn.BatchNorm1d(self.final_out_channels),\n            nn.ReLU(),\n            nn.MaxPool1d(kernel_size=2, stride=2, padding=1),\n        )\n\n        self.encoder = nn.LSTM(\n            self.final_out_channels,\n            self.hidden_size,\n            batch_first=True,\n            num_layers=self.num_layers,\n            bias=False,\n            dropout=self.dropout,\n        )\n        self.decoder = nn.LSTM(\n            self.final_out_channels,\n            self.hidden_size,\n            batch_first=True,\n            num_layers=self.num_layers,\n            bias=False,\n            dropout=self.dropout,\n        )\n\n        self.output_layer = nn.Linear(self.hidden_size, self.final_out_channels)\n        self.project = nn.Linear(self.final_out_channels * self.features_len, self.project_channels, bias=False)\n        self.projection_head = nn.Sequential(\n            nn.Linear(self.final_out_channels * self.features_len, self.final_out_channels * self.features_len // 2),\n            nn.BatchNorm1d(self.final_out_channels * self.features_len // 2),\n            nn.ReLU(inplace=True),\n            nn.Linear(self.final_out_channels * self.features_len // 2, self.project_channels),\n        )\n\n    def init_hidden_state(self, batch_size):\n        h = torch.zeros((self.num_layers, batch_size, self.hidden_size)).to(self.device)\n        c = torch.zeros((self.num_layers, batch_size, self.hidden_size)).to(self.device)\n        return h, c\n\n    def forward(self, x_in):\n        if torch.isnan(x_in).any():\n            print('tensor contain nan')\n        # 1D CNN feature extraction\n        x = self.conv_block1(x_in)\n        x = self.conv_block2(x)\n        # Encoder\n        hidden = x.permute(0, 2, 1)\n        # enc_hidden = self.init_hidden_state(hidden.shape[0])\n        _, enc_hidden = self.encoder(hidden)\n        # _, enc_hidden = self.encoder(hidden, enc_hidden)\n        # Decoder\n        dec_hidden = enc_hidden\n        output = torch.zeros(hidden.shape).to(self.device)\n        for i in reversed(range(hidden.shape[1])):\n            output[:, i, :] = self.output_layer(dec_hidden[0][0, :])\n            if self.training:\n                _, dec_hidden = self.decoder(hidden[:, i].unsqueeze(1).float(), dec_hidden)\n            else:\n                _, dec_hidden = self.decoder(output[:, i].unsqueeze(1), dec_hidden)\n        hidden = hidden.reshape(hidden.size(0), -1)\n        output = output.reshape(output.size(0), -1)\n        project = self.projection_head(hidden)\n        rec_project = self.projection_head(output)\n\n        return project, rec_project \n```\n\n## 实验结果输出是什么?\n```python\npython  coca.py --device cuda\n=============================================\nDataset: IOpsCompetition\nMethod:  COCA\n=============================================\n  0%|                                                                                                            | 0/29 [00:00<?, ?it/s]0time series,kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 146255\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 149130\nData loaded ...\nTraining started ....\n\nEpoch : 1\nTrain Loss     : 587.1270\t |\nValid Loss     : 115.9886\t  |\nTest Loss     : 110.1476\t  |\n\n\nEpoch : 2\nTrain Loss     : 2.5306\t |\nValid Loss     : 0.9269\t  |\nTest Loss     : 0.9269\t  |\n\n\nEpoch : 3\nTrain Loss     : 0.9320\t |\nValid Loss     : 0.7648\t  |\nTest Loss     : 0.7649\t  |\n\n\nEpoch : 4\nTrain Loss     : 0.7760\t |\nValid Loss     : 0.6570\t  |\nTest Loss     : 0.6571\t  |\n\n\nEpoch : 5\nTrain Loss     : 0.6353\t |\nValid Loss     : 0.4868\t  |\nTest Loss     : 0.4911\t  |\n\n\n################## Training is Done! #########################\n\n\nBest affiliation quantile: 0.267\nBest anomaly quantile: 0.124\nBest affiliation quantile: 0.296\nBest anomaly quantile: 0.145\nValid affiliation-metrics\nTest precision: 0.9883  | \tTest recall: 0.4635\n\nValid RAP F1\nValid F1: 0.2857  | \tValid precision: 0.3077  | \tValid recall: 0.2667\n\nTest affiliation-metrics\nTest precision: 0.9235  | \tTest recall: 0.5715\n\nTest RAP F1\nTest F1: 0.3194  | \tTest precision: 0.2805  | \tTest recall: 0.3710\n\n********************************\nINFO - Saving gif to /root/rumtime//img_1670811334.373728.png\n  3%|███▎                                                                                             | 1/29 [08:27<3:56:40, 507.15s/it]1time series,kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 8784\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 8784\nData loaded ...\nTraining started ....\n\nEpoch : 1\nTrain Loss     : 1527.4913\t |\nValid Loss     : 602.3031\t  |\nTest Loss     : 625.7771\t  |\n\n\nEpoch : 2\nTrain Loss     : 196.4226\t |\nValid Loss     : 2.7703\t  |\nTest Loss     : 2.7703\t  |\n\n\nEpoch : 3\nTrain Loss     : 2.8363\t |\nValid Loss     : 2.7490\t  |\nTest Loss     : 2.7490\t  |\n\n\nEpoch : 4\nTrain Loss     : 2.8169\t |\nValid Loss     : 2.7477\t  |\nTest Loss     : 2.7476\t  |\n\n\nEpoch : 5\nTrain Loss     : 2.8162\t |\nValid Loss     : 2.7078\t  |\nTest Loss     : 2.7078\t  |\n\n\n################## Training is Done! #########################\nBest affiliation quantile: 0.115\nBest anomaly quantile: 0.001 \n```\n\n## 跑完一个 COCA, 看看结果?\n\n论文结果: 66.78±2.91  \n我跑出来的结果: 65.30\n\n```python\naffiliation metrics:\n Precision: 0.92778\n Recall:    0.50379\n f1:        0.65300\nRevised-point-adjusted metrics:\n F1 score:  0.24675\n Precision: 0.20459\n Recall:    0.31079\nPoint-adjusted metrics:\n F1 score:  0.51525\n Precision: 0.85390\n Recall:    0.36893\nNAB Scores:\n NAB Score (balanced):       0.29219\n NAB Score (high precision): 0.28211\n NAB Score (high recall):    0.29839\nseed: 2 \nconfig setup:\n\ndataset:IOpsCompetition\ninput_channels:1\nkernel_size:4\nstride:1\nfinal_out_channels:32\nhidden_size:64\nnum_layers:3\nproject_channels:20\ndropout:0.45\nfeatures_len:6\nwindow_size:16\ntime_step:2\nnum_epoch:5\nfreeze_length_epoch:2\nchange_center_epoch:1\ncenter_eps:0.1\nomega1:1\nomega2:0.1\nbeta1:0.9\nbeta2:0.99\nlr:0.0001\ndrop_last:False\nbatch_size:512\nnu:0.001\ndetect_nu:0.0015\nthreshold_determine:floating\nobjective:soft-boundary\nloss_type:distance\naugmentation:<conf.coca.IOpsCompetition_Configs.augmentations object at 0x7f2afb3fa370>\nscale_ratio:1.1\njitter_ratio:0.1\nTraining time is : 3:09:46.206420 \n```\n\n## Time Step Ts 用来干嘛?\n\ntime step is the step while sliding, 实际是什么意思?\n\n## COCA 的超参数有哪些?\n- **repre channels**: the dimension of the ﬁnal representations Z\n- **hidden size** is the dimension of the Seq2Seq in the model\n- **project channels** is the dimension of the projector\n- **window size** is the size of time window.\n- **time step** is the step while sliding.  \n![static/attachment/Pasted image 20221212161412.png](/images/477f24a0d47507502f0dfc97355a94d92f735509.png)\n\n## 常见的性能评估指标?\n- NAB Score\n- Point-Adjusted (PA)\n- Revised Point-Adjusted (RPA)\n\n## Center 是什么?\n\n是一个 vector, (dim=20)  \n![static/attachment/Pasted image 20221212230925.png](/images/6ada637a949cf249034ab68f78aed795e61af20b.png)\n\n## model_train 的参数是些什么?\n\n`def model_train(model, model_optimizer, train_loader, center, length, config, device, epoch):`  \n![static/attachment/Pasted image 20221212231047.png](/images/f5ebef5abe60bb2772d33dee08181a8149cb9fde.png)\n\n## train_loader 中是些什么?\n- aug1 我猜是 jittering (noise addition)\n- aug2 我猜是 scaling (pattern-wise magnitude change)  \n![static/attachment/Pasted image 20221212231235.png](/images/c4b0621e622948b0f276c177681fc93042e22fba.png)\n\n## Score 如何计算?\n```python\nscore = distance1 + distance_dec1 \n```\n\n## Distance 如何计算?包含哪些?\n\ndistance1 是 cosine_similarity  \n\n- `feature1.shape=torch.Size([1536, 20])`\n- `distance_dec1=center.shape=torch.Size([1, 20])`\n\n```python\ndistance1 = F.cosine_similarity(feature1, center, eps=1e-6) \ndistance_dec1 = F.cosine_similarity(feature_dec1, center, eps=1e-6)\n```\n\n## What are distance1 and distance_dec1?\n- distance1: feature1 与 center 的 cosine_similarity\n- distance2: feature_dec1 与 center 的 cosine_similarity\n\n## feature_dec1 与 feature1 是什么?\n```python\n# project: the project of hidden(representation) Z\n# rec_project: the project of the output (reconstruction representation)\nreturn project, rec_project\n\n\n\nfeature1, feature_dec1= project, rec_project\n```\n\nproject(feature1) and rec_project(feature_dec1)\n\n![static/attachment/Pasted image 20221213114728.png](/images/00bf6b1d3993dfd678ac116ba75b5363f8901c01.png)\n\n## score 是什么?\n\nscore 是 distance1 and distance_dec1 的距离之和?\n\n```python\nscore = distance1 + distance_dec1\n```\n\ndistance1 是 projector(representation $Z$) 与 center 的 cosine_similarity\n\ndistance_dec1 是 projector(reconstruction representation $z'$) 的 cosine_similarity\n\nprojector 是:\n\n```python\nself.project = nn.Linear(self.final_out_channels * self.features_len, self.project_channels, bias=False)\nself.projection_head = nn.Sequential(\n  nn.Linear(self.final_out_channels * self.features_len, self.final_out_channels * self.features_len // 2),\n  nn.BatchNorm1d(self.final_out_channels * self.features_len // 2),\n  nn.ReLU(inplace=True),\n  nn.Linear(self.final_out_channels * self.features_len // 2, self.project_channels),\n) \n```\n\n## Threshold 如何定?\n\n按异常率指定:\n\n```python\nthreshold = np.percentile(scores, 100-detect_nu) \n```\n\n**detect_mu** is a set in nu_list, $\\operatorname{nu\\_list} \\in [0.001, 0.3]$ :![static/attachment/Pasted image 20221213121235.png](/images/87719b28415cdcff43416487c2813d47375a6961.png)\n\n## 单个 KPI 的 Affiliation Metrix 如何计算\n- 固定异常率为 `self.detect_nu = 0.0005`\n\n计算 `mu`:\n\n![static/attachment/Pasted image 20221213120925.png](/images/1a334b7c374f4d28bfb35f39ed5a141b5711586f.png)\n\n## Affiliation-metrics 是最优 F1 吗? 类似于 AUC 的那种\n","source":"_posts/COCA源码分析.md","raw":"---\ntitle: COCA源码分析\ntags:\n  - public\ndate: 2022-12-11 19:50:56 \nupdated: 2022-12-13 12:22:21 \ncategories:\n  - research\naliases:\n  - COCA源码分析\n  - COCA源码\n  - COCA\n---\n\n## 总结\n- COCA 并没有填充缺失数据\n- 归一化和标注化的均值和方差是 `训练集与测试集=总数据` 的均值 (scale) 和方差 (bias)\n- ![Excalidraw/COCA源码分析 2022-12-13 09.26.38.excalidraw](/images/9e087da6ca09691ea8edb510553356c47bbf69dc.excalidraw)\n\n## 安装\n```python\nmake install \n```\n\n```python\ngit clone https://github.com/salesforce/Merlion.git\ncd Merlion\npip install salesforce-merlion==1.1.1\npip install -e ts_datasets/\npip install -r requirements.txt \n```\n\n## Dataset 的表示是什么样?\n\nDataset 是多个 KPI 的表示.  \n\nall dataset:  \n![static/attachment/Pasted image 20221211204935.png](/images/0399299fb68cd20b1dbbf9bfc411a229dca7c1f6.png)  \n![static/attachment/Pasted image 20221211205148.png](/images/ecb7c0fed195365ef31c17fb5f0cf2deb9423e79.png)\n\n## `time_series, meta_data = dt[idx]` 是什么\n\ntime_series 包含 `DateTime` 和 `value`  \nmeta_data 包含 `anomaly`(是否是一次) 与 `trainval`(是否是训练集)  \n![static/attachment/Pasted image 20221212080901.png](/images/ab245dbb3a70ff7671109b47f39a1375aa896e67.png)  \n![static/attachment/Pasted image 20221212080845.png](/images/8a55323c68ecb1797e67f3018b72feb6780e3def.png)\n\n## 如何获取训练集和测试集\n```python\ntrain_data = TimeSeries.from_pd(time_series[meta_data.trainval])\ntest_data = TimeSeries.from_pd(time_series[~meta_data.trainval])\ntrain_labels = TimeSeries.from_pd(meta_data.anomaly[meta_data.trainval])\ntest_labels = TimeSeries.from_pd(meta_data.anomaly[~meta_data.trainval]) \n```\n\n### `meta_data.trainval` 存储是否是训练集\n\n![static/attachment/Pasted image 20221212081230.png](/images/db90a8315faa1528cf9847b300e3d9d4b25c54de.png)\n\n### `~meta_data.trainval` 取反\n```python\n~np.ndarray 表示取反:\n数组中的 true 变 False\nFalse 变 True \n```\n\n![static/attachment/Pasted image 20221212081325.png](/images/bfccfee6cba1e46a6031d9c7c2b70da97c13423c.png)\n\n## COCA 是一次使用全部的数据训练模型吗?\n\n不是, 是一个一个的训练  \n![static/attachment/Pasted image 20221212081932.png](/images/e03e984c489d88c178be758aee9b839174c1ba5b.png)\n\n## COCA 是如何处理缺失数据点的?\n\n<a href='{% post_path COCA %}'>COCA</a> 原始论文统计\n\n```python\nkpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa  \n训练集总数量: 146255  \n测试集总数量: 149130  \n总量: 295385 (未加缺失数据 3668(295385+3668=299053(加上缺失数据点后,与我的统计结果一致)))  \n```\n\n标注化后的数据统计:\n\n```python\ntest_time_series=(149130, 1) \n```\n\n我的统计结果:\n\n| kpi_id                               | \\#count_all | \\#train_datapoints | \\#test_datapoints | \\#missing_all |\n| ------------------------------------ | ---------- | ----------------- | ---------------- | ------------ |\n| 05f10d3a-239c-3bef-9bdc-a2feeb0037aa | 299053     | 149526            | 149527           | 3668         |\n\n数据处理流程分析: `data_generator4`\n\ntest_time_series_ts  \n![static/attachment/Pasted image 20221212084211.png](/images/f6df3690fe8dcff8aaa65aaebfe30a859049fafb.png)  \ntrain_time_series  \n![static/attachment/Pasted image 20221212090126.png](/images/e68f82882020d7d891a80e98459c280c481572a9.png)  \ntrain_time_series 转换为窗口后的数据 `configs.window_size=16, configs.time_step=2`  \n![static/attachment/Pasted image 20221212090200.png](/images/e4c4ab79e883880c71761e195ce99f95079141a6.png)\n\n### 如何标准化?\n\n求 **训练集 + 测试集** 所有的数据均值和方差, 然后标准化 (均值 scale, 方差 bias)\n\n```python\nmvn = MeanVarNormalize()\nmvn.train(train_time_series_ts + test_time_series_ts)\nbias, scale = mvn.bias, mvn.scale \n```\n\n### train_time_series 是什么?\n\n被标准后的训练数据.\n\n![static/attachment/Pasted image 20221212084458.png](/images/d959af017055f0c9d66531ee5e22e402b329b6c0.png)\n\n## COCA 的模型如何表示?\n```python\nfrom torch import nn\nimport torch\n\n\nclass base_Model(nn.Module):\n    def __init__(self, configs, device):\n        super(base_Model, self).__init__()\n        self.input_channels = configs.input_channels\n        self.final_out_channels = configs.final_out_channels\n        self.features_len = configs.features_len\n        self.project_channels = configs.project_channels\n        self.hidden_size = configs.hidden_size\n        self.window_size = configs.window_size\n        self.device = device\n        self.num_layers = configs.num_layers\n        self.kernel_size = configs.kernel_size\n        self.stride = configs.stride\n        self.dropout = configs.dropout\n\n        self.conv_block1 = nn.Sequential(\n            nn.Conv1d(self.input_channels, 32, kernel_size=self.kernel_size,\n                      stride=self.stride, bias=False, padding=(self.kernel_size//2)),\n            nn.BatchNorm1d(32),\n            nn.ReLU(),\n            nn.MaxPool1d(kernel_size=2, stride=2, padding=1),\n            nn.Dropout(self.dropout)\n        )\n\n        self.conv_block2 = nn.Sequential(\n            nn.Conv1d(32, self.final_out_channels, kernel_size=8, stride=1, bias=False, padding=4),\n            nn.BatchNorm1d(self.final_out_channels),\n            nn.ReLU(),\n            nn.MaxPool1d(kernel_size=2, stride=2, padding=1)\n        )\n\n        self.conv_block3 = nn.Sequential(\n            nn.Conv1d(64, self.final_out_channels, kernel_size=8, stride=1, bias=False, padding=4),\n            nn.BatchNorm1d(self.final_out_channels),\n            nn.ReLU(),\n            nn.MaxPool1d(kernel_size=2, stride=2, padding=1),\n        )\n\n        self.encoder = nn.LSTM(\n            self.final_out_channels,\n            self.hidden_size,\n            batch_first=True,\n            num_layers=self.num_layers,\n            bias=False,\n            dropout=self.dropout,\n        )\n        self.decoder = nn.LSTM(\n            self.final_out_channels,\n            self.hidden_size,\n            batch_first=True,\n            num_layers=self.num_layers,\n            bias=False,\n            dropout=self.dropout,\n        )\n\n        self.output_layer = nn.Linear(self.hidden_size, self.final_out_channels)\n        self.project = nn.Linear(self.final_out_channels * self.features_len, self.project_channels, bias=False)\n        self.projection_head = nn.Sequential(\n            nn.Linear(self.final_out_channels * self.features_len, self.final_out_channels * self.features_len // 2),\n            nn.BatchNorm1d(self.final_out_channels * self.features_len // 2),\n            nn.ReLU(inplace=True),\n            nn.Linear(self.final_out_channels * self.features_len // 2, self.project_channels),\n        )\n\n    def init_hidden_state(self, batch_size):\n        h = torch.zeros((self.num_layers, batch_size, self.hidden_size)).to(self.device)\n        c = torch.zeros((self.num_layers, batch_size, self.hidden_size)).to(self.device)\n        return h, c\n\n    def forward(self, x_in):\n        if torch.isnan(x_in).any():\n            print('tensor contain nan')\n        # 1D CNN feature extraction\n        x = self.conv_block1(x_in)\n        x = self.conv_block2(x)\n        # Encoder\n        hidden = x.permute(0, 2, 1)\n        # enc_hidden = self.init_hidden_state(hidden.shape[0])\n        _, enc_hidden = self.encoder(hidden)\n        # _, enc_hidden = self.encoder(hidden, enc_hidden)\n        # Decoder\n        dec_hidden = enc_hidden\n        output = torch.zeros(hidden.shape).to(self.device)\n        for i in reversed(range(hidden.shape[1])):\n            output[:, i, :] = self.output_layer(dec_hidden[0][0, :])\n            if self.training:\n                _, dec_hidden = self.decoder(hidden[:, i].unsqueeze(1).float(), dec_hidden)\n            else:\n                _, dec_hidden = self.decoder(output[:, i].unsqueeze(1), dec_hidden)\n        hidden = hidden.reshape(hidden.size(0), -1)\n        output = output.reshape(output.size(0), -1)\n        project = self.projection_head(hidden)\n        rec_project = self.projection_head(output)\n\n        return project, rec_project \n```\n\n## 实验结果输出是什么?\n```python\npython  coca.py --device cuda\n=============================================\nDataset: IOpsCompetition\nMethod:  COCA\n=============================================\n  0%|                                                                                                            | 0/29 [00:00<?, ?it/s]0time series,kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 146255\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 149130\nData loaded ...\nTraining started ....\n\nEpoch : 1\nTrain Loss     : 587.1270\t |\nValid Loss     : 115.9886\t  |\nTest Loss     : 110.1476\t  |\n\n\nEpoch : 2\nTrain Loss     : 2.5306\t |\nValid Loss     : 0.9269\t  |\nTest Loss     : 0.9269\t  |\n\n\nEpoch : 3\nTrain Loss     : 0.9320\t |\nValid Loss     : 0.7648\t  |\nTest Loss     : 0.7649\t  |\n\n\nEpoch : 4\nTrain Loss     : 0.7760\t |\nValid Loss     : 0.6570\t  |\nTest Loss     : 0.6571\t  |\n\n\nEpoch : 5\nTrain Loss     : 0.6353\t |\nValid Loss     : 0.4868\t  |\nTest Loss     : 0.4911\t  |\n\n\n################## Training is Done! #########################\n\n\nBest affiliation quantile: 0.267\nBest anomaly quantile: 0.124\nBest affiliation quantile: 0.296\nBest anomaly quantile: 0.145\nValid affiliation-metrics\nTest precision: 0.9883  | \tTest recall: 0.4635\n\nValid RAP F1\nValid F1: 0.2857  | \tValid precision: 0.3077  | \tValid recall: 0.2667\n\nTest affiliation-metrics\nTest precision: 0.9235  | \tTest recall: 0.5715\n\nTest RAP F1\nTest F1: 0.3194  | \tTest precision: 0.2805  | \tTest recall: 0.3710\n\n********************************\nINFO - Saving gif to /root/rumtime//img_1670811334.373728.png\n  3%|███▎                                                                                             | 1/29 [08:27<3:56:40, 507.15s/it]1time series,kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 8784\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 8784\nData loaded ...\nTraining started ....\n\nEpoch : 1\nTrain Loss     : 1527.4913\t |\nValid Loss     : 602.3031\t  |\nTest Loss     : 625.7771\t  |\n\n\nEpoch : 2\nTrain Loss     : 196.4226\t |\nValid Loss     : 2.7703\t  |\nTest Loss     : 2.7703\t  |\n\n\nEpoch : 3\nTrain Loss     : 2.8363\t |\nValid Loss     : 2.7490\t  |\nTest Loss     : 2.7490\t  |\n\n\nEpoch : 4\nTrain Loss     : 2.8169\t |\nValid Loss     : 2.7477\t  |\nTest Loss     : 2.7476\t  |\n\n\nEpoch : 5\nTrain Loss     : 2.8162\t |\nValid Loss     : 2.7078\t  |\nTest Loss     : 2.7078\t  |\n\n\n################## Training is Done! #########################\nBest affiliation quantile: 0.115\nBest anomaly quantile: 0.001 \n```\n\n## 跑完一个 COCA, 看看结果?\n\n论文结果: 66.78±2.91  \n我跑出来的结果: 65.30\n\n```python\naffiliation metrics:\n Precision: 0.92778\n Recall:    0.50379\n f1:        0.65300\nRevised-point-adjusted metrics:\n F1 score:  0.24675\n Precision: 0.20459\n Recall:    0.31079\nPoint-adjusted metrics:\n F1 score:  0.51525\n Precision: 0.85390\n Recall:    0.36893\nNAB Scores:\n NAB Score (balanced):       0.29219\n NAB Score (high precision): 0.28211\n NAB Score (high recall):    0.29839\nseed: 2 \nconfig setup:\n\ndataset:IOpsCompetition\ninput_channels:1\nkernel_size:4\nstride:1\nfinal_out_channels:32\nhidden_size:64\nnum_layers:3\nproject_channels:20\ndropout:0.45\nfeatures_len:6\nwindow_size:16\ntime_step:2\nnum_epoch:5\nfreeze_length_epoch:2\nchange_center_epoch:1\ncenter_eps:0.1\nomega1:1\nomega2:0.1\nbeta1:0.9\nbeta2:0.99\nlr:0.0001\ndrop_last:False\nbatch_size:512\nnu:0.001\ndetect_nu:0.0015\nthreshold_determine:floating\nobjective:soft-boundary\nloss_type:distance\naugmentation:<conf.coca.IOpsCompetition_Configs.augmentations object at 0x7f2afb3fa370>\nscale_ratio:1.1\njitter_ratio:0.1\nTraining time is : 3:09:46.206420 \n```\n\n## Time Step Ts 用来干嘛?\n\ntime step is the step while sliding, 实际是什么意思?\n\n## COCA 的超参数有哪些?\n- **repre channels**: the dimension of the ﬁnal representations Z\n- **hidden size** is the dimension of the Seq2Seq in the model\n- **project channels** is the dimension of the projector\n- **window size** is the size of time window.\n- **time step** is the step while sliding.  \n![static/attachment/Pasted image 20221212161412.png](/images/477f24a0d47507502f0dfc97355a94d92f735509.png)\n\n## 常见的性能评估指标?\n- NAB Score\n- Point-Adjusted (PA)\n- Revised Point-Adjusted (RPA)\n\n## Center 是什么?\n\n是一个 vector, (dim=20)  \n![static/attachment/Pasted image 20221212230925.png](/images/6ada637a949cf249034ab68f78aed795e61af20b.png)\n\n## model_train 的参数是些什么?\n\n`def model_train(model, model_optimizer, train_loader, center, length, config, device, epoch):`  \n![static/attachment/Pasted image 20221212231047.png](/images/f5ebef5abe60bb2772d33dee08181a8149cb9fde.png)\n\n## train_loader 中是些什么?\n- aug1 我猜是 jittering (noise addition)\n- aug2 我猜是 scaling (pattern-wise magnitude change)  \n![static/attachment/Pasted image 20221212231235.png](/images/c4b0621e622948b0f276c177681fc93042e22fba.png)\n\n## Score 如何计算?\n```python\nscore = distance1 + distance_dec1 \n```\n\n## Distance 如何计算?包含哪些?\n\ndistance1 是 cosine_similarity  \n\n- `feature1.shape=torch.Size([1536, 20])`\n- `distance_dec1=center.shape=torch.Size([1, 20])`\n\n```python\ndistance1 = F.cosine_similarity(feature1, center, eps=1e-6) \ndistance_dec1 = F.cosine_similarity(feature_dec1, center, eps=1e-6)\n```\n\n## What are distance1 and distance_dec1?\n- distance1: feature1 与 center 的 cosine_similarity\n- distance2: feature_dec1 与 center 的 cosine_similarity\n\n## feature_dec1 与 feature1 是什么?\n```python\n# project: the project of hidden(representation) Z\n# rec_project: the project of the output (reconstruction representation)\nreturn project, rec_project\n\n\n\nfeature1, feature_dec1= project, rec_project\n```\n\nproject(feature1) and rec_project(feature_dec1)\n\n![static/attachment/Pasted image 20221213114728.png](/images/00bf6b1d3993dfd678ac116ba75b5363f8901c01.png)\n\n## score 是什么?\n\nscore 是 distance1 and distance_dec1 的距离之和?\n\n```python\nscore = distance1 + distance_dec1\n```\n\ndistance1 是 projector(representation $Z$) 与 center 的 cosine_similarity\n\ndistance_dec1 是 projector(reconstruction representation $z'$) 的 cosine_similarity\n\nprojector 是:\n\n```python\nself.project = nn.Linear(self.final_out_channels * self.features_len, self.project_channels, bias=False)\nself.projection_head = nn.Sequential(\n  nn.Linear(self.final_out_channels * self.features_len, self.final_out_channels * self.features_len // 2),\n  nn.BatchNorm1d(self.final_out_channels * self.features_len // 2),\n  nn.ReLU(inplace=True),\n  nn.Linear(self.final_out_channels * self.features_len // 2, self.project_channels),\n) \n```\n\n## Threshold 如何定?\n\n按异常率指定:\n\n```python\nthreshold = np.percentile(scores, 100-detect_nu) \n```\n\n**detect_mu** is a set in nu_list, $\\operatorname{nu\\_list} \\in [0.001, 0.3]$ :![static/attachment/Pasted image 20221213121235.png](/images/87719b28415cdcff43416487c2813d47375a6961.png)\n\n## 单个 KPI 的 Affiliation Metrix 如何计算\n- 固定异常率为 `self.detect_nu = 0.0005`\n\n计算 `mu`:\n\n![static/attachment/Pasted image 20221213120925.png](/images/1a334b7c374f4d28bfb35f39ed5a141b5711586f.png)\n\n## Affiliation-metrics 是最优 F1 吗? 类似于 AUC 的那种\n","slug":"COCA源码分析","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io10015iwv92cw25s12","content":"<h2 id=\"总结\">总结</h2>\n<ul>\n<li>COCA 并没有填充缺失数据</li>\n<li>归一化和标注化的均值和方差是 <code>训练集与测试集=总数据</code> 的均值 (scale) 和方差 (bias)</li>\n<li><img src=\"/images/9e087da6ca09691ea8edb510553356c47bbf69dc.excalidraw\" alt=\"Excalidraw/COCA源码分析 2022-12-13 09.26.38.excalidraw\"></li>\n</ul>\n<h2 id=\"安装\">安装</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make install </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/salesforce/Merlion.git</span><br><span class=\"line\">cd Merlion</span><br><span class=\"line\">pip install salesforce-merlion==<span class=\"number\">1.1</span><span class=\"number\">.1</span></span><br><span class=\"line\">pip install -e ts_datasets/</span><br><span class=\"line\">pip install -r requirements.txt </span><br></pre></td></tr></table></figure>\n<h2 id=\"Dataset-的表示是什么样\">Dataset 的表示是什么样?</h2>\n<p>Dataset 是多个 KPI 的表示.</p>\n<p>all dataset:<br>\n<img src=\"/images/0399299fb68cd20b1dbbf9bfc411a229dca7c1f6.png\" alt=\"static/attachment/Pasted image 20221211204935.png\"><br>\n<img src=\"/images/ecb7c0fed195365ef31c17fb5f0cf2deb9423e79.png\" alt=\"static/attachment/Pasted image 20221211205148.png\"></p>\n<h2 id=\"time-series-meta-data-dt-idx-是什么\"><code>time_series, meta_data = dt[idx]</code> 是什么</h2>\n<p>time_series 包含 <code>DateTime</code> 和 <code>value</code><br>\nmeta_data 包含 <code>anomaly</code>(是否是一次) 与 <code>trainval</code>(是否是训练集)<br>\n<img src=\"/images/ab245dbb3a70ff7671109b47f39a1375aa896e67.png\" alt=\"static/attachment/Pasted image 20221212080901.png\"><br>\n<img src=\"/images/8a55323c68ecb1797e67f3018b72feb6780e3def.png\" alt=\"static/attachment/Pasted image 20221212080845.png\"></p>\n<h2 id=\"如何获取训练集和测试集\">如何获取训练集和测试集</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">train_data = TimeSeries.from_pd(time_series[meta_data.trainval])</span><br><span class=\"line\">test_data = TimeSeries.from_pd(time_series[~meta_data.trainval])</span><br><span class=\"line\">train_labels = TimeSeries.from_pd(meta_data.anomaly[meta_data.trainval])</span><br><span class=\"line\">test_labels = TimeSeries.from_pd(meta_data.anomaly[~meta_data.trainval]) </span><br></pre></td></tr></table></figure>\n<h3 id=\"meta-data-trainval-存储是否是训练集\"><code>meta_data.trainval</code> 存储是否是训练集</h3>\n<p><img src=\"/images/db90a8315faa1528cf9847b300e3d9d4b25c54de.png\" alt=\"static/attachment/Pasted image 20221212081230.png\"></p>\n<h3 id=\"meta-data-trainval-取反\"><code>~meta_data.trainval</code> 取反</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~np.ndarray 表示取反:</span><br><span class=\"line\">数组中的 true 变 <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"literal\">False</span> 变 <span class=\"literal\">True</span> </span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/bfccfee6cba1e46a6031d9c7c2b70da97c13423c.png\" alt=\"static/attachment/Pasted image 20221212081325.png\"></p>\n<h2 id=\"COCA-是一次使用全部的数据训练模型吗\">COCA 是一次使用全部的数据训练模型吗?</h2>\n<p>不是, 是一个一个的训练<br>\n<img src=\"/images/e03e984c489d88c178be758aee9b839174c1ba5b.png\" alt=\"static/attachment/Pasted image 20221212081932.png\"></p>\n<h2 id=\"COCA-是如何处理缺失数据点的\">COCA 是如何处理缺失数据点的?</h2>\n<p><a href=''>COCA</a> 原始论文统计</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa  </span><br><span class=\"line\">训练集总数量: <span class=\"number\">146255</span>  </span><br><span class=\"line\">测试集总数量: <span class=\"number\">149130</span>  </span><br><span class=\"line\">总量: <span class=\"number\">295385</span> (未加缺失数据 <span class=\"number\">3668</span>(<span class=\"number\">295385</span>+<span class=\"number\">3668</span>=<span class=\"number\">299053</span>(加上缺失数据点后,与我的统计结果一致)))  </span><br></pre></td></tr></table></figure>\n<p>标注化后的数据统计:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test_time_series=(<span class=\"number\">149130</span>, <span class=\"number\">1</span>) </span><br></pre></td></tr></table></figure>\n<p>我的统计结果:</p>\n<table>\n<thead>\n<tr>\n<th>kpi_id</th>\n<th>#count_all</th>\n<th>#train_datapoints</th>\n<th>#test_datapoints</th>\n<th>#missing_all</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>05f10d3a-239c-3bef-9bdc-a2feeb0037aa</td>\n<td>299053</td>\n<td>149526</td>\n<td>149527</td>\n<td>3668</td>\n</tr>\n</tbody>\n</table>\n<p>数据处理流程分析: <code>data_generator4</code></p>\n<p>test_time_series_ts<br>\n<img src=\"/images/f6df3690fe8dcff8aaa65aaebfe30a859049fafb.png\" alt=\"static/attachment/Pasted image 20221212084211.png\"><br>\ntrain_time_series<br>\n<img src=\"/images/e68f82882020d7d891a80e98459c280c481572a9.png\" alt=\"static/attachment/Pasted image 20221212090126.png\"><br>\ntrain_time_series 转换为窗口后的数据 <code>configs.window_size=16, configs.time_step=2</code><br>\n<img src=\"/images/e4c4ab79e883880c71761e195ce99f95079141a6.png\" alt=\"static/attachment/Pasted image 20221212090200.png\"></p>\n<h3 id=\"如何标准化\">如何标准化?</h3>\n<p>求 <strong>训练集 + 测试集</strong> 所有的数据均值和方差, 然后标准化 (均值 scale, 方差 bias)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn = MeanVarNormalize()</span><br><span class=\"line\">mvn.train(train_time_series_ts + test_time_series_ts)</span><br><span class=\"line\">bias, scale = mvn.bias, mvn.scale </span><br></pre></td></tr></table></figure>\n<h3 id=\"train-time-series-是什么\">train_time_series 是什么?</h3>\n<p>被标准后的训练数据.</p>\n<p><img src=\"/images/d959af017055f0c9d66531ee5e22e402b329b6c0.png\" alt=\"static/attachment/Pasted image 20221212084458.png\"></p>\n<h2 id=\"COCA-的模型如何表示\">COCA 的模型如何表示?</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> torch <span class=\"keyword\">import</span> nn</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">base_Model</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, configs, device</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(base_Model, self).__init__()</span><br><span class=\"line\">        self.input_channels = configs.input_channels</span><br><span class=\"line\">        self.final_out_channels = configs.final_out_channels</span><br><span class=\"line\">        self.features_len = configs.features_len</span><br><span class=\"line\">        self.project_channels = configs.project_channels</span><br><span class=\"line\">        self.hidden_size = configs.hidden_size</span><br><span class=\"line\">        self.window_size = configs.window_size</span><br><span class=\"line\">        self.device = device</span><br><span class=\"line\">        self.num_layers = configs.num_layers</span><br><span class=\"line\">        self.kernel_size = configs.kernel_size</span><br><span class=\"line\">        self.stride = configs.stride</span><br><span class=\"line\">        self.dropout = configs.dropout</span><br><span class=\"line\"></span><br><span class=\"line\">        self.conv_block1 = nn.Sequential(</span><br><span class=\"line\">            nn.Conv1d(self.input_channels, <span class=\"number\">32</span>, kernel_size=self.kernel_size,</span><br><span class=\"line\">                      stride=self.stride, bias=<span class=\"literal\">False</span>, padding=(self.kernel_size//<span class=\"number\">2</span>)),</span><br><span class=\"line\">            nn.BatchNorm1d(<span class=\"number\">32</span>),</span><br><span class=\"line\">            nn.ReLU(),</span><br><span class=\"line\">            nn.MaxPool1d(kernel_size=<span class=\"number\">2</span>, stride=<span class=\"number\">2</span>, padding=<span class=\"number\">1</span>),</span><br><span class=\"line\">            nn.Dropout(self.dropout)</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        self.conv_block2 = nn.Sequential(</span><br><span class=\"line\">            nn.Conv1d(<span class=\"number\">32</span>, self.final_out_channels, kernel_size=<span class=\"number\">8</span>, stride=<span class=\"number\">1</span>, bias=<span class=\"literal\">False</span>, padding=<span class=\"number\">4</span>),</span><br><span class=\"line\">            nn.BatchNorm1d(self.final_out_channels),</span><br><span class=\"line\">            nn.ReLU(),</span><br><span class=\"line\">            nn.MaxPool1d(kernel_size=<span class=\"number\">2</span>, stride=<span class=\"number\">2</span>, padding=<span class=\"number\">1</span>)</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        self.conv_block3 = nn.Sequential(</span><br><span class=\"line\">            nn.Conv1d(<span class=\"number\">64</span>, self.final_out_channels, kernel_size=<span class=\"number\">8</span>, stride=<span class=\"number\">1</span>, bias=<span class=\"literal\">False</span>, padding=<span class=\"number\">4</span>),</span><br><span class=\"line\">            nn.BatchNorm1d(self.final_out_channels),</span><br><span class=\"line\">            nn.ReLU(),</span><br><span class=\"line\">            nn.MaxPool1d(kernel_size=<span class=\"number\">2</span>, stride=<span class=\"number\">2</span>, padding=<span class=\"number\">1</span>),</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        self.encoder = nn.LSTM(</span><br><span class=\"line\">            self.final_out_channels,</span><br><span class=\"line\">            self.hidden_size,</span><br><span class=\"line\">            batch_first=<span class=\"literal\">True</span>,</span><br><span class=\"line\">            num_layers=self.num_layers,</span><br><span class=\"line\">            bias=<span class=\"literal\">False</span>,</span><br><span class=\"line\">            dropout=self.dropout,</span><br><span class=\"line\">        )</span><br><span class=\"line\">        self.decoder = nn.LSTM(</span><br><span class=\"line\">            self.final_out_channels,</span><br><span class=\"line\">            self.hidden_size,</span><br><span class=\"line\">            batch_first=<span class=\"literal\">True</span>,</span><br><span class=\"line\">            num_layers=self.num_layers,</span><br><span class=\"line\">            bias=<span class=\"literal\">False</span>,</span><br><span class=\"line\">            dropout=self.dropout,</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        self.output_layer = nn.Linear(self.hidden_size, self.final_out_channels)</span><br><span class=\"line\">        self.project = nn.Linear(self.final_out_channels * self.features_len, self.project_channels, bias=<span class=\"literal\">False</span>)</span><br><span class=\"line\">        self.projection_head = nn.Sequential(</span><br><span class=\"line\">            nn.Linear(self.final_out_channels * self.features_len, self.final_out_channels * self.features_len // <span class=\"number\">2</span>),</span><br><span class=\"line\">            nn.BatchNorm1d(self.final_out_channels * self.features_len // <span class=\"number\">2</span>),</span><br><span class=\"line\">            nn.ReLU(inplace=<span class=\"literal\">True</span>),</span><br><span class=\"line\">            nn.Linear(self.final_out_channels * self.features_len // <span class=\"number\">2</span>, self.project_channels),</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">init_hidden_state</span>(<span class=\"params\">self, batch_size</span>):</span><br><span class=\"line\">        h = torch.zeros((self.num_layers, batch_size, self.hidden_size)).to(self.device)</span><br><span class=\"line\">        c = torch.zeros((self.num_layers, batch_size, self.hidden_size)).to(self.device)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> h, c</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, x_in</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> torch.isnan(x_in).<span class=\"built_in\">any</span>():</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;tensor contain nan&#x27;</span>)</span><br><span class=\"line\">        <span class=\"comment\"># 1D CNN feature extraction</span></span><br><span class=\"line\">        x = self.conv_block1(x_in)</span><br><span class=\"line\">        x = self.conv_block2(x)</span><br><span class=\"line\">        <span class=\"comment\"># Encoder</span></span><br><span class=\"line\">        hidden = x.permute(<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"comment\"># enc_hidden = self.init_hidden_state(hidden.shape[0])</span></span><br><span class=\"line\">        _, enc_hidden = self.encoder(hidden)</span><br><span class=\"line\">        <span class=\"comment\"># _, enc_hidden = self.encoder(hidden, enc_hidden)</span></span><br><span class=\"line\">        <span class=\"comment\"># Decoder</span></span><br><span class=\"line\">        dec_hidden = enc_hidden</span><br><span class=\"line\">        output = torch.zeros(hidden.shape).to(self.device)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">reversed</span>(<span class=\"built_in\">range</span>(hidden.shape[<span class=\"number\">1</span>])):</span><br><span class=\"line\">            output[:, i, :] = self.output_layer(dec_hidden[<span class=\"number\">0</span>][<span class=\"number\">0</span>, :])</span><br><span class=\"line\">            <span class=\"keyword\">if</span> self.training:</span><br><span class=\"line\">                _, dec_hidden = self.decoder(hidden[:, i].unsqueeze(<span class=\"number\">1</span>).<span class=\"built_in\">float</span>(), dec_hidden)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                _, dec_hidden = self.decoder(output[:, i].unsqueeze(<span class=\"number\">1</span>), dec_hidden)</span><br><span class=\"line\">        hidden = hidden.reshape(hidden.size(<span class=\"number\">0</span>), -<span class=\"number\">1</span>)</span><br><span class=\"line\">        output = output.reshape(output.size(<span class=\"number\">0</span>), -<span class=\"number\">1</span>)</span><br><span class=\"line\">        project = self.projection_head(hidden)</span><br><span class=\"line\">        rec_project = self.projection_head(output)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> project, rec_project </span><br></pre></td></tr></table></figure>\n<h2 id=\"实验结果输出是什么\">实验结果输出是什么?</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python  coca.py --device cuda</span><br><span class=\"line\">=============================================</span><br><span class=\"line\">Dataset: IOpsCompetition</span><br><span class=\"line\">Method:  COCA</span><br><span class=\"line\">=============================================</span><br><span class=\"line\">  <span class=\"number\">0</span>%|                                                                                                            | <span class=\"number\">0</span>/<span class=\"number\">29</span> [<span class=\"number\">00</span>:<span class=\"number\">00</span>&lt;?, ?it/s]0time series,kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa</span><br><span class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class=\"number\">146255</span></span><br><span class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class=\"number\">149130</span></span><br><span class=\"line\">Data loaded ...</span><br><span class=\"line\">Training started ....</span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">1</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">587.1270</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">115.9886</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">110.1476</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">2</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">2.5306</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">0.9269</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">0.9269</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">3</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">0.9320</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">0.7648</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">0.7649</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">4</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">0.7760</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">0.6570</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">0.6571</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">5</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">0.6353</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">0.4868</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">0.4911</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">################## Training is Done! #########################</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Best affiliation quantile: <span class=\"number\">0.267</span></span><br><span class=\"line\">Best anomaly quantile: <span class=\"number\">0.124</span></span><br><span class=\"line\">Best affiliation quantile: <span class=\"number\">0.296</span></span><br><span class=\"line\">Best anomaly quantile: <span class=\"number\">0.145</span></span><br><span class=\"line\">Valid affiliation-metrics</span><br><span class=\"line\">Test precision: <span class=\"number\">0.9883</span>  | \tTest recall: <span class=\"number\">0.4635</span></span><br><span class=\"line\"></span><br><span class=\"line\">Valid RAP F1</span><br><span class=\"line\">Valid F1: <span class=\"number\">0.2857</span>  | \tValid precision: <span class=\"number\">0.3077</span>  | \tValid recall: <span class=\"number\">0.2667</span></span><br><span class=\"line\"></span><br><span class=\"line\">Test affiliation-metrics</span><br><span class=\"line\">Test precision: <span class=\"number\">0.9235</span>  | \tTest recall: <span class=\"number\">0.5715</span></span><br><span class=\"line\"></span><br><span class=\"line\">Test RAP F1</span><br><span class=\"line\">Test F1: <span class=\"number\">0.3194</span>  | \tTest precision: <span class=\"number\">0.2805</span>  | \tTest recall: <span class=\"number\">0.3710</span></span><br><span class=\"line\"></span><br><span class=\"line\">********************************</span><br><span class=\"line\">INFO - Saving gif to /root/rumtime//img_1670811334<span class=\"number\">.373728</span>.png</span><br><span class=\"line\">  <span class=\"number\">3</span>%|███▎                                                                                             | <span class=\"number\">1</span>/<span class=\"number\">29</span> [08:<span class=\"number\">27</span>&lt;<span class=\"number\">3</span>:<span class=\"number\">56</span>:<span class=\"number\">40</span>, <span class=\"number\">507.15</span>s/it]1time series,kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa</span><br><span class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class=\"number\">8784</span></span><br><span class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class=\"number\">8784</span></span><br><span class=\"line\">Data loaded ...</span><br><span class=\"line\">Training started ....</span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">1</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">1527.4913</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">602.3031</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">625.7771</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">2</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">196.4226</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">2.7703</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">2.7703</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">3</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">2.8363</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">2.7490</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">2.7490</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">4</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">2.8169</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">2.7477</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">2.7476</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">5</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">2.8162</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">2.7078</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">2.7078</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">################## Training is Done! #########################</span></span><br><span class=\"line\">Best affiliation quantile: <span class=\"number\">0.115</span></span><br><span class=\"line\">Best anomaly quantile: <span class=\"number\">0.001</span> </span><br></pre></td></tr></table></figure>\n<h2 id=\"跑完一个-COCA-看看结果\">跑完一个 COCA, 看看结果?</h2>\n<p>论文结果: 66.78±2.91<br>\n我跑出来的结果: 65.30</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">affiliation metrics:</span><br><span class=\"line\"> Precision: <span class=\"number\">0.92778</span></span><br><span class=\"line\"> Recall:    <span class=\"number\">0.50379</span></span><br><span class=\"line\"> f1:        <span class=\"number\">0.65300</span></span><br><span class=\"line\">Revised-point-adjusted metrics:</span><br><span class=\"line\"> F1 score:  <span class=\"number\">0.24675</span></span><br><span class=\"line\"> Precision: <span class=\"number\">0.20459</span></span><br><span class=\"line\"> Recall:    <span class=\"number\">0.31079</span></span><br><span class=\"line\">Point-adjusted metrics:</span><br><span class=\"line\"> F1 score:  <span class=\"number\">0.51525</span></span><br><span class=\"line\"> Precision: <span class=\"number\">0.85390</span></span><br><span class=\"line\"> Recall:    <span class=\"number\">0.36893</span></span><br><span class=\"line\">NAB Scores:</span><br><span class=\"line\"> NAB Score (balanced):       <span class=\"number\">0.29219</span></span><br><span class=\"line\"> NAB Score (high precision): <span class=\"number\">0.28211</span></span><br><span class=\"line\"> NAB Score (high recall):    <span class=\"number\">0.29839</span></span><br><span class=\"line\">seed: <span class=\"number\">2</span> </span><br><span class=\"line\">config setup:</span><br><span class=\"line\"></span><br><span class=\"line\">dataset:IOpsCompetition</span><br><span class=\"line\">input_channels:<span class=\"number\">1</span></span><br><span class=\"line\">kernel_size:<span class=\"number\">4</span></span><br><span class=\"line\">stride:<span class=\"number\">1</span></span><br><span class=\"line\">final_out_channels:<span class=\"number\">32</span></span><br><span class=\"line\">hidden_size:<span class=\"number\">64</span></span><br><span class=\"line\">num_layers:<span class=\"number\">3</span></span><br><span class=\"line\">project_channels:<span class=\"number\">20</span></span><br><span class=\"line\">dropout:<span class=\"number\">0.45</span></span><br><span class=\"line\">features_len:<span class=\"number\">6</span></span><br><span class=\"line\">window_size:<span class=\"number\">16</span></span><br><span class=\"line\">time_step:<span class=\"number\">2</span></span><br><span class=\"line\">num_epoch:<span class=\"number\">5</span></span><br><span class=\"line\">freeze_length_epoch:<span class=\"number\">2</span></span><br><span class=\"line\">change_center_epoch:<span class=\"number\">1</span></span><br><span class=\"line\">center_eps:<span class=\"number\">0.1</span></span><br><span class=\"line\">omega1:<span class=\"number\">1</span></span><br><span class=\"line\">omega2:<span class=\"number\">0.1</span></span><br><span class=\"line\">beta1:<span class=\"number\">0.9</span></span><br><span class=\"line\">beta2:<span class=\"number\">0.99</span></span><br><span class=\"line\">lr:<span class=\"number\">0.0001</span></span><br><span class=\"line\">drop_last:<span class=\"literal\">False</span></span><br><span class=\"line\">batch_size:<span class=\"number\">512</span></span><br><span class=\"line\">nu:<span class=\"number\">0.001</span></span><br><span class=\"line\">detect_nu:<span class=\"number\">0.0015</span></span><br><span class=\"line\">threshold_determine:floating</span><br><span class=\"line\">objective:soft-boundary</span><br><span class=\"line\">loss_type:distance</span><br><span class=\"line\">augmentation:&lt;conf.coca.IOpsCompetition_Configs.augmentations <span class=\"built_in\">object</span> at <span class=\"number\">0x7f2afb3fa370</span>&gt;</span><br><span class=\"line\">scale_ratio:<span class=\"number\">1.1</span></span><br><span class=\"line\">jitter_ratio:<span class=\"number\">0.1</span></span><br><span class=\"line\">Training time <span class=\"keyword\">is</span> : <span class=\"number\">3</span>:09:<span class=\"number\">46.206420</span> </span><br></pre></td></tr></table></figure>\n<h2 id=\"Time-Step-Ts-用来干嘛\">Time Step Ts 用来干嘛?</h2>\n<p>time step is the step while sliding, 实际是什么意思?</p>\n<h2 id=\"COCA-的超参数有哪些\">COCA 的超参数有哪些?</h2>\n<ul>\n<li><strong>repre channels</strong>: the dimension of the ﬁnal representations Z</li>\n<li><strong>hidden size</strong> is the dimension of the Seq2Seq in the model</li>\n<li><strong>project channels</strong> is the dimension of the projector</li>\n<li><strong>window size</strong> is the size of time window.</li>\n<li><strong>time step</strong> is the step while sliding.<br>\n<img src=\"/images/477f24a0d47507502f0dfc97355a94d92f735509.png\" alt=\"static/attachment/Pasted image 20221212161412.png\"></li>\n</ul>\n<h2 id=\"常见的性能评估指标\">常见的性能评估指标?</h2>\n<ul>\n<li>NAB Score</li>\n<li>Point-Adjusted (PA)</li>\n<li>Revised Point-Adjusted (RPA)</li>\n</ul>\n<h2 id=\"Center-是什么\">Center 是什么?</h2>\n<p>是一个 vector, (dim=20)<br>\n<img src=\"/images/6ada637a949cf249034ab68f78aed795e61af20b.png\" alt=\"static/attachment/Pasted image 20221212230925.png\"></p>\n<h2 id=\"model-train-的参数是些什么\">model_train 的参数是些什么?</h2>\n<p><code>def model_train(model, model_optimizer, train_loader, center, length, config, device, epoch):</code><br>\n<img src=\"/images/f5ebef5abe60bb2772d33dee08181a8149cb9fde.png\" alt=\"static/attachment/Pasted image 20221212231047.png\"></p>\n<h2 id=\"train-loader-中是些什么\">train_loader 中是些什么?</h2>\n<ul>\n<li>aug1 我猜是 jittering (noise addition)</li>\n<li>aug2 我猜是 scaling (pattern-wise magnitude change)<br>\n<img src=\"/images/c4b0621e622948b0f276c177681fc93042e22fba.png\" alt=\"static/attachment/Pasted image 20221212231235.png\"></li>\n</ul>\n<h2 id=\"Score-如何计算\">Score 如何计算?</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">score = distance1 + distance_dec1 </span><br></pre></td></tr></table></figure>\n<h2 id=\"Distance-如何计算-包含哪些\">Distance 如何计算?包含哪些?</h2>\n<p>distance1 是 cosine_similarity</p>\n<ul>\n<li><code>feature1.shape=torch.Size([1536, 20])</code></li>\n<li><code>distance_dec1=center.shape=torch.Size([1, 20])</code></li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">distance1 = F.cosine_similarity(feature1, center, eps=<span class=\"number\">1e-6</span>) </span><br><span class=\"line\">distance_dec1 = F.cosine_similarity(feature_dec1, center, eps=<span class=\"number\">1e-6</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"What-are-distance1-and-distance-dec1\">What are distance1 and distance_dec1?</h2>\n<ul>\n<li>distance1: feature1 与 center 的 cosine_similarity</li>\n<li>distance2: feature_dec1 与 center 的 cosine_similarity</li>\n</ul>\n<h2 id=\"feature-dec1-与-feature1-是什么\">feature_dec1 与 feature1 是什么?</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># project: the project of hidden(representation) Z</span></span><br><span class=\"line\"><span class=\"comment\"># rec_project: the project of the output (reconstruction representation)</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> project, rec_project</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">feature1, feature_dec1= project, rec_project</span><br></pre></td></tr></table></figure>\n<p>project(feature1) and rec_project(feature_dec1)</p>\n<p><img src=\"/images/00bf6b1d3993dfd678ac116ba75b5363f8901c01.png\" alt=\"static/attachment/Pasted image 20221213114728.png\"></p>\n<h2 id=\"score-是什么\">score 是什么?</h2>\n<p>score 是 distance1 and distance_dec1 的距离之和?</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">score = distance1 + distance_dec1</span><br></pre></td></tr></table></figure>\n<p>distance1 是 projector(representation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>) 与 center 的 cosine_similarity</p>\n<p>distance_dec1 是 projector(reconstruction representation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>z</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">z&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span>) 的 cosine_similarity</p>\n<p>projector 是:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">self.project = nn.Linear(self.final_out_channels * self.features_len, self.project_channels, bias=<span class=\"literal\">False</span>)</span><br><span class=\"line\">self.projection_head = nn.Sequential(</span><br><span class=\"line\">  nn.Linear(self.final_out_channels * self.features_len, self.final_out_channels * self.features_len // <span class=\"number\">2</span>),</span><br><span class=\"line\">  nn.BatchNorm1d(self.final_out_channels * self.features_len // <span class=\"number\">2</span>),</span><br><span class=\"line\">  nn.ReLU(inplace=<span class=\"literal\">True</span>),</span><br><span class=\"line\">  nn.Linear(self.final_out_channels * self.features_len // <span class=\"number\">2</span>, self.project_channels),</span><br><span class=\"line\">) </span><br></pre></td></tr></table></figure>\n<h2 id=\"Threshold-如何定\">Threshold 如何定?</h2>\n<p>按异常率指定:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">threshold = np.percentile(scores, <span class=\"number\">100</span>-detect_nu) </span><br></pre></td></tr></table></figure>\n<p><strong>detect_mu</strong> is a set in nu_list, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">nu_list</mi><mo>⁡</mo><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0.001</mn><mo separator=\"true\">,</mo><mn>0.3</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\operatorname{nu\\_list} \\in [0.001, 0.3]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0044em;vertical-align:-0.31em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">nu_list</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0.001</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.3</span><span class=\"mclose\">]</span></span></span></span> :<img src=\"/images/87719b28415cdcff43416487c2813d47375a6961.png\" alt=\"static/attachment/Pasted image 20221213121235.png\"></p>\n<h2 id=\"单个-KPI-的-Affiliation-Metrix-如何计算\">单个 KPI 的 Affiliation Metrix 如何计算</h2>\n<ul>\n<li>固定异常率为 <code>self.detect_nu = 0.0005</code></li>\n</ul>\n<p>计算 <code>mu</code>:</p>\n<p><img src=\"/images/1a334b7c374f4d28bfb35f39ed5a141b5711586f.png\" alt=\"static/attachment/Pasted image 20221213120925.png\"></p>\n<h2 id=\"Affiliation-metrics-是最优-F1-吗-类似于-AUC-的那种\">Affiliation-metrics 是最优 F1 吗? 类似于 AUC 的那种</h2>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover6.JPG","excerpt":"","more":"<h2 id=\"总结\">总结</h2>\n<ul>\n<li>COCA 并没有填充缺失数据</li>\n<li>归一化和标注化的均值和方差是 <code>训练集与测试集=总数据</code> 的均值 (scale) 和方差 (bias)</li>\n<li><img src=\"/images/9e087da6ca09691ea8edb510553356c47bbf69dc.excalidraw\" alt=\"Excalidraw/COCA源码分析 2022-12-13 09.26.38.excalidraw\"></li>\n</ul>\n<h2 id=\"安装\">安装</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make install </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/salesforce/Merlion.git</span><br><span class=\"line\">cd Merlion</span><br><span class=\"line\">pip install salesforce-merlion==<span class=\"number\">1.1</span><span class=\"number\">.1</span></span><br><span class=\"line\">pip install -e ts_datasets/</span><br><span class=\"line\">pip install -r requirements.txt </span><br></pre></td></tr></table></figure>\n<h2 id=\"Dataset-的表示是什么样\">Dataset 的表示是什么样?</h2>\n<p>Dataset 是多个 KPI 的表示.</p>\n<p>all dataset:<br>\n<img src=\"/images/0399299fb68cd20b1dbbf9bfc411a229dca7c1f6.png\" alt=\"static/attachment/Pasted image 20221211204935.png\"><br>\n<img src=\"/images/ecb7c0fed195365ef31c17fb5f0cf2deb9423e79.png\" alt=\"static/attachment/Pasted image 20221211205148.png\"></p>\n<h2 id=\"time-series-meta-data-dt-idx-是什么\"><code>time_series, meta_data = dt[idx]</code> 是什么</h2>\n<p>time_series 包含 <code>DateTime</code> 和 <code>value</code><br>\nmeta_data 包含 <code>anomaly</code>(是否是一次) 与 <code>trainval</code>(是否是训练集)<br>\n<img src=\"/images/ab245dbb3a70ff7671109b47f39a1375aa896e67.png\" alt=\"static/attachment/Pasted image 20221212080901.png\"><br>\n<img src=\"/images/8a55323c68ecb1797e67f3018b72feb6780e3def.png\" alt=\"static/attachment/Pasted image 20221212080845.png\"></p>\n<h2 id=\"如何获取训练集和测试集\">如何获取训练集和测试集</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">train_data = TimeSeries.from_pd(time_series[meta_data.trainval])</span><br><span class=\"line\">test_data = TimeSeries.from_pd(time_series[~meta_data.trainval])</span><br><span class=\"line\">train_labels = TimeSeries.from_pd(meta_data.anomaly[meta_data.trainval])</span><br><span class=\"line\">test_labels = TimeSeries.from_pd(meta_data.anomaly[~meta_data.trainval]) </span><br></pre></td></tr></table></figure>\n<h3 id=\"meta-data-trainval-存储是否是训练集\"><code>meta_data.trainval</code> 存储是否是训练集</h3>\n<p><img src=\"/images/db90a8315faa1528cf9847b300e3d9d4b25c54de.png\" alt=\"static/attachment/Pasted image 20221212081230.png\"></p>\n<h3 id=\"meta-data-trainval-取反\"><code>~meta_data.trainval</code> 取反</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~np.ndarray 表示取反:</span><br><span class=\"line\">数组中的 true 变 <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"literal\">False</span> 变 <span class=\"literal\">True</span> </span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/bfccfee6cba1e46a6031d9c7c2b70da97c13423c.png\" alt=\"static/attachment/Pasted image 20221212081325.png\"></p>\n<h2 id=\"COCA-是一次使用全部的数据训练模型吗\">COCA 是一次使用全部的数据训练模型吗?</h2>\n<p>不是, 是一个一个的训练<br>\n<img src=\"/images/e03e984c489d88c178be758aee9b839174c1ba5b.png\" alt=\"static/attachment/Pasted image 20221212081932.png\"></p>\n<h2 id=\"COCA-是如何处理缺失数据点的\">COCA 是如何处理缺失数据点的?</h2>\n<p><a href=''>COCA</a> 原始论文统计</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa  </span><br><span class=\"line\">训练集总数量: <span class=\"number\">146255</span>  </span><br><span class=\"line\">测试集总数量: <span class=\"number\">149130</span>  </span><br><span class=\"line\">总量: <span class=\"number\">295385</span> (未加缺失数据 <span class=\"number\">3668</span>(<span class=\"number\">295385</span>+<span class=\"number\">3668</span>=<span class=\"number\">299053</span>(加上缺失数据点后,与我的统计结果一致)))  </span><br></pre></td></tr></table></figure>\n<p>标注化后的数据统计:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test_time_series=(<span class=\"number\">149130</span>, <span class=\"number\">1</span>) </span><br></pre></td></tr></table></figure>\n<p>我的统计结果:</p>\n<table>\n<thead>\n<tr>\n<th>kpi_id</th>\n<th>#count_all</th>\n<th>#train_datapoints</th>\n<th>#test_datapoints</th>\n<th>#missing_all</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>05f10d3a-239c-3bef-9bdc-a2feeb0037aa</td>\n<td>299053</td>\n<td>149526</td>\n<td>149527</td>\n<td>3668</td>\n</tr>\n</tbody>\n</table>\n<p>数据处理流程分析: <code>data_generator4</code></p>\n<p>test_time_series_ts<br>\n<img src=\"/images/f6df3690fe8dcff8aaa65aaebfe30a859049fafb.png\" alt=\"static/attachment/Pasted image 20221212084211.png\"><br>\ntrain_time_series<br>\n<img src=\"/images/e68f82882020d7d891a80e98459c280c481572a9.png\" alt=\"static/attachment/Pasted image 20221212090126.png\"><br>\ntrain_time_series 转换为窗口后的数据 <code>configs.window_size=16, configs.time_step=2</code><br>\n<img src=\"/images/e4c4ab79e883880c71761e195ce99f95079141a6.png\" alt=\"static/attachment/Pasted image 20221212090200.png\"></p>\n<h3 id=\"如何标准化\">如何标准化?</h3>\n<p>求 <strong>训练集 + 测试集</strong> 所有的数据均值和方差, 然后标准化 (均值 scale, 方差 bias)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn = MeanVarNormalize()</span><br><span class=\"line\">mvn.train(train_time_series_ts + test_time_series_ts)</span><br><span class=\"line\">bias, scale = mvn.bias, mvn.scale </span><br></pre></td></tr></table></figure>\n<h3 id=\"train-time-series-是什么\">train_time_series 是什么?</h3>\n<p>被标准后的训练数据.</p>\n<p><img src=\"/images/d959af017055f0c9d66531ee5e22e402b329b6c0.png\" alt=\"static/attachment/Pasted image 20221212084458.png\"></p>\n<h2 id=\"COCA-的模型如何表示\">COCA 的模型如何表示?</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> torch <span class=\"keyword\">import</span> nn</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">base_Model</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, configs, device</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(base_Model, self).__init__()</span><br><span class=\"line\">        self.input_channels = configs.input_channels</span><br><span class=\"line\">        self.final_out_channels = configs.final_out_channels</span><br><span class=\"line\">        self.features_len = configs.features_len</span><br><span class=\"line\">        self.project_channels = configs.project_channels</span><br><span class=\"line\">        self.hidden_size = configs.hidden_size</span><br><span class=\"line\">        self.window_size = configs.window_size</span><br><span class=\"line\">        self.device = device</span><br><span class=\"line\">        self.num_layers = configs.num_layers</span><br><span class=\"line\">        self.kernel_size = configs.kernel_size</span><br><span class=\"line\">        self.stride = configs.stride</span><br><span class=\"line\">        self.dropout = configs.dropout</span><br><span class=\"line\"></span><br><span class=\"line\">        self.conv_block1 = nn.Sequential(</span><br><span class=\"line\">            nn.Conv1d(self.input_channels, <span class=\"number\">32</span>, kernel_size=self.kernel_size,</span><br><span class=\"line\">                      stride=self.stride, bias=<span class=\"literal\">False</span>, padding=(self.kernel_size//<span class=\"number\">2</span>)),</span><br><span class=\"line\">            nn.BatchNorm1d(<span class=\"number\">32</span>),</span><br><span class=\"line\">            nn.ReLU(),</span><br><span class=\"line\">            nn.MaxPool1d(kernel_size=<span class=\"number\">2</span>, stride=<span class=\"number\">2</span>, padding=<span class=\"number\">1</span>),</span><br><span class=\"line\">            nn.Dropout(self.dropout)</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        self.conv_block2 = nn.Sequential(</span><br><span class=\"line\">            nn.Conv1d(<span class=\"number\">32</span>, self.final_out_channels, kernel_size=<span class=\"number\">8</span>, stride=<span class=\"number\">1</span>, bias=<span class=\"literal\">False</span>, padding=<span class=\"number\">4</span>),</span><br><span class=\"line\">            nn.BatchNorm1d(self.final_out_channels),</span><br><span class=\"line\">            nn.ReLU(),</span><br><span class=\"line\">            nn.MaxPool1d(kernel_size=<span class=\"number\">2</span>, stride=<span class=\"number\">2</span>, padding=<span class=\"number\">1</span>)</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        self.conv_block3 = nn.Sequential(</span><br><span class=\"line\">            nn.Conv1d(<span class=\"number\">64</span>, self.final_out_channels, kernel_size=<span class=\"number\">8</span>, stride=<span class=\"number\">1</span>, bias=<span class=\"literal\">False</span>, padding=<span class=\"number\">4</span>),</span><br><span class=\"line\">            nn.BatchNorm1d(self.final_out_channels),</span><br><span class=\"line\">            nn.ReLU(),</span><br><span class=\"line\">            nn.MaxPool1d(kernel_size=<span class=\"number\">2</span>, stride=<span class=\"number\">2</span>, padding=<span class=\"number\">1</span>),</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        self.encoder = nn.LSTM(</span><br><span class=\"line\">            self.final_out_channels,</span><br><span class=\"line\">            self.hidden_size,</span><br><span class=\"line\">            batch_first=<span class=\"literal\">True</span>,</span><br><span class=\"line\">            num_layers=self.num_layers,</span><br><span class=\"line\">            bias=<span class=\"literal\">False</span>,</span><br><span class=\"line\">            dropout=self.dropout,</span><br><span class=\"line\">        )</span><br><span class=\"line\">        self.decoder = nn.LSTM(</span><br><span class=\"line\">            self.final_out_channels,</span><br><span class=\"line\">            self.hidden_size,</span><br><span class=\"line\">            batch_first=<span class=\"literal\">True</span>,</span><br><span class=\"line\">            num_layers=self.num_layers,</span><br><span class=\"line\">            bias=<span class=\"literal\">False</span>,</span><br><span class=\"line\">            dropout=self.dropout,</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        self.output_layer = nn.Linear(self.hidden_size, self.final_out_channels)</span><br><span class=\"line\">        self.project = nn.Linear(self.final_out_channels * self.features_len, self.project_channels, bias=<span class=\"literal\">False</span>)</span><br><span class=\"line\">        self.projection_head = nn.Sequential(</span><br><span class=\"line\">            nn.Linear(self.final_out_channels * self.features_len, self.final_out_channels * self.features_len // <span class=\"number\">2</span>),</span><br><span class=\"line\">            nn.BatchNorm1d(self.final_out_channels * self.features_len // <span class=\"number\">2</span>),</span><br><span class=\"line\">            nn.ReLU(inplace=<span class=\"literal\">True</span>),</span><br><span class=\"line\">            nn.Linear(self.final_out_channels * self.features_len // <span class=\"number\">2</span>, self.project_channels),</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">init_hidden_state</span>(<span class=\"params\">self, batch_size</span>):</span><br><span class=\"line\">        h = torch.zeros((self.num_layers, batch_size, self.hidden_size)).to(self.device)</span><br><span class=\"line\">        c = torch.zeros((self.num_layers, batch_size, self.hidden_size)).to(self.device)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> h, c</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, x_in</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> torch.isnan(x_in).<span class=\"built_in\">any</span>():</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;tensor contain nan&#x27;</span>)</span><br><span class=\"line\">        <span class=\"comment\"># 1D CNN feature extraction</span></span><br><span class=\"line\">        x = self.conv_block1(x_in)</span><br><span class=\"line\">        x = self.conv_block2(x)</span><br><span class=\"line\">        <span class=\"comment\"># Encoder</span></span><br><span class=\"line\">        hidden = x.permute(<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"comment\"># enc_hidden = self.init_hidden_state(hidden.shape[0])</span></span><br><span class=\"line\">        _, enc_hidden = self.encoder(hidden)</span><br><span class=\"line\">        <span class=\"comment\"># _, enc_hidden = self.encoder(hidden, enc_hidden)</span></span><br><span class=\"line\">        <span class=\"comment\"># Decoder</span></span><br><span class=\"line\">        dec_hidden = enc_hidden</span><br><span class=\"line\">        output = torch.zeros(hidden.shape).to(self.device)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">reversed</span>(<span class=\"built_in\">range</span>(hidden.shape[<span class=\"number\">1</span>])):</span><br><span class=\"line\">            output[:, i, :] = self.output_layer(dec_hidden[<span class=\"number\">0</span>][<span class=\"number\">0</span>, :])</span><br><span class=\"line\">            <span class=\"keyword\">if</span> self.training:</span><br><span class=\"line\">                _, dec_hidden = self.decoder(hidden[:, i].unsqueeze(<span class=\"number\">1</span>).<span class=\"built_in\">float</span>(), dec_hidden)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                _, dec_hidden = self.decoder(output[:, i].unsqueeze(<span class=\"number\">1</span>), dec_hidden)</span><br><span class=\"line\">        hidden = hidden.reshape(hidden.size(<span class=\"number\">0</span>), -<span class=\"number\">1</span>)</span><br><span class=\"line\">        output = output.reshape(output.size(<span class=\"number\">0</span>), -<span class=\"number\">1</span>)</span><br><span class=\"line\">        project = self.projection_head(hidden)</span><br><span class=\"line\">        rec_project = self.projection_head(output)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> project, rec_project </span><br></pre></td></tr></table></figure>\n<h2 id=\"实验结果输出是什么\">实验结果输出是什么?</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python  coca.py --device cuda</span><br><span class=\"line\">=============================================</span><br><span class=\"line\">Dataset: IOpsCompetition</span><br><span class=\"line\">Method:  COCA</span><br><span class=\"line\">=============================================</span><br><span class=\"line\">  <span class=\"number\">0</span>%|                                                                                                            | <span class=\"number\">0</span>/<span class=\"number\">29</span> [<span class=\"number\">00</span>:<span class=\"number\">00</span>&lt;?, ?it/s]0time series,kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa</span><br><span class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class=\"number\">146255</span></span><br><span class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class=\"number\">149130</span></span><br><span class=\"line\">Data loaded ...</span><br><span class=\"line\">Training started ....</span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">1</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">587.1270</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">115.9886</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">110.1476</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">2</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">2.5306</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">0.9269</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">0.9269</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">3</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">0.9320</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">0.7648</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">0.7649</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">4</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">0.7760</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">0.6570</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">0.6571</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">5</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">0.6353</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">0.4868</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">0.4911</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">################## Training is Done! #########################</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Best affiliation quantile: <span class=\"number\">0.267</span></span><br><span class=\"line\">Best anomaly quantile: <span class=\"number\">0.124</span></span><br><span class=\"line\">Best affiliation quantile: <span class=\"number\">0.296</span></span><br><span class=\"line\">Best anomaly quantile: <span class=\"number\">0.145</span></span><br><span class=\"line\">Valid affiliation-metrics</span><br><span class=\"line\">Test precision: <span class=\"number\">0.9883</span>  | \tTest recall: <span class=\"number\">0.4635</span></span><br><span class=\"line\"></span><br><span class=\"line\">Valid RAP F1</span><br><span class=\"line\">Valid F1: <span class=\"number\">0.2857</span>  | \tValid precision: <span class=\"number\">0.3077</span>  | \tValid recall: <span class=\"number\">0.2667</span></span><br><span class=\"line\"></span><br><span class=\"line\">Test affiliation-metrics</span><br><span class=\"line\">Test precision: <span class=\"number\">0.9235</span>  | \tTest recall: <span class=\"number\">0.5715</span></span><br><span class=\"line\"></span><br><span class=\"line\">Test RAP F1</span><br><span class=\"line\">Test F1: <span class=\"number\">0.3194</span>  | \tTest precision: <span class=\"number\">0.2805</span>  | \tTest recall: <span class=\"number\">0.3710</span></span><br><span class=\"line\"></span><br><span class=\"line\">********************************</span><br><span class=\"line\">INFO - Saving gif to /root/rumtime//img_1670811334<span class=\"number\">.373728</span>.png</span><br><span class=\"line\">  <span class=\"number\">3</span>%|███▎                                                                                             | <span class=\"number\">1</span>/<span class=\"number\">29</span> [08:<span class=\"number\">27</span>&lt;<span class=\"number\">3</span>:<span class=\"number\">56</span>:<span class=\"number\">40</span>, <span class=\"number\">507.15</span>s/it]1time series,kpi_id=05f10d3a-239c-3bef-9bdc-a2feeb0037aa</span><br><span class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class=\"number\">8784</span></span><br><span class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class=\"number\">8784</span></span><br><span class=\"line\">Data loaded ...</span><br><span class=\"line\">Training started ....</span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">1</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">1527.4913</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">602.3031</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">625.7771</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">2</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">196.4226</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">2.7703</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">2.7703</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">3</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">2.8363</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">2.7490</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">2.7490</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">4</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">2.8169</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">2.7477</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">2.7476</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Epoch : <span class=\"number\">5</span></span><br><span class=\"line\">Train Loss     : <span class=\"number\">2.8162</span>\t |</span><br><span class=\"line\">Valid Loss     : <span class=\"number\">2.7078</span>\t  |</span><br><span class=\"line\">Test Loss     : <span class=\"number\">2.7078</span>\t  |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">################## Training is Done! #########################</span></span><br><span class=\"line\">Best affiliation quantile: <span class=\"number\">0.115</span></span><br><span class=\"line\">Best anomaly quantile: <span class=\"number\">0.001</span> </span><br></pre></td></tr></table></figure>\n<h2 id=\"跑完一个-COCA-看看结果\">跑完一个 COCA, 看看结果?</h2>\n<p>论文结果: 66.78±2.91<br>\n我跑出来的结果: 65.30</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">affiliation metrics:</span><br><span class=\"line\"> Precision: <span class=\"number\">0.92778</span></span><br><span class=\"line\"> Recall:    <span class=\"number\">0.50379</span></span><br><span class=\"line\"> f1:        <span class=\"number\">0.65300</span></span><br><span class=\"line\">Revised-point-adjusted metrics:</span><br><span class=\"line\"> F1 score:  <span class=\"number\">0.24675</span></span><br><span class=\"line\"> Precision: <span class=\"number\">0.20459</span></span><br><span class=\"line\"> Recall:    <span class=\"number\">0.31079</span></span><br><span class=\"line\">Point-adjusted metrics:</span><br><span class=\"line\"> F1 score:  <span class=\"number\">0.51525</span></span><br><span class=\"line\"> Precision: <span class=\"number\">0.85390</span></span><br><span class=\"line\"> Recall:    <span class=\"number\">0.36893</span></span><br><span class=\"line\">NAB Scores:</span><br><span class=\"line\"> NAB Score (balanced):       <span class=\"number\">0.29219</span></span><br><span class=\"line\"> NAB Score (high precision): <span class=\"number\">0.28211</span></span><br><span class=\"line\"> NAB Score (high recall):    <span class=\"number\">0.29839</span></span><br><span class=\"line\">seed: <span class=\"number\">2</span> </span><br><span class=\"line\">config setup:</span><br><span class=\"line\"></span><br><span class=\"line\">dataset:IOpsCompetition</span><br><span class=\"line\">input_channels:<span class=\"number\">1</span></span><br><span class=\"line\">kernel_size:<span class=\"number\">4</span></span><br><span class=\"line\">stride:<span class=\"number\">1</span></span><br><span class=\"line\">final_out_channels:<span class=\"number\">32</span></span><br><span class=\"line\">hidden_size:<span class=\"number\">64</span></span><br><span class=\"line\">num_layers:<span class=\"number\">3</span></span><br><span class=\"line\">project_channels:<span class=\"number\">20</span></span><br><span class=\"line\">dropout:<span class=\"number\">0.45</span></span><br><span class=\"line\">features_len:<span class=\"number\">6</span></span><br><span class=\"line\">window_size:<span class=\"number\">16</span></span><br><span class=\"line\">time_step:<span class=\"number\">2</span></span><br><span class=\"line\">num_epoch:<span class=\"number\">5</span></span><br><span class=\"line\">freeze_length_epoch:<span class=\"number\">2</span></span><br><span class=\"line\">change_center_epoch:<span class=\"number\">1</span></span><br><span class=\"line\">center_eps:<span class=\"number\">0.1</span></span><br><span class=\"line\">omega1:<span class=\"number\">1</span></span><br><span class=\"line\">omega2:<span class=\"number\">0.1</span></span><br><span class=\"line\">beta1:<span class=\"number\">0.9</span></span><br><span class=\"line\">beta2:<span class=\"number\">0.99</span></span><br><span class=\"line\">lr:<span class=\"number\">0.0001</span></span><br><span class=\"line\">drop_last:<span class=\"literal\">False</span></span><br><span class=\"line\">batch_size:<span class=\"number\">512</span></span><br><span class=\"line\">nu:<span class=\"number\">0.001</span></span><br><span class=\"line\">detect_nu:<span class=\"number\">0.0015</span></span><br><span class=\"line\">threshold_determine:floating</span><br><span class=\"line\">objective:soft-boundary</span><br><span class=\"line\">loss_type:distance</span><br><span class=\"line\">augmentation:&lt;conf.coca.IOpsCompetition_Configs.augmentations <span class=\"built_in\">object</span> at <span class=\"number\">0x7f2afb3fa370</span>&gt;</span><br><span class=\"line\">scale_ratio:<span class=\"number\">1.1</span></span><br><span class=\"line\">jitter_ratio:<span class=\"number\">0.1</span></span><br><span class=\"line\">Training time <span class=\"keyword\">is</span> : <span class=\"number\">3</span>:09:<span class=\"number\">46.206420</span> </span><br></pre></td></tr></table></figure>\n<h2 id=\"Time-Step-Ts-用来干嘛\">Time Step Ts 用来干嘛?</h2>\n<p>time step is the step while sliding, 实际是什么意思?</p>\n<h2 id=\"COCA-的超参数有哪些\">COCA 的超参数有哪些?</h2>\n<ul>\n<li><strong>repre channels</strong>: the dimension of the ﬁnal representations Z</li>\n<li><strong>hidden size</strong> is the dimension of the Seq2Seq in the model</li>\n<li><strong>project channels</strong> is the dimension of the projector</li>\n<li><strong>window size</strong> is the size of time window.</li>\n<li><strong>time step</strong> is the step while sliding.<br>\n<img src=\"/images/477f24a0d47507502f0dfc97355a94d92f735509.png\" alt=\"static/attachment/Pasted image 20221212161412.png\"></li>\n</ul>\n<h2 id=\"常见的性能评估指标\">常见的性能评估指标?</h2>\n<ul>\n<li>NAB Score</li>\n<li>Point-Adjusted (PA)</li>\n<li>Revised Point-Adjusted (RPA)</li>\n</ul>\n<h2 id=\"Center-是什么\">Center 是什么?</h2>\n<p>是一个 vector, (dim=20)<br>\n<img src=\"/images/6ada637a949cf249034ab68f78aed795e61af20b.png\" alt=\"static/attachment/Pasted image 20221212230925.png\"></p>\n<h2 id=\"model-train-的参数是些什么\">model_train 的参数是些什么?</h2>\n<p><code>def model_train(model, model_optimizer, train_loader, center, length, config, device, epoch):</code><br>\n<img src=\"/images/f5ebef5abe60bb2772d33dee08181a8149cb9fde.png\" alt=\"static/attachment/Pasted image 20221212231047.png\"></p>\n<h2 id=\"train-loader-中是些什么\">train_loader 中是些什么?</h2>\n<ul>\n<li>aug1 我猜是 jittering (noise addition)</li>\n<li>aug2 我猜是 scaling (pattern-wise magnitude change)<br>\n<img src=\"/images/c4b0621e622948b0f276c177681fc93042e22fba.png\" alt=\"static/attachment/Pasted image 20221212231235.png\"></li>\n</ul>\n<h2 id=\"Score-如何计算\">Score 如何计算?</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">score = distance1 + distance_dec1 </span><br></pre></td></tr></table></figure>\n<h2 id=\"Distance-如何计算-包含哪些\">Distance 如何计算?包含哪些?</h2>\n<p>distance1 是 cosine_similarity</p>\n<ul>\n<li><code>feature1.shape=torch.Size([1536, 20])</code></li>\n<li><code>distance_dec1=center.shape=torch.Size([1, 20])</code></li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">distance1 = F.cosine_similarity(feature1, center, eps=<span class=\"number\">1e-6</span>) </span><br><span class=\"line\">distance_dec1 = F.cosine_similarity(feature_dec1, center, eps=<span class=\"number\">1e-6</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"What-are-distance1-and-distance-dec1\">What are distance1 and distance_dec1?</h2>\n<ul>\n<li>distance1: feature1 与 center 的 cosine_similarity</li>\n<li>distance2: feature_dec1 与 center 的 cosine_similarity</li>\n</ul>\n<h2 id=\"feature-dec1-与-feature1-是什么\">feature_dec1 与 feature1 是什么?</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># project: the project of hidden(representation) Z</span></span><br><span class=\"line\"><span class=\"comment\"># rec_project: the project of the output (reconstruction representation)</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> project, rec_project</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">feature1, feature_dec1= project, rec_project</span><br></pre></td></tr></table></figure>\n<p>project(feature1) and rec_project(feature_dec1)</p>\n<p><img src=\"/images/00bf6b1d3993dfd678ac116ba75b5363f8901c01.png\" alt=\"static/attachment/Pasted image 20221213114728.png\"></p>\n<h2 id=\"score-是什么\">score 是什么?</h2>\n<p>score 是 distance1 and distance_dec1 的距离之和?</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">score = distance1 + distance_dec1</span><br></pre></td></tr></table></figure>\n<p>distance1 是 projector(representation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>) 与 center 的 cosine_similarity</p>\n<p>distance_dec1 是 projector(reconstruction representation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>z</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">z&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span>) 的 cosine_similarity</p>\n<p>projector 是:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">self.project = nn.Linear(self.final_out_channels * self.features_len, self.project_channels, bias=<span class=\"literal\">False</span>)</span><br><span class=\"line\">self.projection_head = nn.Sequential(</span><br><span class=\"line\">  nn.Linear(self.final_out_channels * self.features_len, self.final_out_channels * self.features_len // <span class=\"number\">2</span>),</span><br><span class=\"line\">  nn.BatchNorm1d(self.final_out_channels * self.features_len // <span class=\"number\">2</span>),</span><br><span class=\"line\">  nn.ReLU(inplace=<span class=\"literal\">True</span>),</span><br><span class=\"line\">  nn.Linear(self.final_out_channels * self.features_len // <span class=\"number\">2</span>, self.project_channels),</span><br><span class=\"line\">) </span><br></pre></td></tr></table></figure>\n<h2 id=\"Threshold-如何定\">Threshold 如何定?</h2>\n<p>按异常率指定:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">threshold = np.percentile(scores, <span class=\"number\">100</span>-detect_nu) </span><br></pre></td></tr></table></figure>\n<p><strong>detect_mu</strong> is a set in nu_list, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">nu_list</mi><mo>⁡</mo><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0.001</mn><mo separator=\"true\">,</mo><mn>0.3</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\operatorname{nu\\_list} \\in [0.001, 0.3]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0044em;vertical-align:-0.31em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">nu_list</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">0.001</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0.3</span><span class=\"mclose\">]</span></span></span></span> :<img src=\"/images/87719b28415cdcff43416487c2813d47375a6961.png\" alt=\"static/attachment/Pasted image 20221213121235.png\"></p>\n<h2 id=\"单个-KPI-的-Affiliation-Metrix-如何计算\">单个 KPI 的 Affiliation Metrix 如何计算</h2>\n<ul>\n<li>固定异常率为 <code>self.detect_nu = 0.0005</code></li>\n</ul>\n<p>计算 <code>mu</code>:</p>\n<p><img src=\"/images/1a334b7c374f4d28bfb35f39ed5a141b5711586f.png\" alt=\"static/attachment/Pasted image 20221213120925.png\"></p>\n<h2 id=\"Affiliation-metrics-是最优-F1-吗-类似于-AUC-的那种\">Affiliation-metrics 是最优 F1 吗? 类似于 AUC 的那种</h2>\n"},{"title":"Deep Contrastive One-Class Time Series Anomaly Detection","date":"2022-12-11T00:23:02.000Z","updated":"2022-12-12T14:59:59.000Z","aliases":["Deep Contrastive One-Class Time Series Anomaly Detection"],"_content":"\n## Note\n\n- a deep Contrastive One-Class Anomaly detection method of time series (COCA)  \n<a href='{% post_path COCA源码分析 %}'>COCA源码分析</a>\n\n## Evaluate Metrics\n\nAﬃliation F1 for `AIOps`  \nAﬃliation F1 and Accuracy for `UCR`\n\nIn most cases, time-series anomalies occur <u>as continuous-time intervals rather than isolated points</u>, leading to diﬃculty in quantifying the predicted anomaly label sequence.\n\nAﬃliation metrics on the entire dataset are weighted averages of aﬃliation metrics for each sub-dataset:  \n\n$$\\mathrm{F} 1_{\\text {entire }}=\\sum_{i=1}^M \\frac{k_i}{K} \\mathrm{~F} 1_i$$\n  \nwhere $M$ is the number of sub-datasets, $K$ is the total number of anomaly segments for the entire dataset, and $k_i$ is the number of anomaly segments of the $i_th$ subdataset.\n\n## Baselines\n\n对外比.  \ncompared with 9 other methods.\n\nThe proposed approach is compared against the following **unsupervised** and **self-supervised** anomaly detection methods.\n\n- 3 Traditional Anomaly Detection Baselines.\n\t- One-class SVM (OC-SVM)\n\t- Isolation Forest (IF)\n\t- Random Cut Forest (RCF)\n- 4 Deep Anomaly Detection Baselines\n\t- Deep one-class (Deep SVDD)\n\t- Spectral Residual CNN (SR-CNN)\n\t- Deep Autoencoding Gaussian Mixture Model (DAGMM)\n\t- LSTM Encoder-decoder (LSTM-ED)\n- 2 Contrastive Learning Anomaly Detection Baselines.\n\t- Contrastive Predictive Coding Anomaly Detection (CPCAD)\n\t- Time Series Temporal and Contextual Contrasting Anomaly Detection (TS-TCC-AD)\n\n## What is `COCA Variants`\n\nHow effect of the different component in `COCA`\n\nMoreover, we include the following ﬁve COCA variants as baselines to demonstrate the eﬀectiveness of individual components in COCA.\n\n- `NoAug` removes the `time-series augmentations` of COCA.\n- `NoOC` removes the one-class classiﬁcation of COCA to optimize the similarity of representations $q_i$ and reconstructed representations $q_i`$\n- `NoCL` removes the contrastive learning of COCA to optimize the similarity of representations and one-class center.\n- `NoVar` removes the variance term of COCA to optimize the similarity of representations and one-class center.\n- `COCA-vi` treats diﬀerent augmentations (jittering and scaling) as positive pairs for contrast learning, similar to SimCLR\n\n## What is the Main Result of COCA?\n\n- anomalous samples in the training set of AIOps **results** poorly performance, which leads to high false negative rates\n\n## How COCA Deal with the AIOps?\n\n加载为多个单变量的时间序列数据, 用 `TSADBaseDataset` 表示  \n<a href='{% post_path COCA源码分析 %}'>COCA源码分析</a>\n\n## COCA 是一次使用全部的数据训练模型吗?\n\n不是, 是一个一个数据集的训练\n\n## Aﬃliation 本质是什么?\n\n简单理解为两个 set 之间的距离\n\nHuet, A., Navarro, J. M., & Rossi, D. 2022. Local Evaluation of Time Series Anomaly Detection Algorithms. **_Proceedings of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining_**, 635–645.  \ndistance from a point 𝑥 to a set 𝑌 is defined: $dist(𝑥,𝑌) := min_𝑦 ∈𝑌 |𝑥 − 𝑦 |$  \ndistance from a set 𝑋 to another: $\\operatorname{dist}(X, Y):=\\frac{1}{|X|} \\int_{X \\in X} \\operatorname{dist}(x,Y)dx$\n\n## Time-Series Augmentation 做了什么?\n\n- jittering (noise addition)\n- scaling (pattern-wise magnitude change)  \nare applied to expand the training set. Notably, **the jittering and scaling hyper-parameters** should be carefully chosen according to the nature of the time series anomalies.\n\nwhat is jittering ?  \n![static/attachment/Pasted image 20221212224803.png](/images/96844c9457a8fdf0ee6d865688efb7126b80c36e.png)\n\n## Aﬃliation F1 具体怎么算?\n","source":"_posts/DeepContrastiveOne-ClassTimeSeriesAnomalyDetection.md","raw":"---\ntitle: Deep Contrastive One-Class Time Series Anomaly Detection\ntags:\n  - docs\n  - public\ndate: 2022-12-11 08:23:02 \nupdated: 2022-12-12 22:59:59 \ncategories:\n  - research\naliases:\n  - Deep Contrastive One-Class Time Series Anomaly Detection\n---\n\n## Note\n\n- a deep Contrastive One-Class Anomaly detection method of time series (COCA)  \n<a href='{% post_path COCA源码分析 %}'>COCA源码分析</a>\n\n## Evaluate Metrics\n\nAﬃliation F1 for `AIOps`  \nAﬃliation F1 and Accuracy for `UCR`\n\nIn most cases, time-series anomalies occur <u>as continuous-time intervals rather than isolated points</u>, leading to diﬃculty in quantifying the predicted anomaly label sequence.\n\nAﬃliation metrics on the entire dataset are weighted averages of aﬃliation metrics for each sub-dataset:  \n\n$$\\mathrm{F} 1_{\\text {entire }}=\\sum_{i=1}^M \\frac{k_i}{K} \\mathrm{~F} 1_i$$\n  \nwhere $M$ is the number of sub-datasets, $K$ is the total number of anomaly segments for the entire dataset, and $k_i$ is the number of anomaly segments of the $i_th$ subdataset.\n\n## Baselines\n\n对外比.  \ncompared with 9 other methods.\n\nThe proposed approach is compared against the following **unsupervised** and **self-supervised** anomaly detection methods.\n\n- 3 Traditional Anomaly Detection Baselines.\n\t- One-class SVM (OC-SVM)\n\t- Isolation Forest (IF)\n\t- Random Cut Forest (RCF)\n- 4 Deep Anomaly Detection Baselines\n\t- Deep one-class (Deep SVDD)\n\t- Spectral Residual CNN (SR-CNN)\n\t- Deep Autoencoding Gaussian Mixture Model (DAGMM)\n\t- LSTM Encoder-decoder (LSTM-ED)\n- 2 Contrastive Learning Anomaly Detection Baselines.\n\t- Contrastive Predictive Coding Anomaly Detection (CPCAD)\n\t- Time Series Temporal and Contextual Contrasting Anomaly Detection (TS-TCC-AD)\n\n## What is `COCA Variants`\n\nHow effect of the different component in `COCA`\n\nMoreover, we include the following ﬁve COCA variants as baselines to demonstrate the eﬀectiveness of individual components in COCA.\n\n- `NoAug` removes the `time-series augmentations` of COCA.\n- `NoOC` removes the one-class classiﬁcation of COCA to optimize the similarity of representations $q_i$ and reconstructed representations $q_i`$\n- `NoCL` removes the contrastive learning of COCA to optimize the similarity of representations and one-class center.\n- `NoVar` removes the variance term of COCA to optimize the similarity of representations and one-class center.\n- `COCA-vi` treats diﬀerent augmentations (jittering and scaling) as positive pairs for contrast learning, similar to SimCLR\n\n## What is the Main Result of COCA?\n\n- anomalous samples in the training set of AIOps **results** poorly performance, which leads to high false negative rates\n\n## How COCA Deal with the AIOps?\n\n加载为多个单变量的时间序列数据, 用 `TSADBaseDataset` 表示  \n<a href='{% post_path COCA源码分析 %}'>COCA源码分析</a>\n\n## COCA 是一次使用全部的数据训练模型吗?\n\n不是, 是一个一个数据集的训练\n\n## Aﬃliation 本质是什么?\n\n简单理解为两个 set 之间的距离\n\nHuet, A., Navarro, J. M., & Rossi, D. 2022. Local Evaluation of Time Series Anomaly Detection Algorithms. **_Proceedings of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining_**, 635–645.  \ndistance from a point 𝑥 to a set 𝑌 is defined: $dist(𝑥,𝑌) := min_𝑦 ∈𝑌 |𝑥 − 𝑦 |$  \ndistance from a set 𝑋 to another: $\\operatorname{dist}(X, Y):=\\frac{1}{|X|} \\int_{X \\in X} \\operatorname{dist}(x,Y)dx$\n\n## Time-Series Augmentation 做了什么?\n\n- jittering (noise addition)\n- scaling (pattern-wise magnitude change)  \nare applied to expand the training set. Notably, **the jittering and scaling hyper-parameters** should be carefully chosen according to the nature of the time series anomalies.\n\nwhat is jittering ?  \n![static/attachment/Pasted image 20221212224803.png](/images/96844c9457a8fdf0ee6d865688efb7126b80c36e.png)\n\n## Aﬃliation F1 具体怎么算?\n","slug":"DeepContrastiveOne-ClassTimeSeriesAnomalyDetection","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io20018iwv9csh837le","content":"<h2 id=\"Note\">Note</h2>\n<ul>\n<li>a deep Contrastive One-Class Anomaly detection method of time series (COCA)<br>\n<a href='/research/101dd24c918c.html'>COCA源码分析</a></li>\n</ul>\n<h2 id=\"Evaluate-Metrics\">Evaluate Metrics</h2>\n<p>Aﬃliation F1 for <code>AIOps</code><br>\nAﬃliation F1 and Accuracy for <code>UCR</code></p>\n<p>In most cases, time-series anomalies occur <u>as continuous-time intervals rather than isolated points</u>, leading to diﬃculty in quantifying the predicted anomaly label sequence.</p>\n<p>Aﬃliation metrics on the entire dataset are weighted averages of aﬃliation metrics for each sub-dataset:</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi mathvariant=\"normal\">F</mi><msub><mn>1</mn><mtext>entire </mtext></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mfrac><msub><mi>k</mi><mi>i</mi></msub><mi>K</mi></mfrac><mrow><mtext> </mtext><mi mathvariant=\"normal\">F</mi></mrow><msub><mn>1</mn><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{F} 1_{\\text {entire }}=\\sum_{i=1}^M \\frac{k_i}{K} \\mathrm{~F} 1_i\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathrm\">F</span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3175em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">entire </span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.106em;vertical-align:-1.2777em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283em;\"><span style=\"top:-1.8723em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">M</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2777em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\"><span class=\"mspace nobreak\"> </span><span class=\"mord mathrm\">F</span></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span> is the number of sub-datasets, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> is the total number of anomaly segments for the entire dataset, and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">k_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is the number of anomaly segments of the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>i</mi><mi>t</mi></msub><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">i_th</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">h</span></span></span></span> subdataset.</p>\n<h2 id=\"Baselines\">Baselines</h2>\n<p>对外比.<br>\ncompared with 9 other methods.</p>\n<p>The proposed approach is compared against the following <strong>unsupervised</strong> and <strong>self-supervised</strong> anomaly detection methods.</p>\n<ul>\n<li>3 Traditional Anomaly Detection Baselines.\n<ul>\n<li>One-class SVM (OC-SVM)</li>\n<li>Isolation Forest (IF)</li>\n<li>Random Cut Forest (RCF)</li>\n</ul>\n</li>\n<li>4 Deep Anomaly Detection Baselines\n<ul>\n<li>Deep one-class (Deep SVDD)</li>\n<li>Spectral Residual CNN (SR-CNN)</li>\n<li>Deep Autoencoding Gaussian Mixture Model (DAGMM)</li>\n<li>LSTM Encoder-decoder (LSTM-ED)</li>\n</ul>\n</li>\n<li>2 Contrastive Learning Anomaly Detection Baselines.\n<ul>\n<li>Contrastive Predictive Coding Anomaly Detection (CPCAD)</li>\n<li>Time Series Temporal and Contextual Contrasting Anomaly Detection (TS-TCC-AD)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"What-is-COCA-Variants\">What is <code>COCA Variants</code></h2>\n<p>How effect of the different component in <code>COCA</code></p>\n<p>Moreover, we include the following ﬁve COCA variants as baselines to demonstrate the eﬀectiveness of individual components in COCA.</p>\n<ul>\n<li><code>NoAug</code> removes the <code>time-series augmentations</code> of COCA.</li>\n<li><code>NoOC</code> removes the one-class classiﬁcation of COCA to optimize the similarity of representations <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> and reconstructed representations <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub><mi mathvariant=\"normal\">‘</mi></mrow><annotation encoding=\"application/x-tex\">q_i`</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">‘</span></span></span></span></li>\n<li><code>NoCL</code> removes the contrastive learning of COCA to optimize the similarity of representations and one-class center.</li>\n<li><code>NoVar</code> removes the variance term of COCA to optimize the similarity of representations and one-class center.</li>\n<li><code>COCA-vi</code> treats diﬀerent augmentations (jittering and scaling) as positive pairs for contrast learning, similar to SimCLR</li>\n</ul>\n<h2 id=\"What-is-the-Main-Result-of-COCA\">What is the Main Result of COCA?</h2>\n<ul>\n<li>anomalous samples in the training set of AIOps <strong>results</strong> poorly performance, which leads to high false negative rates</li>\n</ul>\n<h2 id=\"How-COCA-Deal-with-the-AIOps\">How COCA Deal with the AIOps?</h2>\n<p>加载为多个单变量的时间序列数据, 用 <code>TSADBaseDataset</code> 表示<br>\n<a href='/research/101dd24c918c.html'>COCA源码分析</a></p>\n<h2 id=\"COCA-是一次使用全部的数据训练模型吗\">COCA 是一次使用全部的数据训练模型吗?</h2>\n<p>不是, 是一个一个数据集的训练</p>\n<h2 id=\"Aﬃliation-本质是什么\">Aﬃliation 本质是什么?</h2>\n<p>简单理解为两个 set 之间的距离</p>\n<p>Huet, A., Navarro, J. M., &amp; Rossi, D. 2022. Local Evaluation of Time Series Anomaly Detection Algorithms. <strong><em>Proceedings of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em></strong>, 635–645.<br>\ndistance from a point 𝑥 to a set 𝑌 is defined: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mi>𝑥</mi><mo separator=\"true\">,</mo><mi>𝑌</mi><mo stretchy=\"false\">)</mo><mo>:</mo><mo>=</mo><mi>m</mi><mi>i</mi><msub><mi>n</mi><mi>𝑦</mi></msub><mo>∈</mo><mi>𝑌</mi><mi mathvariant=\"normal\">∣</mi><mi>𝑥</mi><mo>−</mo><mi>𝑦</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">dist(𝑥,𝑌) := min_𝑦 ∈𝑌 |𝑥 − 𝑦 |</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9456em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">mi</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord\">∣</span></span></span></span><br>\ndistance from a set 𝑋 to another: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">dist</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo><mo>:</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant=\"normal\">∣</mi><mi>X</mi><mi mathvariant=\"normal\">∣</mi></mrow></mfrac><msub><mo>∫</mo><mrow><mi>X</mi><mo>∈</mo><mi>X</mi></mrow></msub><mi mathvariant=\"normal\">dist</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo><mi>d</mi><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">\\operatorname{dist}(X, Y):=\\frac{1}{|X|} \\int_{X \\in X} \\operatorname{dist}(x,Y)dx</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">dist</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3651em;vertical-align:-0.52em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∣</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord mtight\">∣</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0006em;\">∫</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1225em;\"><span style=\"top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mrel mtight\">∈</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3832em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">dist</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">x</span></span></span></span></p>\n<h2 id=\"Time-Series-Augmentation-做了什么\">Time-Series Augmentation 做了什么?</h2>\n<ul>\n<li>jittering (noise addition)</li>\n<li>scaling (pattern-wise magnitude change)<br>\nare applied to expand the training set. Notably, <strong>the jittering and scaling hyper-parameters</strong> should be carefully chosen according to the nature of the time series anomalies.</li>\n</ul>\n<p>what is jittering ?<br>\n<img src=\"/images/96844c9457a8fdf0ee6d865688efb7126b80c36e.png\" alt=\"static/attachment/Pasted image 20221212224803.png\"></p>\n<h2 id=\"Aﬃliation-F1-具体怎么算\">Aﬃliation F1 具体怎么算?</h2>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover3.jpg","excerpt":"","more":"<h2 id=\"Note\">Note</h2>\n<ul>\n<li>a deep Contrastive One-Class Anomaly detection method of time series (COCA)<br>\n<a href='/research/101dd24c918c.html'>COCA源码分析</a></li>\n</ul>\n<h2 id=\"Evaluate-Metrics\">Evaluate Metrics</h2>\n<p>Aﬃliation F1 for <code>AIOps</code><br>\nAﬃliation F1 and Accuracy for <code>UCR</code></p>\n<p>In most cases, time-series anomalies occur <u>as continuous-time intervals rather than isolated points</u>, leading to diﬃculty in quantifying the predicted anomaly label sequence.</p>\n<p>Aﬃliation metrics on the entire dataset are weighted averages of aﬃliation metrics for each sub-dataset:</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi mathvariant=\"normal\">F</mi><msub><mn>1</mn><mtext>entire </mtext></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mfrac><msub><mi>k</mi><mi>i</mi></msub><mi>K</mi></mfrac><mrow><mtext> </mtext><mi mathvariant=\"normal\">F</mi></mrow><msub><mn>1</mn><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{F} 1_{\\text {entire }}=\\sum_{i=1}^M \\frac{k_i}{K} \\mathrm{~F} 1_i\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathrm\">F</span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3175em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">entire </span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.106em;vertical-align:-1.2777em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283em;\"><span style=\"top:-1.8723em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">M</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2777em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\"><span class=\"mspace nobreak\"> </span><span class=\"mord mathrm\">F</span></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span> is the number of sub-datasets, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> is the total number of anomaly segments for the entire dataset, and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">k_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is the number of anomaly segments of the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>i</mi><mi>t</mi></msub><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">i_th</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">h</span></span></span></span> subdataset.</p>\n<h2 id=\"Baselines\">Baselines</h2>\n<p>对外比.<br>\ncompared with 9 other methods.</p>\n<p>The proposed approach is compared against the following <strong>unsupervised</strong> and <strong>self-supervised</strong> anomaly detection methods.</p>\n<ul>\n<li>3 Traditional Anomaly Detection Baselines.\n<ul>\n<li>One-class SVM (OC-SVM)</li>\n<li>Isolation Forest (IF)</li>\n<li>Random Cut Forest (RCF)</li>\n</ul>\n</li>\n<li>4 Deep Anomaly Detection Baselines\n<ul>\n<li>Deep one-class (Deep SVDD)</li>\n<li>Spectral Residual CNN (SR-CNN)</li>\n<li>Deep Autoencoding Gaussian Mixture Model (DAGMM)</li>\n<li>LSTM Encoder-decoder (LSTM-ED)</li>\n</ul>\n</li>\n<li>2 Contrastive Learning Anomaly Detection Baselines.\n<ul>\n<li>Contrastive Predictive Coding Anomaly Detection (CPCAD)</li>\n<li>Time Series Temporal and Contextual Contrasting Anomaly Detection (TS-TCC-AD)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"What-is-COCA-Variants\">What is <code>COCA Variants</code></h2>\n<p>How effect of the different component in <code>COCA</code></p>\n<p>Moreover, we include the following ﬁve COCA variants as baselines to demonstrate the eﬀectiveness of individual components in COCA.</p>\n<ul>\n<li><code>NoAug</code> removes the <code>time-series augmentations</code> of COCA.</li>\n<li><code>NoOC</code> removes the one-class classiﬁcation of COCA to optimize the similarity of representations <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> and reconstructed representations <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub><mi mathvariant=\"normal\">‘</mi></mrow><annotation encoding=\"application/x-tex\">q_i`</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">‘</span></span></span></span></li>\n<li><code>NoCL</code> removes the contrastive learning of COCA to optimize the similarity of representations and one-class center.</li>\n<li><code>NoVar</code> removes the variance term of COCA to optimize the similarity of representations and one-class center.</li>\n<li><code>COCA-vi</code> treats diﬀerent augmentations (jittering and scaling) as positive pairs for contrast learning, similar to SimCLR</li>\n</ul>\n<h2 id=\"What-is-the-Main-Result-of-COCA\">What is the Main Result of COCA?</h2>\n<ul>\n<li>anomalous samples in the training set of AIOps <strong>results</strong> poorly performance, which leads to high false negative rates</li>\n</ul>\n<h2 id=\"How-COCA-Deal-with-the-AIOps\">How COCA Deal with the AIOps?</h2>\n<p>加载为多个单变量的时间序列数据, 用 <code>TSADBaseDataset</code> 表示<br>\n<a href='/research/101dd24c918c.html'>COCA源码分析</a></p>\n<h2 id=\"COCA-是一次使用全部的数据训练模型吗\">COCA 是一次使用全部的数据训练模型吗?</h2>\n<p>不是, 是一个一个数据集的训练</p>\n<h2 id=\"Aﬃliation-本质是什么\">Aﬃliation 本质是什么?</h2>\n<p>简单理解为两个 set 之间的距离</p>\n<p>Huet, A., Navarro, J. M., &amp; Rossi, D. 2022. Local Evaluation of Time Series Anomaly Detection Algorithms. <strong><em>Proceedings of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em></strong>, 635–645.<br>\ndistance from a point 𝑥 to a set 𝑌 is defined: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mi>𝑥</mi><mo separator=\"true\">,</mo><mi>𝑌</mi><mo stretchy=\"false\">)</mo><mo>:</mo><mo>=</mo><mi>m</mi><mi>i</mi><msub><mi>n</mi><mi>𝑦</mi></msub><mo>∈</mo><mi>𝑌</mi><mi mathvariant=\"normal\">∣</mi><mi>𝑥</mi><mo>−</mo><mi>𝑦</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">dist(𝑥,𝑌) := min_𝑦 ∈𝑌 |𝑥 − 𝑦 |</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9456em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">mi</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord\">∣</span></span></span></span><br>\ndistance from a set 𝑋 to another: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">dist</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo><mo>:</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant=\"normal\">∣</mi><mi>X</mi><mi mathvariant=\"normal\">∣</mi></mrow></mfrac><msub><mo>∫</mo><mrow><mi>X</mi><mo>∈</mo><mi>X</mi></mrow></msub><mi mathvariant=\"normal\">dist</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo><mi>d</mi><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">\\operatorname{dist}(X, Y):=\\frac{1}{|X|} \\int_{X \\in X} \\operatorname{dist}(x,Y)dx</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">dist</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3651em;vertical-align:-0.52em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∣</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord mtight\">∣</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0006em;\">∫</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1225em;\"><span style=\"top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mrel mtight\">∈</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3832em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">dist</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">x</span></span></span></span></p>\n<h2 id=\"Time-Series-Augmentation-做了什么\">Time-Series Augmentation 做了什么?</h2>\n<ul>\n<li>jittering (noise addition)</li>\n<li>scaling (pattern-wise magnitude change)<br>\nare applied to expand the training set. Notably, <strong>the jittering and scaling hyper-parameters</strong> should be carefully chosen according to the nature of the time series anomalies.</li>\n</ul>\n<p>what is jittering ?<br>\n<img src=\"/images/96844c9457a8fdf0ee6d865688efb7126b80c36e.png\" alt=\"static/attachment/Pasted image 20221212224803.png\"></p>\n<h2 id=\"Aﬃliation-F1-具体怎么算\">Aﬃliation F1 具体怎么算?</h2>\n"},{"title":"ODDS 数据集划分标准及常见问题","date":"2022-11-26T02:08:13.000Z","updated":"2022-12-10T13:14:26.000Z","aliases":["ODDS 数据集划分标准及常见问题","ODDS 数据集常见问题"],"_content":"\n## 划分结论\n\n![static/attachment/Pasted image 20221202093223.png](/images/82c4ab39614782bc5135a55d4e7a0902749b4453.png)\n\n## 异常率高和中的标准是什么？\n\n自己分的.\n\n我根据 ODDS 31 个多变量时间序列数据的特征, 将异常率的分类标准分为:\n\n异常率高: (异常数据占比) > 10%  \n异常率中: >5% 且 <=10%  \n异常率低: <=5%\n\nODDS 的 31 个多变量时间序列数据: https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=c34684\n\n## 维度高中低划分的标准是什么?\n\n高维数据: Dimension>64  \n中纬数据: 8<Dimension<=64  \n低纬数据: Dimension<=8\n","source":"_posts/ODDS数据集划分标准及常见问题.md","raw":"---\ntitle: ODDS 数据集划分标准及常见问题\ntags:\n  - public\n  - research\ndate: 2022-11-26 10:08:13 \nupdated: 2022-12-10 21:14:26 \ncategories:\n  - research\naliases:\n  - ODDS 数据集划分标准及常见问题\n  - ODDS 数据集常见问题\n---\n\n## 划分结论\n\n![static/attachment/Pasted image 20221202093223.png](/images/82c4ab39614782bc5135a55d4e7a0902749b4453.png)\n\n## 异常率高和中的标准是什么？\n\n自己分的.\n\n我根据 ODDS 31 个多变量时间序列数据的特征, 将异常率的分类标准分为:\n\n异常率高: (异常数据占比) > 10%  \n异常率中: >5% 且 <=10%  \n异常率低: <=5%\n\nODDS 的 31 个多变量时间序列数据: https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=c34684\n\n## 维度高中低划分的标准是什么?\n\n高维数据: Dimension>64  \n中纬数据: 8<Dimension<=64  \n低纬数据: Dimension<=8\n","slug":"ODDS数据集划分标准及常见问题","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io2001ciwv92qxb02ad","content":"<h2 id=\"划分结论\">划分结论</h2>\n<p><img src=\"/images/82c4ab39614782bc5135a55d4e7a0902749b4453.png\" alt=\"static/attachment/Pasted image 20221202093223.png\"></p>\n<h2 id=\"异常率高和中的标准是什么？\">异常率高和中的标准是什么？</h2>\n<p>自己分的.</p>\n<p>我根据 ODDS 31 个多变量时间序列数据的特征, 将异常率的分类标准分为:</p>\n<p>异常率高: (异常数据占比) &gt; 10%<br>\n异常率中: &gt;5% 且 &lt;=10%<br>\n异常率低: &lt;=5%</p>\n<p>ODDS 的 31 个多变量时间序列数据: <a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=c34684\">https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=c34684</a></p>\n<h2 id=\"维度高中低划分的标准是什么\">维度高中低划分的标准是什么?</h2>\n<p>高维数据: Dimension&gt;64<br>\n中纬数据: 8&lt;Dimension&lt;=64<br>\n低纬数据: Dimension&lt;=8</p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover4.jpg","excerpt":"","more":"<h2 id=\"划分结论\">划分结论</h2>\n<p><img src=\"/images/82c4ab39614782bc5135a55d4e7a0902749b4453.png\" alt=\"static/attachment/Pasted image 20221202093223.png\"></p>\n<h2 id=\"异常率高和中的标准是什么？\">异常率高和中的标准是什么？</h2>\n<p>自己分的.</p>\n<p>我根据 ODDS 31 个多变量时间序列数据的特征, 将异常率的分类标准分为:</p>\n<p>异常率高: (异常数据占比) &gt; 10%<br>\n异常率中: &gt;5% 且 &lt;=10%<br>\n异常率低: &lt;=5%</p>\n<p>ODDS 的 31 个多变量时间序列数据: <a href=\"https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=c34684\">https://uniplore.feishu.cn/sheets/shtcnjqyXgRD7EEqzZOmArCFwRc?sheet=c34684</a></p>\n<h2 id=\"维度高中低划分的标准是什么\">维度高中低划分的标准是什么?</h2>\n<p>高维数据: Dimension&gt;64<br>\n中纬数据: 8&lt;Dimension&lt;=64<br>\n低纬数据: Dimension&lt;=8</p>\n"},{"title":"Obsidian & Hexo 笔记编写最佳实践","date":"2022-11-22T15:08:02.000Z","updated":"2022-12-09T08:23:18.000Z","password":"","message":null,"abstract":null,"aliases":["Obsidian & Hexo 笔记编写最佳实践","Obsidian 笔记编写最佳实践","Obsidian markdown最佳实践"],"_content":"<a href='{% post_path hexo mardkown 语法 %}'>hexo mardkown 语法</a>\n\n\n\n## 编写实战\n\n- 多用行内公式 `$ xx $` , 少用 `$$ xx $$` 公式\n\t- `$$xxx$$` 的公式: 前后都需要新行\n\n## TOC 目录\n\n如下的目录会自动转换为 `hexo` 的目录\n\n```python\n~~~toc \n~~~\n```\n\n网站展示:  \n![static/attachment/Pasted image 20221122234555.png](/images/964c41bd1fca5636e64e7d8960ea38ad7862a7f4.png)\n\n## 发布到 GitPages\n\n1. 在 `.md` 文件的 yaml 头加上 `tags: public`\n2. cd `hexo-websit`\n3. `make d`\n\n## 本地调试\n\n1. 在 `.md` 文件的 yaml 头加上 `tags: public`\n2. cd `hexo-websit`\n3. `make run`\n\n## 指定 Md 的存储路径\n\n这将会让该文件存储到 `hexo` 根目录下的 `404.html`\n\n```python\npermalink: /404.html \n```\n\n## 加密\n\n在 头文件中加上  \nhttps://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md\n\n```python\n---\npassword: mikemessi\nabstract: \"<加密内容>\"\nmessage: \"加密提示信息\"\nwrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.\nwrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.\n---\n```\n\n## Nginx 部署 Hexo 静态网页\n\n文件上传\n\n```python\nrsync  -avz --delete  /Users/sunwu/SW-Research/hexo-websit/public/* root@114.55.41.175:/usr/blog/hexo/ \n```\n\nnginx 密码配置\n\n```python\nhtpasswd -c /etc/nginx/nginx_password lihui \n```\n\nnginx 配置:\n\n```python\n\n\ncat > /etc/nginx/nginx.conf <<\"EOF\"\nuser  nginx;\nworker_processes  1;\npid        /var/run/nginx.pid;\nevents {\n    worker_connections  1024;\n}\nhttp{\n     include mime.types;\n\tserver {\n\t    listen 443 ssl;\n\t    auth_basic off;\n\t    server_name 114.55.41.175;\n\t    root /usr/blog/hexo/;\n\t    error_page 404 /404.html;\n\t    ssl_certificate /etc/nginx/cert/lessonplan.pem;\n\t    ssl_certificate_key /etc/nginx/cert/lessonplan.key;\n\t}\n\tserver {\n\t    listen 80;\n\t    auth_basic off;\n\t    server_name 114.55.41.175;\n\t    #将请求转成https\n\t    rewrite ^(.*)$ https://$host$1 permanent;\n\t}\n}\nEOF\nnginx -t \nnginx -s reload \n```\n\n```python\ncat > /etc/nginx/nginx_password <<EOF\nlihui:$apr1$.vH3abai$Jz8S1odfB2pSShLbTRZVJ0\nEOF\n\nmkdir -p /usr/blog/hexo/\ncat > /etc/nginx/nginx.conf <<\"EOF\"\nuser  nginx;\nworker_processes  1;v\npid        /var/run/nginx.pid;\nevents {\n    worker_connections  1024;\n}\nhttp{\n     include mime.types;\n\tserver {\n\t    listen 20000;\n\t    auth_basic \"本网站需要您提供密码\";\n\t    auth_basic_user_file /etc/nginx/nginx_password;\n\t    server_name 192.168.100.111;\n\t    root /usr/blog/hexo/;\n\t    error_page 404 /404.html;\n\t}\n}\nEOF\nnginx -t \nnginx -s reload  \n```\n","source":"_posts/Obsidian&Hexo笔记编写最佳实践.md","raw":"---\ntitle: Obsidian & Hexo 笔记编写最佳实践\ntags:\n  - public\ndate: 2022-11-22 23:08:02 \nupdated: 2022-12-09 16:23:18 \npassword: \"\"\nmessage: \nabstract: \naliases:\n  - Obsidian & Hexo 笔记编写最佳实践\n  - Obsidian 笔记编写最佳实践\n  - Obsidian markdown最佳实践\n---\n<a href='{% post_path hexo mardkown 语法 %}'>hexo mardkown 语法</a>\n\n\n\n## 编写实战\n\n- 多用行内公式 `$ xx $` , 少用 `$$ xx $$` 公式\n\t- `$$xxx$$` 的公式: 前后都需要新行\n\n## TOC 目录\n\n如下的目录会自动转换为 `hexo` 的目录\n\n```python\n~~~toc \n~~~\n```\n\n网站展示:  \n![static/attachment/Pasted image 20221122234555.png](/images/964c41bd1fca5636e64e7d8960ea38ad7862a7f4.png)\n\n## 发布到 GitPages\n\n1. 在 `.md` 文件的 yaml 头加上 `tags: public`\n2. cd `hexo-websit`\n3. `make d`\n\n## 本地调试\n\n1. 在 `.md` 文件的 yaml 头加上 `tags: public`\n2. cd `hexo-websit`\n3. `make run`\n\n## 指定 Md 的存储路径\n\n这将会让该文件存储到 `hexo` 根目录下的 `404.html`\n\n```python\npermalink: /404.html \n```\n\n## 加密\n\n在 头文件中加上  \nhttps://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md\n\n```python\n---\npassword: mikemessi\nabstract: \"<加密内容>\"\nmessage: \"加密提示信息\"\nwrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.\nwrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.\n---\n```\n\n## Nginx 部署 Hexo 静态网页\n\n文件上传\n\n```python\nrsync  -avz --delete  /Users/sunwu/SW-Research/hexo-websit/public/* root@114.55.41.175:/usr/blog/hexo/ \n```\n\nnginx 密码配置\n\n```python\nhtpasswd -c /etc/nginx/nginx_password lihui \n```\n\nnginx 配置:\n\n```python\n\n\ncat > /etc/nginx/nginx.conf <<\"EOF\"\nuser  nginx;\nworker_processes  1;\npid        /var/run/nginx.pid;\nevents {\n    worker_connections  1024;\n}\nhttp{\n     include mime.types;\n\tserver {\n\t    listen 443 ssl;\n\t    auth_basic off;\n\t    server_name 114.55.41.175;\n\t    root /usr/blog/hexo/;\n\t    error_page 404 /404.html;\n\t    ssl_certificate /etc/nginx/cert/lessonplan.pem;\n\t    ssl_certificate_key /etc/nginx/cert/lessonplan.key;\n\t}\n\tserver {\n\t    listen 80;\n\t    auth_basic off;\n\t    server_name 114.55.41.175;\n\t    #将请求转成https\n\t    rewrite ^(.*)$ https://$host$1 permanent;\n\t}\n}\nEOF\nnginx -t \nnginx -s reload \n```\n\n```python\ncat > /etc/nginx/nginx_password <<EOF\nlihui:$apr1$.vH3abai$Jz8S1odfB2pSShLbTRZVJ0\nEOF\n\nmkdir -p /usr/blog/hexo/\ncat > /etc/nginx/nginx.conf <<\"EOF\"\nuser  nginx;\nworker_processes  1;v\npid        /var/run/nginx.pid;\nevents {\n    worker_connections  1024;\n}\nhttp{\n     include mime.types;\n\tserver {\n\t    listen 20000;\n\t    auth_basic \"本网站需要您提供密码\";\n\t    auth_basic_user_file /etc/nginx/nginx_password;\n\t    server_name 192.168.100.111;\n\t    root /usr/blog/hexo/;\n\t    error_page 404 /404.html;\n\t}\n}\nEOF\nnginx -t \nnginx -s reload  \n```\n","slug":"Obsidian&Hexo笔记编写最佳实践","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io3001fiwv9ajcc50vb","content":"<p><a href=''>hexo mardkown 语法</a></p>\n<h2 id=\"编写实战\">编写实战</h2>\n<ul>\n<li>多用行内公式 <code>$ xx $</code> , 少用 <code>$$ xx $$</code> 公式\n<ul>\n<li><code>$$xxx$$</code> 的公式: 前后都需要新行</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"TOC-目录\">TOC 目录</h2>\n<p>如下的目录会自动转换为 <code>hexo</code> 的目录</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~~~toc </span><br><span class=\"line\">~~~</span><br></pre></td></tr></table></figure>\n<p>网站展示:<br>\n<img src=\"/images/964c41bd1fca5636e64e7d8960ea38ad7862a7f4.png\" alt=\"static/attachment/Pasted image 20221122234555.png\"></p>\n<h2 id=\"发布到-GitPages\">发布到 GitPages</h2>\n<ol>\n<li>在 <code>.md</code> 文件的 yaml 头加上 <code>tags: public</code></li>\n<li>cd <code>hexo-websit</code></li>\n<li><code>make d</code></li>\n</ol>\n<h2 id=\"本地调试\">本地调试</h2>\n<ol>\n<li>在 <code>.md</code> 文件的 yaml 头加上 <code>tags: public</code></li>\n<li>cd <code>hexo-websit</code></li>\n<li><code>make run</code></li>\n</ol>\n<h2 id=\"指定-Md-的存储路径\">指定 Md 的存储路径</h2>\n<p>这将会让该文件存储到 <code>hexo</code> 根目录下的 <code>404.html</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: /<span class=\"number\">404.</span>html </span><br></pre></td></tr></table></figure>\n<h2 id=\"加密\">加密</h2>\n<p>在 头文件中加上<br>\n<a href=\"https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md\">https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">password: mikemessi</span><br><span class=\"line\">abstract: <span class=\"string\">&quot;&lt;加密内容&gt;&quot;</span></span><br><span class=\"line\">message: <span class=\"string\">&quot;加密提示信息&quot;</span></span><br><span class=\"line\">wrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class=\"line\">wrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n<h2 id=\"Nginx-部署-Hexo-静态网页\">Nginx 部署 Hexo 静态网页</h2>\n<p>文件上传</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rsync  -avz --delete  /Users/sunwu/SW-Research/hexo-websit/public/* root@<span class=\"number\">114.55</span><span class=\"number\">.41</span><span class=\"number\">.175</span>:/usr/blog/hexo/ </span><br></pre></td></tr></table></figure>\n<p>nginx 密码配置</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">htpasswd -c /etc/nginx/nginx_password lihui </span><br></pre></td></tr></table></figure>\n<p>nginx 配置:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">cat &gt; /etc/nginx/nginx.conf &lt;&lt;<span class=\"string\">&quot;EOF&quot;</span></span><br><span class=\"line\">user  nginx;</span><br><span class=\"line\">worker_processes  <span class=\"number\">1</span>;</span><br><span class=\"line\">pid        /var/run/nginx.pid;</span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">    worker_connections  <span class=\"number\">1024</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">http&#123;</span><br><span class=\"line\">     include mime.types;</span><br><span class=\"line\">\tserver &#123;</span><br><span class=\"line\">\t    listen <span class=\"number\">443</span> ssl;</span><br><span class=\"line\">\t    auth_basic off;</span><br><span class=\"line\">\t    server_name <span class=\"number\">114.55</span><span class=\"number\">.41</span><span class=\"number\">.175</span>;</span><br><span class=\"line\">\t    root /usr/blog/hexo/;</span><br><span class=\"line\">\t    error_page <span class=\"number\">404</span> /<span class=\"number\">404.</span>html;</span><br><span class=\"line\">\t    ssl_certificate /etc/nginx/cert/lessonplan.pem;</span><br><span class=\"line\">\t    ssl_certificate_key /etc/nginx/cert/lessonplan.key;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tserver &#123;</span><br><span class=\"line\">\t    listen <span class=\"number\">80</span>;</span><br><span class=\"line\">\t    auth_basic off;</span><br><span class=\"line\">\t    server_name <span class=\"number\">114.55</span><span class=\"number\">.41</span><span class=\"number\">.175</span>;</span><br><span class=\"line\">\t    <span class=\"comment\">#将请求转成https</span></span><br><span class=\"line\">\t    rewrite ^(.*)$ https://$host$<span class=\"number\">1</span> permanent;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">nginx -t </span><br><span class=\"line\">nginx -s reload </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; /etc/nginx/nginx_password &lt;&lt;EOF</span><br><span class=\"line\">lihui:$apr1$.vH3abai$Jz8S1odfB2pSShLbTRZVJ0</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">mkdir -p /usr/blog/hexo/</span><br><span class=\"line\">cat &gt; /etc/nginx/nginx.conf &lt;&lt;<span class=\"string\">&quot;EOF&quot;</span></span><br><span class=\"line\">user  nginx;</span><br><span class=\"line\">worker_processes  <span class=\"number\">1</span>;v</span><br><span class=\"line\">pid        /var/run/nginx.pid;</span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">    worker_connections  <span class=\"number\">1024</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">http&#123;</span><br><span class=\"line\">     include mime.types;</span><br><span class=\"line\">\tserver &#123;</span><br><span class=\"line\">\t    listen <span class=\"number\">20000</span>;</span><br><span class=\"line\">\t    auth_basic <span class=\"string\">&quot;本网站需要您提供密码&quot;</span>;</span><br><span class=\"line\">\t    auth_basic_user_file /etc/nginx/nginx_password;</span><br><span class=\"line\">\t    server_name <span class=\"number\">192.168</span><span class=\"number\">.100</span><span class=\"number\">.111</span>;</span><br><span class=\"line\">\t    root /usr/blog/hexo/;</span><br><span class=\"line\">\t    error_page <span class=\"number\">404</span> /<span class=\"number\">404.</span>html;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">nginx -t </span><br><span class=\"line\">nginx -s reload  </span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover7.JPG","excerpt":"","more":"<p><a href=''>hexo mardkown 语法</a></p>\n<h2 id=\"编写实战\">编写实战</h2>\n<ul>\n<li>多用行内公式 <code>$ xx $</code> , 少用 <code>$$ xx $$</code> 公式\n<ul>\n<li><code>$$xxx$$</code> 的公式: 前后都需要新行</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"TOC-目录\">TOC 目录</h2>\n<p>如下的目录会自动转换为 <code>hexo</code> 的目录</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~~~toc </span><br><span class=\"line\">~~~</span><br></pre></td></tr></table></figure>\n<p>网站展示:<br>\n<img src=\"/images/964c41bd1fca5636e64e7d8960ea38ad7862a7f4.png\" alt=\"static/attachment/Pasted image 20221122234555.png\"></p>\n<h2 id=\"发布到-GitPages\">发布到 GitPages</h2>\n<ol>\n<li>在 <code>.md</code> 文件的 yaml 头加上 <code>tags: public</code></li>\n<li>cd <code>hexo-websit</code></li>\n<li><code>make d</code></li>\n</ol>\n<h2 id=\"本地调试\">本地调试</h2>\n<ol>\n<li>在 <code>.md</code> 文件的 yaml 头加上 <code>tags: public</code></li>\n<li>cd <code>hexo-websit</code></li>\n<li><code>make run</code></li>\n</ol>\n<h2 id=\"指定-Md-的存储路径\">指定 Md 的存储路径</h2>\n<p>这将会让该文件存储到 <code>hexo</code> 根目录下的 <code>404.html</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">permalink: /<span class=\"number\">404.</span>html </span><br></pre></td></tr></table></figure>\n<h2 id=\"加密\">加密</h2>\n<p>在 头文件中加上<br>\n<a href=\"https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md\">https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">password: mikemessi</span><br><span class=\"line\">abstract: <span class=\"string\">&quot;&lt;加密内容&gt;&quot;</span></span><br><span class=\"line\">message: <span class=\"string\">&quot;加密提示信息&quot;</span></span><br><span class=\"line\">wrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class=\"line\">wrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n<h2 id=\"Nginx-部署-Hexo-静态网页\">Nginx 部署 Hexo 静态网页</h2>\n<p>文件上传</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rsync  -avz --delete  /Users/sunwu/SW-Research/hexo-websit/public/* root@<span class=\"number\">114.55</span><span class=\"number\">.41</span><span class=\"number\">.175</span>:/usr/blog/hexo/ </span><br></pre></td></tr></table></figure>\n<p>nginx 密码配置</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">htpasswd -c /etc/nginx/nginx_password lihui </span><br></pre></td></tr></table></figure>\n<p>nginx 配置:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">cat &gt; /etc/nginx/nginx.conf &lt;&lt;<span class=\"string\">&quot;EOF&quot;</span></span><br><span class=\"line\">user  nginx;</span><br><span class=\"line\">worker_processes  <span class=\"number\">1</span>;</span><br><span class=\"line\">pid        /var/run/nginx.pid;</span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">    worker_connections  <span class=\"number\">1024</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">http&#123;</span><br><span class=\"line\">     include mime.types;</span><br><span class=\"line\">\tserver &#123;</span><br><span class=\"line\">\t    listen <span class=\"number\">443</span> ssl;</span><br><span class=\"line\">\t    auth_basic off;</span><br><span class=\"line\">\t    server_name <span class=\"number\">114.55</span><span class=\"number\">.41</span><span class=\"number\">.175</span>;</span><br><span class=\"line\">\t    root /usr/blog/hexo/;</span><br><span class=\"line\">\t    error_page <span class=\"number\">404</span> /<span class=\"number\">404.</span>html;</span><br><span class=\"line\">\t    ssl_certificate /etc/nginx/cert/lessonplan.pem;</span><br><span class=\"line\">\t    ssl_certificate_key /etc/nginx/cert/lessonplan.key;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tserver &#123;</span><br><span class=\"line\">\t    listen <span class=\"number\">80</span>;</span><br><span class=\"line\">\t    auth_basic off;</span><br><span class=\"line\">\t    server_name <span class=\"number\">114.55</span><span class=\"number\">.41</span><span class=\"number\">.175</span>;</span><br><span class=\"line\">\t    <span class=\"comment\">#将请求转成https</span></span><br><span class=\"line\">\t    rewrite ^(.*)$ https://$host$<span class=\"number\">1</span> permanent;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">nginx -t </span><br><span class=\"line\">nginx -s reload </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; /etc/nginx/nginx_password &lt;&lt;EOF</span><br><span class=\"line\">lihui:$apr1$.vH3abai$Jz8S1odfB2pSShLbTRZVJ0</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">mkdir -p /usr/blog/hexo/</span><br><span class=\"line\">cat &gt; /etc/nginx/nginx.conf &lt;&lt;<span class=\"string\">&quot;EOF&quot;</span></span><br><span class=\"line\">user  nginx;</span><br><span class=\"line\">worker_processes  <span class=\"number\">1</span>;v</span><br><span class=\"line\">pid        /var/run/nginx.pid;</span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">    worker_connections  <span class=\"number\">1024</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">http&#123;</span><br><span class=\"line\">     include mime.types;</span><br><span class=\"line\">\tserver &#123;</span><br><span class=\"line\">\t    listen <span class=\"number\">20000</span>;</span><br><span class=\"line\">\t    auth_basic <span class=\"string\">&quot;本网站需要您提供密码&quot;</span>;</span><br><span class=\"line\">\t    auth_basic_user_file /etc/nginx/nginx_password;</span><br><span class=\"line\">\t    server_name <span class=\"number\">192.168</span><span class=\"number\">.100</span><span class=\"number\">.111</span>;</span><br><span class=\"line\">\t    root /usr/blog/hexo/;</span><br><span class=\"line\">\t    error_page <span class=\"number\">404</span> /<span class=\"number\">404.</span>html;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">nginx -t </span><br><span class=\"line\">nginx -s reload  </span><br></pre></td></tr></table></figure>\n"},{"title":"bash手册","date":"2022-05-13T00:51:19.000Z","updated":"2022-12-09T09:20:06.000Z","password":"7947","message":"请输入密码","abstract":"加密内容, 请输入密码后查看","aliases":["bash手册"],"_content":"\n<https://wangdoc.com/bash/intro.html>  \n<https://wangdoc.com/bash/array.html>\n\n## 跨盘切换路径\n\n跨盘符 切换目录 (如从 `c:/xxx` 切换到 `d:/xxx`) 需要加 `cd /d xxx` 参数\n\n```python\ncd /d d:/a/b \n```\n\n## 切换到脚本所在路径\n\n```python\ncd \"$( cd \"$( dirname \"$0\" )\" >/dev/null 2>&1 && pwd )\" \n```\n\n### 获取环境变量\n\n直接 `$VAR`\n\n## IF\n\n<https://wangdoc.com/bash/condition.html#if- 结构>  \n<https://wangdoc.com/bash/condition.html>  \n以下表达式用来判断字符串。\n[ string ]：如果 string 不为空（长度大于 0），则判断为真。\n[ -n string ]：如果字符串 string 的长度大于零，则判断为真。\n[ -z string ]：如果字符串 string 的长度为零，则判断为真。\n[ string1 = string2 ]：如果 string1 和 string2 相同，则判断为真。\n[ string1 == string2 ] 等同于 [ string1 = string2 ]。\n[ string1 != string2 ]：如果 string1 和 string2 不相同，则判断为真。\n[ string1 '>' string2 ]：如果按照字典顺序 string1 排列在 string2 之后，则判断为真。\n[ string1 '<' string2 ]：如果按照字典顺序 string1 排列在 string2 之前，则判断为真。\n\n![static/attachment/Pasted image 20221008123124.png](/images/ad5f286e4e7bc9726aea771fd8dd836bbbec47a5.png)\n\n### 获取环境变量并判断是否为空\n\n```python\n# outside of this script:\n# export AM_DEBUG=11111\necho $AM_DEBUG\n\n\nif [ $AM_DEBUG ]; then\n   echo \"Debug mode\"\n   echo $AM_DEBUG\nelse\n   echo \"Not debug mode\"\nfi\n \n```\n\n## For\n\n### 执行 Bash 命令\n\n```java\nfor host in `ls`\ndo\necho $host\ndone\n```\n\n## 遍历指定的数字\n\n```python\n\nfor loop in 1 2 3\ndo\n  echo \"v:$loop\"\ndone \n\n```\n\n## 范围\n\n```python\nfor table in {2..100..2}\ndo\necho $table\nif [ $table == 20 ]; then\nbreak\nfi\ndone\n```\n\n```python\nfor ((i=1; i<=20; i++));\ndo\n  echo \"v:$i\"\ndone\n```\n\n## String\n\n### 字符串操作\n\n```java\nexport TEST=123abc456abc789\necho ${TEST:0:3}          ===>\"123\"\necho ${TEST:3:3}           ===>\"abc\"\n```\n\n```java\n${varible#*string}   从左往右，删除最短的一个以string结尾的子串，即截取第一个string子串之后的字符串\n${varible##_string}  从左往右，删除最长的一个以 string 结尾的子串，即截取最后一个 string 子串之后的字符串\n${varible%string_}   从右往左，删除最短的一个以 string 开头的子串，即截取最后一个 string 子串之前的字符串\n${varible%%string\\*} 从右往左，删除最长的一个以 string 开头的子串，即截取第一个 string 子串之前的字符串\n\nexport TEST=123abc456abc789\n\necho ${TEST#*abc}          ===>删掉123abc，剩下456abc789 //输出是 456abc789\n\necho ${TEST##*abc}       ===>删掉123abc456abc，剩下789\n\necho ${TEST%abc*}        ===>删掉abc789，剩下123abc456\n\necho ${TEST%%abc*}    ===>删掉abc456abc789，剩下123\n\n```\n\n## 输出空行|换行\n\necho  \necho\n\n## 例子\n\n### 解压当前文件夹下面的所有 _.odp 文件到文件夹 _ 下\n\n比如解压 abc.odp 到文件夹 abc 下\n\n```java\nfor host in `ls`\ndo\nunzip -o  $host -d ${host%.odp*}\necho\necho\ndone\n```\n\n![image.png](static/img/58000e6169d9eb0c626a047315e34f38.png)\n\n## 命令的组合符&&和||\n\n```python\nCommand1 && Command2 \n```\n\n上面命令的意思是，如果 Command1 命令运行成功，则继续运行 Command2 命令。\n\n```python\nCommand1 || Command2 \n```\n\n上面命令的意思是，如果 Command1 命令运行失败，则继续运行 Command2 命令。\n\n## 引号\n\n单引号用于保留字符的字面含义\n\n双引号\n\n```python\n$ echo \"$SHELL\"\n/bin/bash\n\n$ echo \"`date`\"\nMon Jan 27 13:33:18 CST 2020 \n```\n\n## Here 文档\n\n```python\n<< token\ntext\ntoken \n \n```\n\n它的格式分成开始标记（<< token）和结束标记（token）\n\n是否替换变量\n\n![Pasted image 20220508104706.png](/images/9942a6eef9782665069dfab6c57668e21de7d9f8.png)\n\n## 函数\n\n```python\nhello() {\n  echo \"Hello $1\"\n  return 10 ##下一个命令可以用$?拿到返回值。\n}\n \n\n$ hello world\nHello world\n```\n\n$1~$9：函数的第一个到第 9 个的参数。\n$0：函数所在的脚本名。\n`$#`：函数的参数总数。\n$@：函数的全部参数，参数之间使用空格分隔。\n\n","source":"_posts/bash手册.md","raw":"---\ntitle: bash手册\ntags:\n  - \ndate: 2022-05-13 08:51:19 \nupdated: 2022-12-09 17:20:06 \npassword: \"7947\"\nmessage: \"请输入密码\"\nabstract: \"加密内容, 请输入密码后查看\"\naliases:\n  - bash手册\n---\n\n<https://wangdoc.com/bash/intro.html>  \n<https://wangdoc.com/bash/array.html>\n\n## 跨盘切换路径\n\n跨盘符 切换目录 (如从 `c:/xxx` 切换到 `d:/xxx`) 需要加 `cd /d xxx` 参数\n\n```python\ncd /d d:/a/b \n```\n\n## 切换到脚本所在路径\n\n```python\ncd \"$( cd \"$( dirname \"$0\" )\" >/dev/null 2>&1 && pwd )\" \n```\n\n### 获取环境变量\n\n直接 `$VAR`\n\n## IF\n\n<https://wangdoc.com/bash/condition.html#if- 结构>  \n<https://wangdoc.com/bash/condition.html>  \n以下表达式用来判断字符串。\n[ string ]：如果 string 不为空（长度大于 0），则判断为真。\n[ -n string ]：如果字符串 string 的长度大于零，则判断为真。\n[ -z string ]：如果字符串 string 的长度为零，则判断为真。\n[ string1 = string2 ]：如果 string1 和 string2 相同，则判断为真。\n[ string1 == string2 ] 等同于 [ string1 = string2 ]。\n[ string1 != string2 ]：如果 string1 和 string2 不相同，则判断为真。\n[ string1 '>' string2 ]：如果按照字典顺序 string1 排列在 string2 之后，则判断为真。\n[ string1 '<' string2 ]：如果按照字典顺序 string1 排列在 string2 之前，则判断为真。\n\n![static/attachment/Pasted image 20221008123124.png](/images/ad5f286e4e7bc9726aea771fd8dd836bbbec47a5.png)\n\n### 获取环境变量并判断是否为空\n\n```python\n# outside of this script:\n# export AM_DEBUG=11111\necho $AM_DEBUG\n\n\nif [ $AM_DEBUG ]; then\n   echo \"Debug mode\"\n   echo $AM_DEBUG\nelse\n   echo \"Not debug mode\"\nfi\n \n```\n\n## For\n\n### 执行 Bash 命令\n\n```java\nfor host in `ls`\ndo\necho $host\ndone\n```\n\n## 遍历指定的数字\n\n```python\n\nfor loop in 1 2 3\ndo\n  echo \"v:$loop\"\ndone \n\n```\n\n## 范围\n\n```python\nfor table in {2..100..2}\ndo\necho $table\nif [ $table == 20 ]; then\nbreak\nfi\ndone\n```\n\n```python\nfor ((i=1; i<=20; i++));\ndo\n  echo \"v:$i\"\ndone\n```\n\n## String\n\n### 字符串操作\n\n```java\nexport TEST=123abc456abc789\necho ${TEST:0:3}          ===>\"123\"\necho ${TEST:3:3}           ===>\"abc\"\n```\n\n```java\n${varible#*string}   从左往右，删除最短的一个以string结尾的子串，即截取第一个string子串之后的字符串\n${varible##_string}  从左往右，删除最长的一个以 string 结尾的子串，即截取最后一个 string 子串之后的字符串\n${varible%string_}   从右往左，删除最短的一个以 string 开头的子串，即截取最后一个 string 子串之前的字符串\n${varible%%string\\*} 从右往左，删除最长的一个以 string 开头的子串，即截取第一个 string 子串之前的字符串\n\nexport TEST=123abc456abc789\n\necho ${TEST#*abc}          ===>删掉123abc，剩下456abc789 //输出是 456abc789\n\necho ${TEST##*abc}       ===>删掉123abc456abc，剩下789\n\necho ${TEST%abc*}        ===>删掉abc789，剩下123abc456\n\necho ${TEST%%abc*}    ===>删掉abc456abc789，剩下123\n\n```\n\n## 输出空行|换行\n\necho  \necho\n\n## 例子\n\n### 解压当前文件夹下面的所有 _.odp 文件到文件夹 _ 下\n\n比如解压 abc.odp 到文件夹 abc 下\n\n```java\nfor host in `ls`\ndo\nunzip -o  $host -d ${host%.odp*}\necho\necho\ndone\n```\n\n![image.png](static/img/58000e6169d9eb0c626a047315e34f38.png)\n\n## 命令的组合符&&和||\n\n```python\nCommand1 && Command2 \n```\n\n上面命令的意思是，如果 Command1 命令运行成功，则继续运行 Command2 命令。\n\n```python\nCommand1 || Command2 \n```\n\n上面命令的意思是，如果 Command1 命令运行失败，则继续运行 Command2 命令。\n\n## 引号\n\n单引号用于保留字符的字面含义\n\n双引号\n\n```python\n$ echo \"$SHELL\"\n/bin/bash\n\n$ echo \"`date`\"\nMon Jan 27 13:33:18 CST 2020 \n```\n\n## Here 文档\n\n```python\n<< token\ntext\ntoken \n \n```\n\n它的格式分成开始标记（<< token）和结束标记（token）\n\n是否替换变量\n\n![Pasted image 20220508104706.png](/images/9942a6eef9782665069dfab6c57668e21de7d9f8.png)\n\n## 函数\n\n```python\nhello() {\n  echo \"Hello $1\"\n  return 10 ##下一个命令可以用$?拿到返回值。\n}\n \n\n$ hello world\nHello world\n```\n\n$1~$9：函数的第一个到第 9 个的参数。\n$0：函数所在的脚本名。\n`$#`：函数的参数总数。\n$@：函数的全部参数，参数之间使用空格分隔。\n\n","slug":"bash手册","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io3001jiwv94aikhd63","content":"<p><a href=\"https://wangdoc.com/bash/intro.html\">https://wangdoc.com/bash/intro.html</a><br>\n<a href=\"https://wangdoc.com/bash/array.html\">https://wangdoc.com/bash/array.html</a></p>\n<h2 id=\"跨盘切换路径\">跨盘切换路径</h2>\n<p>跨盘符 切换目录 (如从 <code>c:/xxx</code> 切换到 <code>d:/xxx</code>) 需要加 <code>cd /d xxx</code> 参数</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /d d:/a/b </span><br></pre></td></tr></table></figure>\n<h2 id=\"切换到脚本所在路径\">切换到脚本所在路径</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd <span class=\"string\">&quot;$( cd &quot;</span>$( dirname <span class=\"string\">&quot;$0&quot;</span> )<span class=\"string\">&quot; &gt;/dev/null 2&gt;&amp;1 &amp;&amp; pwd )&quot;</span> </span><br></pre></td></tr></table></figure>\n<h3 id=\"获取环境变量\">获取环境变量</h3>\n<p>直接 <code>$VAR</code></p>\n<h2 id=\"IF\">IF</h2>\n<p>&lt;<a href=\"https://wangdoc.com/bash/condition.html#if-\">https://wangdoc.com/bash/condition.html#if-</a> 结构&gt;<br>\n<a href=\"https://wangdoc.com/bash/condition.html\">https://wangdoc.com/bash/condition.html</a><br>\n以下表达式用来判断字符串。<br>\n[ string ]：如果 string 不为空（长度大于 0），则判断为真。<br>\n[ -n string ]：如果字符串 string 的长度大于零，则判断为真。<br>\n[ -z string ]：如果字符串 string 的长度为零，则判断为真。<br>\n[ string1 = string2 ]：如果 string1 和 string2 相同，则判断为真。<br>\n[ string1 == string2 ] 等同于 [ string1 = string2 ]。<br>\n[ string1 != string2 ]：如果 string1 和 string2 不相同，则判断为真。<br>\n[ string1 ‘&gt;’ string2 ]：如果按照字典顺序 string1 排列在 string2 之后，则判断为真。<br>\n[ string1 ‘&lt;’ string2 ]：如果按照字典顺序 string1 排列在 string2 之前，则判断为真。</p>\n<p><img src=\"/images/ad5f286e4e7bc9726aea771fd8dd836bbbec47a5.png\" alt=\"static/attachment/Pasted image 20221008123124.png\"></p>\n<h3 id=\"获取环境变量并判断是否为空\">获取环境变量并判断是否为空</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># outside of this script:</span></span><br><span class=\"line\"><span class=\"comment\"># export AM_DEBUG=11111</span></span><br><span class=\"line\">echo $AM_DEBUG</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ $AM_DEBUG ]; then</span><br><span class=\"line\">   echo <span class=\"string\">&quot;Debug mode&quot;</span></span><br><span class=\"line\">   echo $AM_DEBUG</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">   echo <span class=\"string\">&quot;Not debug mode&quot;</span></span><br><span class=\"line\">fi</span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n<h2 id=\"For\">For</h2>\n<h3 id=\"执行-Bash-命令\">执行 Bash 命令</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> host in `ls`</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">echo $host</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<h2 id=\"遍历指定的数字\">遍历指定的数字</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> loop <span class=\"keyword\">in</span> <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span></span><br><span class=\"line\">do</span><br><span class=\"line\">  echo <span class=\"string\">&quot;v:$loop&quot;</span></span><br><span class=\"line\">done </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"范围\">范围</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> table <span class=\"keyword\">in</span> &#123;<span class=\"number\">2.</span><span class=\"number\">.100</span>.<span class=\"number\">.2</span>&#125;</span><br><span class=\"line\">do</span><br><span class=\"line\">echo $table</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ $table == <span class=\"number\">20</span> ]; then</span><br><span class=\"line\"><span class=\"keyword\">break</span></span><br><span class=\"line\">fi</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> ((i=<span class=\"number\">1</span>; i&lt;=<span class=\"number\">20</span>; i++));</span><br><span class=\"line\">do</span><br><span class=\"line\">  echo <span class=\"string\">&quot;v:$i&quot;</span></span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<h2 id=\"String\">String</h2>\n<h3 id=\"字符串操作\">字符串操作</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export TEST=123abc456abc789</span><br><span class=\"line\">echo $&#123;TEST:<span class=\"number\">0</span>:<span class=\"number\">3</span>&#125;          ===&gt;<span class=\"string\">&quot;123&quot;</span></span><br><span class=\"line\">echo $&#123;TEST:<span class=\"number\">3</span>:<span class=\"number\">3</span>&#125;           ===&gt;<span class=\"string\">&quot;abc&quot;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$&#123;varible#*string&#125;   从左往右，删除最短的一个以string结尾的子串，即截取第一个string子串之后的字符串</span><br><span class=\"line\">$&#123;varible##_string&#125;  从左往右，删除最长的一个以 string 结尾的子串，即截取最后一个 string 子串之后的字符串</span><br><span class=\"line\">$&#123;varible%string_&#125;   从右往左，删除最短的一个以 string 开头的子串，即截取最后一个 string 子串之前的字符串</span><br><span class=\"line\">$&#123;varible%%string\\*&#125; 从右往左，删除最长的一个以 string 开头的子串，即截取第一个 string 子串之前的字符串</span><br><span class=\"line\"></span><br><span class=\"line\">export TEST=123abc456abc789</span><br><span class=\"line\"></span><br><span class=\"line\">echo $&#123;TEST#*abc&#125;          ===&gt;删掉123abc，剩下456abc789 <span class=\"comment\">//输出是 456abc789</span></span><br><span class=\"line\"></span><br><span class=\"line\">echo $&#123;TEST##*abc&#125;       ===&gt;删掉123abc456abc，剩下<span class=\"number\">789</span></span><br><span class=\"line\"></span><br><span class=\"line\">echo $&#123;TEST%abc*&#125;        ===&gt;删掉abc789，剩下123abc456</span><br><span class=\"line\"></span><br><span class=\"line\">echo $&#123;TEST%%abc*&#125;    ===&gt;删掉abc456abc789，剩下<span class=\"number\">123</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"输出空行-换行\">输出空行|换行</h2>\n<p>echo<br>\necho</p>\n<h2 id=\"例子\">例子</h2>\n<h3 id=\"解压当前文件夹下面的所有-odp-文件到文件夹-下\">解压当前文件夹下面的所有 _.odp 文件到文件夹 _ 下</h3>\n<p>比如解压 abc.odp 到文件夹 abc 下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> host in `ls`</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">unzip -o  $host -d $&#123;host%.odp*&#125;</span><br><span class=\"line\">echo</span><br><span class=\"line\">echo</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<p><img src=\"static/img/58000e6169d9eb0c626a047315e34f38.png\" alt=\"image.png\"></p>\n<h2 id=\"命令的组合符-和\">命令的组合符&amp;&amp;和||</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Command1 &amp;&amp; Command2 </span><br></pre></td></tr></table></figure>\n<p>上面命令的意思是，如果 Command1 命令运行成功，则继续运行 Command2 命令。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Command1 || Command2 </span><br></pre></td></tr></table></figure>\n<p>上面命令的意思是，如果 Command1 命令运行失败，则继续运行 Command2 命令。</p>\n<h2 id=\"引号\">引号</h2>\n<p>单引号用于保留字符的字面含义</p>\n<p>双引号</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ echo <span class=\"string\">&quot;$SHELL&quot;</span></span><br><span class=\"line\">/<span class=\"built_in\">bin</span>/bash</span><br><span class=\"line\"></span><br><span class=\"line\">$ echo <span class=\"string\">&quot;`date`&quot;</span></span><br><span class=\"line\">Mon Jan <span class=\"number\">27</span> <span class=\"number\">13</span>:<span class=\"number\">33</span>:<span class=\"number\">18</span> CST <span class=\"number\">2020</span> </span><br></pre></td></tr></table></figure>\n<h2 id=\"Here-文档\">Here 文档</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;&lt; token</span><br><span class=\"line\">text</span><br><span class=\"line\">token </span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n<p>它的格式分成开始标记（&lt;&lt; token）和结束标记（token）</p>\n<p>是否替换变量</p>\n<p><img src=\"/images/9942a6eef9782665069dfab6c57668e21de7d9f8.png\" alt=\"Pasted image 20220508104706.png\"></p>\n<h2 id=\"函数\">函数</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hello() &#123;</span><br><span class=\"line\">  echo <span class=\"string\">&quot;Hello $1&quot;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">10</span> <span class=\"comment\">##下一个命令可以用$?拿到返回值。</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"></span><br><span class=\"line\">$ hello world</span><br><span class=\"line\">Hello world</span><br></pre></td></tr></table></figure>\n<p>$1~$9：函数的第一个到第 9 个的参数。<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mtext>：函数所在的脚本名。</mtext><mi mathvariant=\"normal\">‘</mi></mrow><annotation encoding=\"application/x-tex\">0：函数所在的脚本名。\n`</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">0</span><span class=\"mord cjk_fallback\">：函数所在的脚本名。</span><span class=\"mord\">‘</span></span></span></span>#`：函数的参数总数。<br>\n$@：函数的全部参数，参数之间使用空格分隔。</p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover4.jpg","excerpt":"","more":"<p><a href=\"https://wangdoc.com/bash/intro.html\">https://wangdoc.com/bash/intro.html</a><br>\n<a href=\"https://wangdoc.com/bash/array.html\">https://wangdoc.com/bash/array.html</a></p>\n<h2 id=\"跨盘切换路径\">跨盘切换路径</h2>\n<p>跨盘符 切换目录 (如从 <code>c:/xxx</code> 切换到 <code>d:/xxx</code>) 需要加 <code>cd /d xxx</code> 参数</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /d d:/a/b </span><br></pre></td></tr></table></figure>\n<h2 id=\"切换到脚本所在路径\">切换到脚本所在路径</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd <span class=\"string\">&quot;$( cd &quot;</span>$( dirname <span class=\"string\">&quot;$0&quot;</span> )<span class=\"string\">&quot; &gt;/dev/null 2&gt;&amp;1 &amp;&amp; pwd )&quot;</span> </span><br></pre></td></tr></table></figure>\n<h3 id=\"获取环境变量\">获取环境变量</h3>\n<p>直接 <code>$VAR</code></p>\n<h2 id=\"IF\">IF</h2>\n<p>&lt;<a href=\"https://wangdoc.com/bash/condition.html#if-\">https://wangdoc.com/bash/condition.html#if-</a> 结构&gt;<br>\n<a href=\"https://wangdoc.com/bash/condition.html\">https://wangdoc.com/bash/condition.html</a><br>\n以下表达式用来判断字符串。<br>\n[ string ]：如果 string 不为空（长度大于 0），则判断为真。<br>\n[ -n string ]：如果字符串 string 的长度大于零，则判断为真。<br>\n[ -z string ]：如果字符串 string 的长度为零，则判断为真。<br>\n[ string1 = string2 ]：如果 string1 和 string2 相同，则判断为真。<br>\n[ string1 == string2 ] 等同于 [ string1 = string2 ]。<br>\n[ string1 != string2 ]：如果 string1 和 string2 不相同，则判断为真。<br>\n[ string1 ‘&gt;’ string2 ]：如果按照字典顺序 string1 排列在 string2 之后，则判断为真。<br>\n[ string1 ‘&lt;’ string2 ]：如果按照字典顺序 string1 排列在 string2 之前，则判断为真。</p>\n<p><img src=\"/images/ad5f286e4e7bc9726aea771fd8dd836bbbec47a5.png\" alt=\"static/attachment/Pasted image 20221008123124.png\"></p>\n<h3 id=\"获取环境变量并判断是否为空\">获取环境变量并判断是否为空</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># outside of this script:</span></span><br><span class=\"line\"><span class=\"comment\"># export AM_DEBUG=11111</span></span><br><span class=\"line\">echo $AM_DEBUG</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ $AM_DEBUG ]; then</span><br><span class=\"line\">   echo <span class=\"string\">&quot;Debug mode&quot;</span></span><br><span class=\"line\">   echo $AM_DEBUG</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">   echo <span class=\"string\">&quot;Not debug mode&quot;</span></span><br><span class=\"line\">fi</span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n<h2 id=\"For\">For</h2>\n<h3 id=\"执行-Bash-命令\">执行 Bash 命令</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> host in `ls`</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">echo $host</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<h2 id=\"遍历指定的数字\">遍历指定的数字</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> loop <span class=\"keyword\">in</span> <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span></span><br><span class=\"line\">do</span><br><span class=\"line\">  echo <span class=\"string\">&quot;v:$loop&quot;</span></span><br><span class=\"line\">done </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"范围\">范围</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> table <span class=\"keyword\">in</span> &#123;<span class=\"number\">2.</span><span class=\"number\">.100</span>.<span class=\"number\">.2</span>&#125;</span><br><span class=\"line\">do</span><br><span class=\"line\">echo $table</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ $table == <span class=\"number\">20</span> ]; then</span><br><span class=\"line\"><span class=\"keyword\">break</span></span><br><span class=\"line\">fi</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> ((i=<span class=\"number\">1</span>; i&lt;=<span class=\"number\">20</span>; i++));</span><br><span class=\"line\">do</span><br><span class=\"line\">  echo <span class=\"string\">&quot;v:$i&quot;</span></span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<h2 id=\"String\">String</h2>\n<h3 id=\"字符串操作\">字符串操作</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export TEST=123abc456abc789</span><br><span class=\"line\">echo $&#123;TEST:<span class=\"number\">0</span>:<span class=\"number\">3</span>&#125;          ===&gt;<span class=\"string\">&quot;123&quot;</span></span><br><span class=\"line\">echo $&#123;TEST:<span class=\"number\">3</span>:<span class=\"number\">3</span>&#125;           ===&gt;<span class=\"string\">&quot;abc&quot;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$&#123;varible#*string&#125;   从左往右，删除最短的一个以string结尾的子串，即截取第一个string子串之后的字符串</span><br><span class=\"line\">$&#123;varible##_string&#125;  从左往右，删除最长的一个以 string 结尾的子串，即截取最后一个 string 子串之后的字符串</span><br><span class=\"line\">$&#123;varible%string_&#125;   从右往左，删除最短的一个以 string 开头的子串，即截取最后一个 string 子串之前的字符串</span><br><span class=\"line\">$&#123;varible%%string\\*&#125; 从右往左，删除最长的一个以 string 开头的子串，即截取第一个 string 子串之前的字符串</span><br><span class=\"line\"></span><br><span class=\"line\">export TEST=123abc456abc789</span><br><span class=\"line\"></span><br><span class=\"line\">echo $&#123;TEST#*abc&#125;          ===&gt;删掉123abc，剩下456abc789 <span class=\"comment\">//输出是 456abc789</span></span><br><span class=\"line\"></span><br><span class=\"line\">echo $&#123;TEST##*abc&#125;       ===&gt;删掉123abc456abc，剩下<span class=\"number\">789</span></span><br><span class=\"line\"></span><br><span class=\"line\">echo $&#123;TEST%abc*&#125;        ===&gt;删掉abc789，剩下123abc456</span><br><span class=\"line\"></span><br><span class=\"line\">echo $&#123;TEST%%abc*&#125;    ===&gt;删掉abc456abc789，剩下<span class=\"number\">123</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"输出空行-换行\">输出空行|换行</h2>\n<p>echo<br>\necho</p>\n<h2 id=\"例子\">例子</h2>\n<h3 id=\"解压当前文件夹下面的所有-odp-文件到文件夹-下\">解压当前文件夹下面的所有 _.odp 文件到文件夹 _ 下</h3>\n<p>比如解压 abc.odp 到文件夹 abc 下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> host in `ls`</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">unzip -o  $host -d $&#123;host%.odp*&#125;</span><br><span class=\"line\">echo</span><br><span class=\"line\">echo</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<p><img src=\"static/img/58000e6169d9eb0c626a047315e34f38.png\" alt=\"image.png\"></p>\n<h2 id=\"命令的组合符-和\">命令的组合符&amp;&amp;和||</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Command1 &amp;&amp; Command2 </span><br></pre></td></tr></table></figure>\n<p>上面命令的意思是，如果 Command1 命令运行成功，则继续运行 Command2 命令。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Command1 || Command2 </span><br></pre></td></tr></table></figure>\n<p>上面命令的意思是，如果 Command1 命令运行失败，则继续运行 Command2 命令。</p>\n<h2 id=\"引号\">引号</h2>\n<p>单引号用于保留字符的字面含义</p>\n<p>双引号</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ echo <span class=\"string\">&quot;$SHELL&quot;</span></span><br><span class=\"line\">/<span class=\"built_in\">bin</span>/bash</span><br><span class=\"line\"></span><br><span class=\"line\">$ echo <span class=\"string\">&quot;`date`&quot;</span></span><br><span class=\"line\">Mon Jan <span class=\"number\">27</span> <span class=\"number\">13</span>:<span class=\"number\">33</span>:<span class=\"number\">18</span> CST <span class=\"number\">2020</span> </span><br></pre></td></tr></table></figure>\n<h2 id=\"Here-文档\">Here 文档</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;&lt; token</span><br><span class=\"line\">text</span><br><span class=\"line\">token </span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n<p>它的格式分成开始标记（&lt;&lt; token）和结束标记（token）</p>\n<p>是否替换变量</p>\n<p><img src=\"/images/9942a6eef9782665069dfab6c57668e21de7d9f8.png\" alt=\"Pasted image 20220508104706.png\"></p>\n<h2 id=\"函数\">函数</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hello() &#123;</span><br><span class=\"line\">  echo <span class=\"string\">&quot;Hello $1&quot;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">10</span> <span class=\"comment\">##下一个命令可以用$?拿到返回值。</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"></span><br><span class=\"line\">$ hello world</span><br><span class=\"line\">Hello world</span><br></pre></td></tr></table></figure>\n<p>$1~$9：函数的第一个到第 9 个的参数。<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mtext>：函数所在的脚本名。</mtext><mi mathvariant=\"normal\">‘</mi></mrow><annotation encoding=\"application/x-tex\">0：函数所在的脚本名。\n`</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">0</span><span class=\"mord cjk_fallback\">：函数所在的脚本名。</span><span class=\"mord\">‘</span></span></span></span>#`：函数的参数总数。<br>\n$@：函数的全部参数，参数之间使用空格分隔。</p>\n"},{"title":"contrastive learning","date":"2022-12-12T14:17:53.000Z","updated":"2022-12-12T14:40:12.000Z","aliases":["contrastive learning","Untitled 3"],"_content":"\n## 理解 1\n\n对比学习 Contrastive learning  \n\n- 相同图像最大化相似度 (因为都是同一个图像得到的)\n- 不同图片最小化相似度\n\n对比学习要做到 **相同的图像** 经过各类变换之后，依然能识别出是同一张图像，所以要 **最大化** 各类变换后图像的 **相似度**（因为都是同一个图像得到的）\n\n如果是不同的图像（即使经过各种变换可能看起来会很类似），就要 **最小化** 它们之间的 **相似度**\n\n## 理解 2\n\nhttps://zhuanlan.zhihu.com/p/471018370  \nhttps://zhuanlan.zhihu.com/p/367290573\n\n- 希望模型能识别出图 1 和图 2 是一个类别 (图 3 与图 1 图 2 不是一个类别)  \n\t- 对比学习不需要知道图 1 图 2 是冰墩墩以及图 3 雪容融  \n\t- 只需要知道到谁与谁相似，谁与谁不相似\n- 希望对比学习可以做到在特征空间中把 f1 和 f2 拉进，且远离 f3  \n- 比学习要达到的 **目标是** :\n\t- 所有 **相似的物体** 在 <u>特征空间相邻的区域</u>\n\t- **不相似的物体** 都在 <u>不相邻的区域</u>。\n- 可以使用代理任务（pretext task）来 **定义谁与谁相似**，谁与谁不相似  \n\t- 这些规则定义了哪张图与哪张图相似，哪张图与哪张图不相似，从而提供了一个监督信号去训练模型，这就是所谓的自监督  \n![static/attachment/Pasted image 20221212222852.png](/images/f692c29f6c1915c992cd32514c5f86d1b2bd8876.png)\n\n## Data Augmentation in Contrastive Learning\n\n![static/attachment/Pasted image 20221212222100.png](/images/61a28206c2d2fb89752cd37f37c8112fa3658e66.png)  \n![static/attachment/Pasted image 20221212223833.png](/images/08690bdfc1e6150bb42999e5439e49088317371c.png)\n","source":"_posts/contrastivelearning.md","raw":"---\ntitle: contrastive learning\ntags:\n  - public\ndate: 2022-12-12 22:17:53 \nupdated: 2022-12-12 22:40:12 \ncategories:\n  - research\naliases:\n  - contrastive learning\n  - Untitled 3\n---\n\n## 理解 1\n\n对比学习 Contrastive learning  \n\n- 相同图像最大化相似度 (因为都是同一个图像得到的)\n- 不同图片最小化相似度\n\n对比学习要做到 **相同的图像** 经过各类变换之后，依然能识别出是同一张图像，所以要 **最大化** 各类变换后图像的 **相似度**（因为都是同一个图像得到的）\n\n如果是不同的图像（即使经过各种变换可能看起来会很类似），就要 **最小化** 它们之间的 **相似度**\n\n## 理解 2\n\nhttps://zhuanlan.zhihu.com/p/471018370  \nhttps://zhuanlan.zhihu.com/p/367290573\n\n- 希望模型能识别出图 1 和图 2 是一个类别 (图 3 与图 1 图 2 不是一个类别)  \n\t- 对比学习不需要知道图 1 图 2 是冰墩墩以及图 3 雪容融  \n\t- 只需要知道到谁与谁相似，谁与谁不相似\n- 希望对比学习可以做到在特征空间中把 f1 和 f2 拉进，且远离 f3  \n- 比学习要达到的 **目标是** :\n\t- 所有 **相似的物体** 在 <u>特征空间相邻的区域</u>\n\t- **不相似的物体** 都在 <u>不相邻的区域</u>。\n- 可以使用代理任务（pretext task）来 **定义谁与谁相似**，谁与谁不相似  \n\t- 这些规则定义了哪张图与哪张图相似，哪张图与哪张图不相似，从而提供了一个监督信号去训练模型，这就是所谓的自监督  \n![static/attachment/Pasted image 20221212222852.png](/images/f692c29f6c1915c992cd32514c5f86d1b2bd8876.png)\n\n## Data Augmentation in Contrastive Learning\n\n![static/attachment/Pasted image 20221212222100.png](/images/61a28206c2d2fb89752cd37f37c8112fa3658e66.png)  \n![static/attachment/Pasted image 20221212223833.png](/images/08690bdfc1e6150bb42999e5439e49088317371c.png)\n","slug":"contrastivelearning","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io5001miwv908xcc08m","content":"<h2 id=\"理解-1\">理解 1</h2>\n<p>对比学习 Contrastive learning</p>\n<ul>\n<li>相同图像最大化相似度 (因为都是同一个图像得到的)</li>\n<li>不同图片最小化相似度</li>\n</ul>\n<p>对比学习要做到 <strong>相同的图像</strong> 经过各类变换之后，依然能识别出是同一张图像，所以要 <strong>最大化</strong> 各类变换后图像的 <strong>相似度</strong>（因为都是同一个图像得到的）</p>\n<p>如果是不同的图像（即使经过各种变换可能看起来会很类似），就要 <strong>最小化</strong> 它们之间的 <strong>相似度</strong></p>\n<h2 id=\"理解-2\">理解 2</h2>\n<p><a href=\"https://zhuanlan.zhihu.com/p/471018370\">https://zhuanlan.zhihu.com/p/471018370</a><br>\n<a href=\"https://zhuanlan.zhihu.com/p/367290573\">https://zhuanlan.zhihu.com/p/367290573</a></p>\n<ul>\n<li>希望模型能识别出图 1 和图 2 是一个类别 (图 3 与图 1 图 2 不是一个类别)\n<ul>\n<li>对比学习不需要知道图 1 图 2 是冰墩墩以及图 3 雪容融</li>\n<li>只需要知道到谁与谁相似，谁与谁不相似</li>\n</ul>\n</li>\n<li>希望对比学习可以做到在特征空间中把 f1 和 f2 拉进，且远离 f3</li>\n<li>比学习要达到的 <strong>目标是</strong> :\n<ul>\n<li>所有 <strong>相似的物体</strong> 在 <u>特征空间相邻的区域</u></li>\n<li><strong>不相似的物体</strong> 都在 <u>不相邻的区域</u>。</li>\n</ul>\n</li>\n<li>可以使用代理任务（pretext task）来 <strong>定义谁与谁相似</strong>，谁与谁不相似\n<ul>\n<li>这些规则定义了哪张图与哪张图相似，哪张图与哪张图不相似，从而提供了一个监督信号去训练模型，这就是所谓的自监督<br>\n<img src=\"/images/f692c29f6c1915c992cd32514c5f86d1b2bd8876.png\" alt=\"static/attachment/Pasted image 20221212222852.png\"></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Data-Augmentation-in-Contrastive-Learning\">Data Augmentation in Contrastive Learning</h2>\n<p><img src=\"/images/61a28206c2d2fb89752cd37f37c8112fa3658e66.png\" alt=\"static/attachment/Pasted image 20221212222100.png\"><br>\n<img src=\"/images/08690bdfc1e6150bb42999e5439e49088317371c.png\" alt=\"static/attachment/Pasted image 20221212223833.png\"></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover6.JPG","excerpt":"","more":"<h2 id=\"理解-1\">理解 1</h2>\n<p>对比学习 Contrastive learning</p>\n<ul>\n<li>相同图像最大化相似度 (因为都是同一个图像得到的)</li>\n<li>不同图片最小化相似度</li>\n</ul>\n<p>对比学习要做到 <strong>相同的图像</strong> 经过各类变换之后，依然能识别出是同一张图像，所以要 <strong>最大化</strong> 各类变换后图像的 <strong>相似度</strong>（因为都是同一个图像得到的）</p>\n<p>如果是不同的图像（即使经过各种变换可能看起来会很类似），就要 <strong>最小化</strong> 它们之间的 <strong>相似度</strong></p>\n<h2 id=\"理解-2\">理解 2</h2>\n<p><a href=\"https://zhuanlan.zhihu.com/p/471018370\">https://zhuanlan.zhihu.com/p/471018370</a><br>\n<a href=\"https://zhuanlan.zhihu.com/p/367290573\">https://zhuanlan.zhihu.com/p/367290573</a></p>\n<ul>\n<li>希望模型能识别出图 1 和图 2 是一个类别 (图 3 与图 1 图 2 不是一个类别)\n<ul>\n<li>对比学习不需要知道图 1 图 2 是冰墩墩以及图 3 雪容融</li>\n<li>只需要知道到谁与谁相似，谁与谁不相似</li>\n</ul>\n</li>\n<li>希望对比学习可以做到在特征空间中把 f1 和 f2 拉进，且远离 f3</li>\n<li>比学习要达到的 <strong>目标是</strong> :\n<ul>\n<li>所有 <strong>相似的物体</strong> 在 <u>特征空间相邻的区域</u></li>\n<li><strong>不相似的物体</strong> 都在 <u>不相邻的区域</u>。</li>\n</ul>\n</li>\n<li>可以使用代理任务（pretext task）来 <strong>定义谁与谁相似</strong>，谁与谁不相似\n<ul>\n<li>这些规则定义了哪张图与哪张图相似，哪张图与哪张图不相似，从而提供了一个监督信号去训练模型，这就是所谓的自监督<br>\n<img src=\"/images/f692c29f6c1915c992cd32514c5f86d1b2bd8876.png\" alt=\"static/attachment/Pasted image 20221212222852.png\"></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Data-Augmentation-in-Contrastive-Learning\">Data Augmentation in Contrastive Learning</h2>\n<p><img src=\"/images/61a28206c2d2fb89752cd37f37c8112fa3658e66.png\" alt=\"static/attachment/Pasted image 20221212222100.png\"><br>\n<img src=\"/images/08690bdfc1e6150bb42999e5439e49088317371c.png\" alt=\"static/attachment/Pasted image 20221212223833.png\"></p>\n"},{"title":"调试","date":"2022-09-01T11:32:19.000Z","updated":"2022-12-06T06:41:00.000Z","password":"","message":null,"abstract":null,"aliases":["调试"],"_content":"\n<a href='{% post_path python打包为exe %}'>python打包为exe</a>\n\n## 日志模块 Logging\n\n<a href='{% post_path python接口&继承 %}'>python接口&继承</a>  \n<a href='{% post_path python字符串 %}'>python字符串</a>  \n<a href='{% post_path python-partial %}'>python-partial</a>  \n<a href='{% post_path python问题手册 %}'>python问题手册</a>  \n<a href='{% post_path python Exception %}'>python Exception</a>  \n<a href='{% post_path python 文档格式PEP8 %}'>python 文档格式PEP8</a>\n\n## 获取用户目录\n\n```python\nimport os\n\nprint os.environ['HOME']\nprint os.path.expandvars('$HOME')\nprint os.path.expanduser('~') \n```\n\n## 环境变量\n\n```python\nimport os\nos.getenv('ENV_PORT')\nos.environ.get('ENV_PORT')\nos.environ['ENV_PORT'] \n```\n\n# 调试\n\n获取行号和文件名称\n\n```python\n#python3\nfrom inspect import currentframe, getframeinfo\n\nframeinfo = getframeinfo(currentframe())\n\nprint(frameinfo.filename, frameinfo.lineno) \n```\n\n# 计算 MD5\n\n```python\nimport hashlib\nprint(hashlib.sha1(\"aaaa\".encode(\"utf8\")).hexdigest())\n\n```\n\n## 日志到代码\n\n<https://www.jetbrains.com/help/idea/setting-log-options.html>  \n<https://stackoverflow.com/questions/7930844/is-it-possible-to-have-clickable-class-names-in-console-output-in-intellij[>\n\n<a href='{% post_path pycharm日志(console)跳转文件 %}'>pycharm日志(console)跳转文件</a>\n\n## 官网\n\n[https://docs.python.org/2/library/logging.config.html](https://docs.python.org/2/library/logging.config.html)\n\n## 文件和控制台共同输出日志\n\n```python\nimport argparse\nimport sys\nparser = argparse.ArgumentParser(description=\"\"\"程序描述\"\"\")\nparser.add_argument(\"-f\", type=str, default=None, help=\"运行参数\")\nargs = parser.parse_args()\n\nif args.f is None:\n    parser.print_help()\n    sys.exit(-1)\n\nimport logging\nimport os.path\nlogger = logging.getLogger(\"main\")\nlogger.setLevel(logging.DEBUG)\n\nformatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\nstreamHandler = logging.StreamHandler()\nstreamHandler.setFormatter(formatter)\nlogger.addHandler(streamHandler)\n\nfilehandler = logging.FileHandler(os.path.basename(__file__)+\".log\")\nfilehandler.setLevel(logging.INFO) # 文件输出大于 INFO 的日志\nfilehandler.setFormatter(formatter)\nlogger.addHandler(filehandler)\n\n\n# 其他地方使用\nimport os\nlogger = logging.getLogger('main.'+os.path.basename(__file__))\n\n# logger.debug(\"######### start program {} ########## \".format(__file__))\n# logger.info(\"######### start program {} ########## \".format(__file__))\n# logger.error(\"######### start program {} ########## \".format(__file__))\n```\n\n## 多文件共享日志\n\nmain.py\n\n```\nimport logging\n\nlogger = logging.getLogger('main')\nlogger.setLevel(level=logging.DEBUG)\n\n# Handler\nhandler = logging.FileHandler('log.log')\nhandler.setLevel(logging.DEBUG)\nformatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\nhandler.setFormatter(formatter)\nlogger.addHandler(handler)\n\nlogger.info('Main Info')\nlogger.debug('Main Debug')\nlogger.error('Main Error')\n\n# 调用子文件\nfrom sub import *\ngetf()\n\n```\n\nsub.py\n\n```\nimport logging\n\n# main.* 随便取名字\nlogger = logging.getLogger('main.sub')\ndef getf():\n    logger.info('Core Info')\n    logger.debug('Core Debug')\n    logger.error('Core Error')\n```\n\n文件内容：\n![image.png](static/img/b71328f8c3928a1c6bd397ecd1e36e34.png)\n\n## 配置日志到文件\n\n```\nimport logging\n\n#输出的日志文件目录\nLOG_FILE_NAME = \"logs/log.log\"\n\n# 得到 logger 对象\nlogger = logging.getLogger()\n```\n\nfilename=\"./logs/access.log\" 为路径，logs 文件夹要提前创建\n\n```\nimport os\nimport logging\nlogdir=\"./logs\"\nif not os.path.isdir(logdir):\n    os.mkdir(logdir)\nlogging.basicConfig(\n    # filename=\"./logs/access.log\",\n    level=logging.INFO,\n    format=\"%(asctime)s %(name)s %(levelname)s %(message)s\",\n    datefmt='%Y-%m-%d  %H:%M:%S %a'\n)\nlogging.info(\"start application.....\")\n```\n\n## 日志级别\n\n```\nCRITICAL > ERROR > WARNING > INFO > DEBUG\n```\n\n## Demo\n\n```\nimport logging\n\nlogging.basicConfig(\n    filename=\"./access.log\",\n    level=logging.INFO,\n    format=\"%(asctime)s %(name)s %(levelname)s %(message)s\",\n    datefmt='%Y-%m-%d  %H:%M:%S %a'\n)\n\nlogging.info(\"start application.....\")\n\n\ndef debug(msg):\n    logging.debug(msg)\n\n\ndef info(msg):\n    logging.info(msg)\n\n\ndef error(msg):\n    logging.error(msg)\n```\n\n## 输出到 sys.stdout\n\n默认是输出到 sys.stderr，在 kettle 中会报错。\n\n```\nimport sys\nlogging.basicConfig(\n    stream=sys.stdout\n)\n```\n\n## 常见问题\n\nPython.h：没有那个文件或目录  \nyum install python-devel\n\n## 指定函数返回类型\n\n```\ndef getChrome(implicitly_wait_time=implicitly_wait_time) -> webdriver:\n```\n\n## 指定参数类型\n\n```\ndef __init__(self, driver:webdriver):\n```\n\n## Pycharm 中指定属性类型，进行代码提示\n\npage = None  # type: Page  \n  log=None # type: logging\n\n```\nimport logging\nfrom playwright.sync_api import Page\n\n\nclass DeployCommandManager:\n    # page 对象，也就是浏览器中的页面\n    page = None  # type: Page\n    log=None # type: logging\n\n    def __init__(self, page):\n        \"\"\"\n        :param page:\n        \"\"\"\n        self.page = page\n    def\n\n```\n\n## Python 运维\n\n远程执行脚本\n\n```python\nimport logging\nimport os\n\nlogger = logging.getLogger('main')\nlogger.setLevel(level=logging.DEBUG)\nif not os.path.exists(\"logs\"):\n    os.mkdir(\"logs\")\n\n# 日志格式\nformatter=logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\n# 输出到日志\nhandler = logging.FileHandler('logs/vaeopr.log')\nhandler.setLevel(logging.DEBUG)\nhandler.setFormatter(formatter)\nlogger.addHandler(handler)\n# 数据到控制台\nstreamHandler=logging.StreamHandler()\nstreamHandler.setFormatter(formatter)\nlogger.addHandler(streamHandler)\n\n# 使用\nlogger.debug(\"application start for file {}\".format(__file__))\n\n# 关闭连接\nimport paramiko\nclass SSHClient:\n    def __init__(self,hostname=\"192.168.100.9\",port=22,username=\"root\",password=\"3ce7bbaddf3bd526f124e1709c61fb68\"):\n        self.__ssh = paramiko.SSHClient()\n        # 允许将信任的主机自动加入到host_allow 列表，此方法必须放在connect方法的前面\n        self.__ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n        # 调用connect方法连接服务器\n        self.__ssh.connect(hostname=hostname, port=port, username=username, password=password)\n    def getError(self):\n        return self.__error\n\n    def getOutput(self):\n        return self.__output\n\n\n    def __runCommand(self,cmd):\n        logger.debug(\"command = [{}]\".format(cmd))\n        stdin, stdout, stderr = self.__ssh.exec_command(cmd)\n        self.__error=self.__decodeCommandRes(stderr)\n        self.__output=self.__decodeCommandRes(stdout)\n        logger.debug(\"stderr: {}, stdout: {}\".format(self.__decodeCommandRes(stderr),self.__decodeCommandRes(stdout)))\n        if self.__error:\n            return False\n        else:\n            return True\n\n    def __decodeCommandRes(self,std):\n        return std.read().decode()\n\n    def exec(self, cmd):\n        self.__runCommand(cmd)\n        return  self\n\nssh=SSHClient()\n\n# 添加快捷命令\nprint(ssh.exec(\"cat ~/.bashrc|grep nvidia-smi\").getOutput())\nprint(ssh.exec(\"cat ~/.ssh/authorized_keys\").getOutput())\n```\n\n## \\*\\*kwargs\n\n![image.png](static/img/1605300719a74be1fce4ca401678bb3.png)\n\n# 获取执行时间\n\n```python\nstart_time = time.time()\nyour code \nend_time = time.time()\nprint('Epoch: {}, Test set ELBO: {}, time elapse for current epoch: {}'\n\t  .format(epoch, elbo, end_time - start_time))\n\n```\n\n## 更改当前工作目录\n\n```python\nimport os\nos.chdir(\"/root/phd/Bagel-master\")   #修改当前工作目录\nos.getcwd()    #获取当前工作目录\n```\n\n## 接口\n\n```python\nimport abc\nclass myinterface(abc.ABC):\n      @abc.abstractclassmethod\n      def display():\n        pass\nprint(\"This is Myclass\")\nclass Myclass(myinterface):\n      def display():\n        pass\nobj=Myclass() \n```\n\n```\n```\n\n## ERROR: Cannot Uninstall 'PyYAML'. It is a Distutils Installed Project and Thus We Cannot Accurately Determine Which Files Belong to it Which Would Lead to Only a Partial Uninstall.\n\n```python\npip3 install --ignore-installed PyYAML \n```\n","source":"_posts/Python手册.md","raw":"---\ntitle: 调试\ntags:\n  - \ndate: 2022-09-01 19:32:19 \nupdated: 2022-12-06 14:41:00 \npassword: \"\"\nmessage: \nabstract: \naliases:\n  - 调试\n---\n\n<a href='{% post_path python打包为exe %}'>python打包为exe</a>\n\n## 日志模块 Logging\n\n<a href='{% post_path python接口&继承 %}'>python接口&继承</a>  \n<a href='{% post_path python字符串 %}'>python字符串</a>  \n<a href='{% post_path python-partial %}'>python-partial</a>  \n<a href='{% post_path python问题手册 %}'>python问题手册</a>  \n<a href='{% post_path python Exception %}'>python Exception</a>  \n<a href='{% post_path python 文档格式PEP8 %}'>python 文档格式PEP8</a>\n\n## 获取用户目录\n\n```python\nimport os\n\nprint os.environ['HOME']\nprint os.path.expandvars('$HOME')\nprint os.path.expanduser('~') \n```\n\n## 环境变量\n\n```python\nimport os\nos.getenv('ENV_PORT')\nos.environ.get('ENV_PORT')\nos.environ['ENV_PORT'] \n```\n\n# 调试\n\n获取行号和文件名称\n\n```python\n#python3\nfrom inspect import currentframe, getframeinfo\n\nframeinfo = getframeinfo(currentframe())\n\nprint(frameinfo.filename, frameinfo.lineno) \n```\n\n# 计算 MD5\n\n```python\nimport hashlib\nprint(hashlib.sha1(\"aaaa\".encode(\"utf8\")).hexdigest())\n\n```\n\n## 日志到代码\n\n<https://www.jetbrains.com/help/idea/setting-log-options.html>  \n<https://stackoverflow.com/questions/7930844/is-it-possible-to-have-clickable-class-names-in-console-output-in-intellij[>\n\n<a href='{% post_path pycharm日志(console)跳转文件 %}'>pycharm日志(console)跳转文件</a>\n\n## 官网\n\n[https://docs.python.org/2/library/logging.config.html](https://docs.python.org/2/library/logging.config.html)\n\n## 文件和控制台共同输出日志\n\n```python\nimport argparse\nimport sys\nparser = argparse.ArgumentParser(description=\"\"\"程序描述\"\"\")\nparser.add_argument(\"-f\", type=str, default=None, help=\"运行参数\")\nargs = parser.parse_args()\n\nif args.f is None:\n    parser.print_help()\n    sys.exit(-1)\n\nimport logging\nimport os.path\nlogger = logging.getLogger(\"main\")\nlogger.setLevel(logging.DEBUG)\n\nformatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\nstreamHandler = logging.StreamHandler()\nstreamHandler.setFormatter(formatter)\nlogger.addHandler(streamHandler)\n\nfilehandler = logging.FileHandler(os.path.basename(__file__)+\".log\")\nfilehandler.setLevel(logging.INFO) # 文件输出大于 INFO 的日志\nfilehandler.setFormatter(formatter)\nlogger.addHandler(filehandler)\n\n\n# 其他地方使用\nimport os\nlogger = logging.getLogger('main.'+os.path.basename(__file__))\n\n# logger.debug(\"######### start program {} ########## \".format(__file__))\n# logger.info(\"######### start program {} ########## \".format(__file__))\n# logger.error(\"######### start program {} ########## \".format(__file__))\n```\n\n## 多文件共享日志\n\nmain.py\n\n```\nimport logging\n\nlogger = logging.getLogger('main')\nlogger.setLevel(level=logging.DEBUG)\n\n# Handler\nhandler = logging.FileHandler('log.log')\nhandler.setLevel(logging.DEBUG)\nformatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\nhandler.setFormatter(formatter)\nlogger.addHandler(handler)\n\nlogger.info('Main Info')\nlogger.debug('Main Debug')\nlogger.error('Main Error')\n\n# 调用子文件\nfrom sub import *\ngetf()\n\n```\n\nsub.py\n\n```\nimport logging\n\n# main.* 随便取名字\nlogger = logging.getLogger('main.sub')\ndef getf():\n    logger.info('Core Info')\n    logger.debug('Core Debug')\n    logger.error('Core Error')\n```\n\n文件内容：\n![image.png](static/img/b71328f8c3928a1c6bd397ecd1e36e34.png)\n\n## 配置日志到文件\n\n```\nimport logging\n\n#输出的日志文件目录\nLOG_FILE_NAME = \"logs/log.log\"\n\n# 得到 logger 对象\nlogger = logging.getLogger()\n```\n\nfilename=\"./logs/access.log\" 为路径，logs 文件夹要提前创建\n\n```\nimport os\nimport logging\nlogdir=\"./logs\"\nif not os.path.isdir(logdir):\n    os.mkdir(logdir)\nlogging.basicConfig(\n    # filename=\"./logs/access.log\",\n    level=logging.INFO,\n    format=\"%(asctime)s %(name)s %(levelname)s %(message)s\",\n    datefmt='%Y-%m-%d  %H:%M:%S %a'\n)\nlogging.info(\"start application.....\")\n```\n\n## 日志级别\n\n```\nCRITICAL > ERROR > WARNING > INFO > DEBUG\n```\n\n## Demo\n\n```\nimport logging\n\nlogging.basicConfig(\n    filename=\"./access.log\",\n    level=logging.INFO,\n    format=\"%(asctime)s %(name)s %(levelname)s %(message)s\",\n    datefmt='%Y-%m-%d  %H:%M:%S %a'\n)\n\nlogging.info(\"start application.....\")\n\n\ndef debug(msg):\n    logging.debug(msg)\n\n\ndef info(msg):\n    logging.info(msg)\n\n\ndef error(msg):\n    logging.error(msg)\n```\n\n## 输出到 sys.stdout\n\n默认是输出到 sys.stderr，在 kettle 中会报错。\n\n```\nimport sys\nlogging.basicConfig(\n    stream=sys.stdout\n)\n```\n\n## 常见问题\n\nPython.h：没有那个文件或目录  \nyum install python-devel\n\n## 指定函数返回类型\n\n```\ndef getChrome(implicitly_wait_time=implicitly_wait_time) -> webdriver:\n```\n\n## 指定参数类型\n\n```\ndef __init__(self, driver:webdriver):\n```\n\n## Pycharm 中指定属性类型，进行代码提示\n\npage = None  # type: Page  \n  log=None # type: logging\n\n```\nimport logging\nfrom playwright.sync_api import Page\n\n\nclass DeployCommandManager:\n    # page 对象，也就是浏览器中的页面\n    page = None  # type: Page\n    log=None # type: logging\n\n    def __init__(self, page):\n        \"\"\"\n        :param page:\n        \"\"\"\n        self.page = page\n    def\n\n```\n\n## Python 运维\n\n远程执行脚本\n\n```python\nimport logging\nimport os\n\nlogger = logging.getLogger('main')\nlogger.setLevel(level=logging.DEBUG)\nif not os.path.exists(\"logs\"):\n    os.mkdir(\"logs\")\n\n# 日志格式\nformatter=logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\n# 输出到日志\nhandler = logging.FileHandler('logs/vaeopr.log')\nhandler.setLevel(logging.DEBUG)\nhandler.setFormatter(formatter)\nlogger.addHandler(handler)\n# 数据到控制台\nstreamHandler=logging.StreamHandler()\nstreamHandler.setFormatter(formatter)\nlogger.addHandler(streamHandler)\n\n# 使用\nlogger.debug(\"application start for file {}\".format(__file__))\n\n# 关闭连接\nimport paramiko\nclass SSHClient:\n    def __init__(self,hostname=\"192.168.100.9\",port=22,username=\"root\",password=\"3ce7bbaddf3bd526f124e1709c61fb68\"):\n        self.__ssh = paramiko.SSHClient()\n        # 允许将信任的主机自动加入到host_allow 列表，此方法必须放在connect方法的前面\n        self.__ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n        # 调用connect方法连接服务器\n        self.__ssh.connect(hostname=hostname, port=port, username=username, password=password)\n    def getError(self):\n        return self.__error\n\n    def getOutput(self):\n        return self.__output\n\n\n    def __runCommand(self,cmd):\n        logger.debug(\"command = [{}]\".format(cmd))\n        stdin, stdout, stderr = self.__ssh.exec_command(cmd)\n        self.__error=self.__decodeCommandRes(stderr)\n        self.__output=self.__decodeCommandRes(stdout)\n        logger.debug(\"stderr: {}, stdout: {}\".format(self.__decodeCommandRes(stderr),self.__decodeCommandRes(stdout)))\n        if self.__error:\n            return False\n        else:\n            return True\n\n    def __decodeCommandRes(self,std):\n        return std.read().decode()\n\n    def exec(self, cmd):\n        self.__runCommand(cmd)\n        return  self\n\nssh=SSHClient()\n\n# 添加快捷命令\nprint(ssh.exec(\"cat ~/.bashrc|grep nvidia-smi\").getOutput())\nprint(ssh.exec(\"cat ~/.ssh/authorized_keys\").getOutput())\n```\n\n## \\*\\*kwargs\n\n![image.png](static/img/1605300719a74be1fce4ca401678bb3.png)\n\n# 获取执行时间\n\n```python\nstart_time = time.time()\nyour code \nend_time = time.time()\nprint('Epoch: {}, Test set ELBO: {}, time elapse for current epoch: {}'\n\t  .format(epoch, elbo, end_time - start_time))\n\n```\n\n## 更改当前工作目录\n\n```python\nimport os\nos.chdir(\"/root/phd/Bagel-master\")   #修改当前工作目录\nos.getcwd()    #获取当前工作目录\n```\n\n## 接口\n\n```python\nimport abc\nclass myinterface(abc.ABC):\n      @abc.abstractclassmethod\n      def display():\n        pass\nprint(\"This is Myclass\")\nclass Myclass(myinterface):\n      def display():\n        pass\nobj=Myclass() \n```\n\n```\n```\n\n## ERROR: Cannot Uninstall 'PyYAML'. It is a Distutils Installed Project and Thus We Cannot Accurately Determine Which Files Belong to it Which Would Lead to Only a Partial Uninstall.\n\n```python\npip3 install --ignore-installed PyYAML \n```\n","slug":"Python手册","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io5001qiwv9c8wlfm94","content":"<p><a href=''>python打包为exe</a></p>\n<h2 id=\"日志模块-Logging\">日志模块 Logging</h2>\n<p><a href=''>python接口&amp;继承</a><br>\n<a href=''>python字符串</a><br>\n<a href=''>python-partial</a><br>\n<a href=''>python问题手册</a><br>\n<a href=''>python Exception</a><br>\n<a href=''>python 文档格式PEP8</a></p>\n<h2 id=\"获取用户目录\">获取用户目录</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span> os.environ[<span class=\"string\">&#x27;HOME&#x27;</span>]</span><br><span class=\"line\"><span class=\"built_in\">print</span> os.path.expandvars(<span class=\"string\">&#x27;$HOME&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span> os.path.expanduser(<span class=\"string\">&#x27;~&#x27;</span>) </span><br></pre></td></tr></table></figure>\n<h2 id=\"环境变量\">环境变量</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.getenv(<span class=\"string\">&#x27;ENV_PORT&#x27;</span>)</span><br><span class=\"line\">os.environ.get(<span class=\"string\">&#x27;ENV_PORT&#x27;</span>)</span><br><span class=\"line\">os.environ[<span class=\"string\">&#x27;ENV_PORT&#x27;</span>] </span><br></pre></td></tr></table></figure>\n<h1>调试</h1>\n<p>获取行号和文件名称</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#python3</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> inspect <span class=\"keyword\">import</span> currentframe, getframeinfo</span><br><span class=\"line\"></span><br><span class=\"line\">frameinfo = getframeinfo(currentframe())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(frameinfo.filename, frameinfo.lineno) </span><br></pre></td></tr></table></figure>\n<h1>计算 MD5</h1>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> hashlib</span><br><span class=\"line\"><span class=\"built_in\">print</span>(hashlib.sha1(<span class=\"string\">&quot;aaaa&quot;</span>.encode(<span class=\"string\">&quot;utf8&quot;</span>)).hexdigest())</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"日志到代码\">日志到代码</h2>\n<p><a href=\"https://www.jetbrains.com/help/idea/setting-log-options.html\">https://www.jetbrains.com/help/idea/setting-log-options.html</a><br>\n<a href=\"https://stackoverflow.com/questions/7930844/is-it-possible-to-have-clickable-class-names-in-console-output-in-intellij%5B\">https://stackoverflow.com/questions/7930844/is-it-possible-to-have-clickable-class-names-in-console-output-in-intellij[</a></p>\n<p><a href=''>pycharm日志(console)跳转文件</a></p>\n<h2 id=\"官网\">官网</h2>\n<p><a href=\"https://docs.python.org/2/library/logging.config.html\">https://docs.python.org/2/library/logging.config.html</a></p>\n<h2 id=\"文件和控制台共同输出日志\">文件和控制台共同输出日志</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> argparse</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\">parser = argparse.ArgumentParser(description=<span class=\"string\">&quot;&quot;&quot;程序描述&quot;&quot;&quot;</span>)</span><br><span class=\"line\">parser.add_argument(<span class=\"string\">&quot;-f&quot;</span>, <span class=\"built_in\">type</span>=<span class=\"built_in\">str</span>, default=<span class=\"literal\">None</span>, <span class=\"built_in\">help</span>=<span class=\"string\">&quot;运行参数&quot;</span>)</span><br><span class=\"line\">args = parser.parse_args()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> args.f <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">    parser.print_help()</span><br><span class=\"line\">    sys.exit(-<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\"><span class=\"keyword\">import</span> os.path</span><br><span class=\"line\">logger = logging.getLogger(<span class=\"string\">&quot;main&quot;</span>)</span><br><span class=\"line\">logger.setLevel(logging.DEBUG)</span><br><span class=\"line\"></span><br><span class=\"line\">formatter = logging.Formatter(<span class=\"string\">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)</span><br><span class=\"line\">streamHandler = logging.StreamHandler()</span><br><span class=\"line\">streamHandler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(streamHandler)</span><br><span class=\"line\"></span><br><span class=\"line\">filehandler = logging.FileHandler(os.path.basename(__file__)+<span class=\"string\">&quot;.log&quot;</span>)</span><br><span class=\"line\">filehandler.setLevel(logging.INFO) <span class=\"comment\"># 文件输出大于 INFO 的日志</span></span><br><span class=\"line\">filehandler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(filehandler)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 其他地方使用</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">logger = logging.getLogger(<span class=\"string\">&#x27;main.&#x27;</span>+os.path.basename(__file__))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># logger.debug(&quot;######### start program &#123;&#125; ########## &quot;.format(__file__))</span></span><br><span class=\"line\"><span class=\"comment\"># logger.info(&quot;######### start program &#123;&#125; ########## &quot;.format(__file__))</span></span><br><span class=\"line\"><span class=\"comment\"># logger.error(&quot;######### start program &#123;&#125; ########## &quot;.format(__file__))</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"多文件共享日志\">多文件共享日志</h2>\n<p><a href=\"http://main.py\">main.py</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\"></span><br><span class=\"line\">logger = logging.getLogger(&#x27;main&#x27;)</span><br><span class=\"line\">logger.setLevel(level=logging.DEBUG)</span><br><span class=\"line\"></span><br><span class=\"line\"># Handler</span><br><span class=\"line\">handler = logging.FileHandler(&#x27;log.log&#x27;)</span><br><span class=\"line\">handler.setLevel(logging.DEBUG)</span><br><span class=\"line\">formatter = logging.Formatter(&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;)</span><br><span class=\"line\">handler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(handler)</span><br><span class=\"line\"></span><br><span class=\"line\">logger.info(&#x27;Main Info&#x27;)</span><br><span class=\"line\">logger.debug(&#x27;Main Debug&#x27;)</span><br><span class=\"line\">logger.error(&#x27;Main Error&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\"># 调用子文件</span><br><span class=\"line\">from sub import *</span><br><span class=\"line\">getf()</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><a href=\"http://sub.py\">sub.py</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\"></span><br><span class=\"line\"># main.* 随便取名字</span><br><span class=\"line\">logger = logging.getLogger(&#x27;main.sub&#x27;)</span><br><span class=\"line\">def getf():</span><br><span class=\"line\">    logger.info(&#x27;Core Info&#x27;)</span><br><span class=\"line\">    logger.debug(&#x27;Core Debug&#x27;)</span><br><span class=\"line\">    logger.error(&#x27;Core Error&#x27;)</span><br></pre></td></tr></table></figure>\n<p>文件内容：<br>\n<img src=\"static/img/b71328f8c3928a1c6bd397ecd1e36e34.png\" alt=\"image.png\"></p>\n<h2 id=\"配置日志到文件\">配置日志到文件</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\"></span><br><span class=\"line\">#输出的日志文件目录</span><br><span class=\"line\">LOG_FILE_NAME = &quot;logs/log.log&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># 得到 logger 对象</span><br><span class=\"line\">logger = logging.getLogger()</span><br></pre></td></tr></table></figure>\n<p>filename=“./logs/access.log” 为路径，logs 文件夹要提前创建</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import os</span><br><span class=\"line\">import logging</span><br><span class=\"line\">logdir=&quot;./logs&quot;</span><br><span class=\"line\">if not os.path.isdir(logdir):</span><br><span class=\"line\">    os.mkdir(logdir)</span><br><span class=\"line\">logging.basicConfig(</span><br><span class=\"line\">    # filename=&quot;./logs/access.log&quot;,</span><br><span class=\"line\">    level=logging.INFO,</span><br><span class=\"line\">    format=&quot;%(asctime)s %(name)s %(levelname)s %(message)s&quot;,</span><br><span class=\"line\">    datefmt=&#x27;%Y-%m-%d  %H:%M:%S %a&#x27;</span><br><span class=\"line\">)</span><br><span class=\"line\">logging.info(&quot;start application.....&quot;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"日志级别\">日志级别</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CRITICAL &gt; ERROR &gt; WARNING &gt; INFO &gt; DEBUG</span><br></pre></td></tr></table></figure>\n<h2 id=\"Demo\">Demo</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\"></span><br><span class=\"line\">logging.basicConfig(</span><br><span class=\"line\">    filename=&quot;./access.log&quot;,</span><br><span class=\"line\">    level=logging.INFO,</span><br><span class=\"line\">    format=&quot;%(asctime)s %(name)s %(levelname)s %(message)s&quot;,</span><br><span class=\"line\">    datefmt=&#x27;%Y-%m-%d  %H:%M:%S %a&#x27;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">logging.info(&quot;start application.....&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">def debug(msg):</span><br><span class=\"line\">    logging.debug(msg)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">def info(msg):</span><br><span class=\"line\">    logging.info(msg)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">def error(msg):</span><br><span class=\"line\">    logging.error(msg)</span><br></pre></td></tr></table></figure>\n<h2 id=\"输出到-sys-stdout\">输出到 sys.stdout</h2>\n<p>默认是输出到 sys.stderr，在 kettle 中会报错。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import sys</span><br><span class=\"line\">logging.basicConfig(</span><br><span class=\"line\">    stream=sys.stdout</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h2 id=\"常见问题\">常见问题</h2>\n<p>Python.h：没有那个文件或目录<br>\nyum install python-devel</p>\n<h2 id=\"指定函数返回类型\">指定函数返回类型</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def getChrome(implicitly_wait_time=implicitly_wait_time) -&gt; webdriver:</span><br></pre></td></tr></table></figure>\n<h2 id=\"指定参数类型\">指定参数类型</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def __init__(self, driver:webdriver):</span><br></pre></td></tr></table></figure>\n<h2 id=\"Pycharm-中指定属性类型，进行代码提示\">Pycharm 中指定属性类型，进行代码提示</h2>\n<p>page = None  # type: Page<br>\n  log=None # type: logging</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\">from playwright.sync_api import Page</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">class DeployCommandManager:</span><br><span class=\"line\">    # page 对象，也就是浏览器中的页面</span><br><span class=\"line\">    page = None  # type: Page</span><br><span class=\"line\">    log=None # type: logging</span><br><span class=\"line\"></span><br><span class=\"line\">    def __init__(self, page):</span><br><span class=\"line\">        &quot;&quot;&quot;</span><br><span class=\"line\">        :param page:</span><br><span class=\"line\">        &quot;&quot;&quot;</span><br><span class=\"line\">        self.page = page</span><br><span class=\"line\">    def</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"Python-运维\">Python 运维</h2>\n<p>远程执行脚本</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\">logger = logging.getLogger(<span class=\"string\">&#x27;main&#x27;</span>)</span><br><span class=\"line\">logger.setLevel(level=logging.DEBUG)</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">not</span> os.path.exists(<span class=\"string\">&quot;logs&quot;</span>):</span><br><span class=\"line\">    os.mkdir(<span class=\"string\">&quot;logs&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 日志格式</span></span><br><span class=\"line\">formatter=logging.Formatter(<span class=\"string\">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\"># 输出到日志</span></span><br><span class=\"line\">handler = logging.FileHandler(<span class=\"string\">&#x27;logs/vaeopr.log&#x27;</span>)</span><br><span class=\"line\">handler.setLevel(logging.DEBUG)</span><br><span class=\"line\">handler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(handler)</span><br><span class=\"line\"><span class=\"comment\"># 数据到控制台</span></span><br><span class=\"line\">streamHandler=logging.StreamHandler()</span><br><span class=\"line\">streamHandler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(streamHandler)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 使用</span></span><br><span class=\"line\">logger.debug(<span class=\"string\">&quot;application start for file &#123;&#125;&quot;</span>.<span class=\"built_in\">format</span>(__file__))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 关闭连接</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> paramiko</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SSHClient</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self,hostname=<span class=\"string\">&quot;192.168.100.9&quot;</span>,port=<span class=\"number\">22</span>,username=<span class=\"string\">&quot;root&quot;</span>,password=<span class=\"string\">&quot;3ce7bbaddf3bd526f124e1709c61fb68&quot;</span></span>):</span><br><span class=\"line\">        self.__ssh = paramiko.SSHClient()</span><br><span class=\"line\">        <span class=\"comment\"># 允许将信任的主机自动加入到host_allow 列表，此方法必须放在connect方法的前面</span></span><br><span class=\"line\">        self.__ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span><br><span class=\"line\">        <span class=\"comment\"># 调用connect方法连接服务器</span></span><br><span class=\"line\">        self.__ssh.connect(hostname=hostname, port=port, username=username, password=password)</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">getError</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.__error</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">getOutput</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.__output</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__runCommand</span>(<span class=\"params\">self,cmd</span>):</span><br><span class=\"line\">        logger.debug(<span class=\"string\">&quot;command = [&#123;&#125;]&quot;</span>.<span class=\"built_in\">format</span>(cmd))</span><br><span class=\"line\">        stdin, stdout, stderr = self.__ssh.exec_command(cmd)</span><br><span class=\"line\">        self.__error=self.__decodeCommandRes(stderr)</span><br><span class=\"line\">        self.__output=self.__decodeCommandRes(stdout)</span><br><span class=\"line\">        logger.debug(<span class=\"string\">&quot;stderr: &#123;&#125;, stdout: &#123;&#125;&quot;</span>.<span class=\"built_in\">format</span>(self.__decodeCommandRes(stderr),self.__decodeCommandRes(stdout)))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.__error:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__decodeCommandRes</span>(<span class=\"params\">self,std</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> std.read().decode()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">exec</span>(<span class=\"params\">self, cmd</span>):</span><br><span class=\"line\">        self.__runCommand(cmd)</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  self</span><br><span class=\"line\"></span><br><span class=\"line\">ssh=SSHClient()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 添加快捷命令</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(ssh.<span class=\"built_in\">exec</span>(<span class=\"string\">&quot;cat ~/.bashrc|grep nvidia-smi&quot;</span>).getOutput())</span><br><span class=\"line\"><span class=\"built_in\">print</span>(ssh.<span class=\"built_in\">exec</span>(<span class=\"string\">&quot;cat ~/.ssh/authorized_keys&quot;</span>).getOutput())</span><br></pre></td></tr></table></figure>\n<h2 id=\"kwargs\">**kwargs</h2>\n<p><img src=\"static/img/1605300719a74be1fce4ca401678bb3.png\" alt=\"image.png\"></p>\n<h1>获取执行时间</h1>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">start_time = time.time()</span><br><span class=\"line\">your code </span><br><span class=\"line\">end_time = time.time()</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Epoch: &#123;&#125;, Test set ELBO: &#123;&#125;, time elapse for current epoch: &#123;&#125;&#x27;</span></span><br><span class=\"line\">\t  .<span class=\"built_in\">format</span>(epoch, elbo, end_time - start_time))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"更改当前工作目录\">更改当前工作目录</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.chdir(<span class=\"string\">&quot;/root/phd/Bagel-master&quot;</span>)   <span class=\"comment\">#修改当前工作目录</span></span><br><span class=\"line\">os.getcwd()    <span class=\"comment\">#获取当前工作目录</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"接口\">接口</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> abc</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">myinterface</span>(abc.ABC):</span><br><span class=\"line\"><span class=\"meta\">      @abc.abstractclassmethod</span></span><br><span class=\"line\">      <span class=\"keyword\">def</span> <span class=\"title function_\">display</span>():</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;This is Myclass&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Myclass</span>(<span class=\"title class_ inherited__\">myinterface</span>):</span><br><span class=\"line\">      <span class=\"keyword\">def</span> <span class=\"title function_\">display</span>():</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\">obj=Myclass() </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```</span><br><span class=\"line\"></span><br><span class=\"line\">## ERROR: Cannot Uninstall &#x27;PyYAML&#x27;. It is a Distutils Installed Project and Thus We Cannot Accurately Determine Which Files Belong to it Which Would Lead to Only a Partial Uninstall.</span><br><span class=\"line\"></span><br><span class=\"line\">```python</span><br><span class=\"line\">pip3 install --ignore-installed PyYAML </span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover2.jpg","excerpt":"","more":"<p><a href=''>python打包为exe</a></p>\n<h2 id=\"日志模块-Logging\">日志模块 Logging</h2>\n<p><a href=''>python接口&amp;继承</a><br>\n<a href=''>python字符串</a><br>\n<a href=''>python-partial</a><br>\n<a href=''>python问题手册</a><br>\n<a href=''>python Exception</a><br>\n<a href=''>python 文档格式PEP8</a></p>\n<h2 id=\"获取用户目录\">获取用户目录</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span> os.environ[<span class=\"string\">&#x27;HOME&#x27;</span>]</span><br><span class=\"line\"><span class=\"built_in\">print</span> os.path.expandvars(<span class=\"string\">&#x27;$HOME&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span> os.path.expanduser(<span class=\"string\">&#x27;~&#x27;</span>) </span><br></pre></td></tr></table></figure>\n<h2 id=\"环境变量\">环境变量</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.getenv(<span class=\"string\">&#x27;ENV_PORT&#x27;</span>)</span><br><span class=\"line\">os.environ.get(<span class=\"string\">&#x27;ENV_PORT&#x27;</span>)</span><br><span class=\"line\">os.environ[<span class=\"string\">&#x27;ENV_PORT&#x27;</span>] </span><br></pre></td></tr></table></figure>\n<h1>调试</h1>\n<p>获取行号和文件名称</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#python3</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> inspect <span class=\"keyword\">import</span> currentframe, getframeinfo</span><br><span class=\"line\"></span><br><span class=\"line\">frameinfo = getframeinfo(currentframe())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(frameinfo.filename, frameinfo.lineno) </span><br></pre></td></tr></table></figure>\n<h1>计算 MD5</h1>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> hashlib</span><br><span class=\"line\"><span class=\"built_in\">print</span>(hashlib.sha1(<span class=\"string\">&quot;aaaa&quot;</span>.encode(<span class=\"string\">&quot;utf8&quot;</span>)).hexdigest())</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"日志到代码\">日志到代码</h2>\n<p><a href=\"https://www.jetbrains.com/help/idea/setting-log-options.html\">https://www.jetbrains.com/help/idea/setting-log-options.html</a><br>\n<a href=\"https://stackoverflow.com/questions/7930844/is-it-possible-to-have-clickable-class-names-in-console-output-in-intellij%5B\">https://stackoverflow.com/questions/7930844/is-it-possible-to-have-clickable-class-names-in-console-output-in-intellij[</a></p>\n<p><a href=''>pycharm日志(console)跳转文件</a></p>\n<h2 id=\"官网\">官网</h2>\n<p><a href=\"https://docs.python.org/2/library/logging.config.html\">https://docs.python.org/2/library/logging.config.html</a></p>\n<h2 id=\"文件和控制台共同输出日志\">文件和控制台共同输出日志</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> argparse</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\">parser = argparse.ArgumentParser(description=<span class=\"string\">&quot;&quot;&quot;程序描述&quot;&quot;&quot;</span>)</span><br><span class=\"line\">parser.add_argument(<span class=\"string\">&quot;-f&quot;</span>, <span class=\"built_in\">type</span>=<span class=\"built_in\">str</span>, default=<span class=\"literal\">None</span>, <span class=\"built_in\">help</span>=<span class=\"string\">&quot;运行参数&quot;</span>)</span><br><span class=\"line\">args = parser.parse_args()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> args.f <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">    parser.print_help()</span><br><span class=\"line\">    sys.exit(-<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\"><span class=\"keyword\">import</span> os.path</span><br><span class=\"line\">logger = logging.getLogger(<span class=\"string\">&quot;main&quot;</span>)</span><br><span class=\"line\">logger.setLevel(logging.DEBUG)</span><br><span class=\"line\"></span><br><span class=\"line\">formatter = logging.Formatter(<span class=\"string\">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)</span><br><span class=\"line\">streamHandler = logging.StreamHandler()</span><br><span class=\"line\">streamHandler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(streamHandler)</span><br><span class=\"line\"></span><br><span class=\"line\">filehandler = logging.FileHandler(os.path.basename(__file__)+<span class=\"string\">&quot;.log&quot;</span>)</span><br><span class=\"line\">filehandler.setLevel(logging.INFO) <span class=\"comment\"># 文件输出大于 INFO 的日志</span></span><br><span class=\"line\">filehandler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(filehandler)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 其他地方使用</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">logger = logging.getLogger(<span class=\"string\">&#x27;main.&#x27;</span>+os.path.basename(__file__))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># logger.debug(&quot;######### start program &#123;&#125; ########## &quot;.format(__file__))</span></span><br><span class=\"line\"><span class=\"comment\"># logger.info(&quot;######### start program &#123;&#125; ########## &quot;.format(__file__))</span></span><br><span class=\"line\"><span class=\"comment\"># logger.error(&quot;######### start program &#123;&#125; ########## &quot;.format(__file__))</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"多文件共享日志\">多文件共享日志</h2>\n<p><a href=\"http://main.py\">main.py</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\"></span><br><span class=\"line\">logger = logging.getLogger(&#x27;main&#x27;)</span><br><span class=\"line\">logger.setLevel(level=logging.DEBUG)</span><br><span class=\"line\"></span><br><span class=\"line\"># Handler</span><br><span class=\"line\">handler = logging.FileHandler(&#x27;log.log&#x27;)</span><br><span class=\"line\">handler.setLevel(logging.DEBUG)</span><br><span class=\"line\">formatter = logging.Formatter(&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;)</span><br><span class=\"line\">handler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(handler)</span><br><span class=\"line\"></span><br><span class=\"line\">logger.info(&#x27;Main Info&#x27;)</span><br><span class=\"line\">logger.debug(&#x27;Main Debug&#x27;)</span><br><span class=\"line\">logger.error(&#x27;Main Error&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\"># 调用子文件</span><br><span class=\"line\">from sub import *</span><br><span class=\"line\">getf()</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><a href=\"http://sub.py\">sub.py</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\"></span><br><span class=\"line\"># main.* 随便取名字</span><br><span class=\"line\">logger = logging.getLogger(&#x27;main.sub&#x27;)</span><br><span class=\"line\">def getf():</span><br><span class=\"line\">    logger.info(&#x27;Core Info&#x27;)</span><br><span class=\"line\">    logger.debug(&#x27;Core Debug&#x27;)</span><br><span class=\"line\">    logger.error(&#x27;Core Error&#x27;)</span><br></pre></td></tr></table></figure>\n<p>文件内容：<br>\n<img src=\"static/img/b71328f8c3928a1c6bd397ecd1e36e34.png\" alt=\"image.png\"></p>\n<h2 id=\"配置日志到文件\">配置日志到文件</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\"></span><br><span class=\"line\">#输出的日志文件目录</span><br><span class=\"line\">LOG_FILE_NAME = &quot;logs/log.log&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># 得到 logger 对象</span><br><span class=\"line\">logger = logging.getLogger()</span><br></pre></td></tr></table></figure>\n<p>filename=“./logs/access.log” 为路径，logs 文件夹要提前创建</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import os</span><br><span class=\"line\">import logging</span><br><span class=\"line\">logdir=&quot;./logs&quot;</span><br><span class=\"line\">if not os.path.isdir(logdir):</span><br><span class=\"line\">    os.mkdir(logdir)</span><br><span class=\"line\">logging.basicConfig(</span><br><span class=\"line\">    # filename=&quot;./logs/access.log&quot;,</span><br><span class=\"line\">    level=logging.INFO,</span><br><span class=\"line\">    format=&quot;%(asctime)s %(name)s %(levelname)s %(message)s&quot;,</span><br><span class=\"line\">    datefmt=&#x27;%Y-%m-%d  %H:%M:%S %a&#x27;</span><br><span class=\"line\">)</span><br><span class=\"line\">logging.info(&quot;start application.....&quot;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"日志级别\">日志级别</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CRITICAL &gt; ERROR &gt; WARNING &gt; INFO &gt; DEBUG</span><br></pre></td></tr></table></figure>\n<h2 id=\"Demo\">Demo</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\"></span><br><span class=\"line\">logging.basicConfig(</span><br><span class=\"line\">    filename=&quot;./access.log&quot;,</span><br><span class=\"line\">    level=logging.INFO,</span><br><span class=\"line\">    format=&quot;%(asctime)s %(name)s %(levelname)s %(message)s&quot;,</span><br><span class=\"line\">    datefmt=&#x27;%Y-%m-%d  %H:%M:%S %a&#x27;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">logging.info(&quot;start application.....&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">def debug(msg):</span><br><span class=\"line\">    logging.debug(msg)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">def info(msg):</span><br><span class=\"line\">    logging.info(msg)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">def error(msg):</span><br><span class=\"line\">    logging.error(msg)</span><br></pre></td></tr></table></figure>\n<h2 id=\"输出到-sys-stdout\">输出到 sys.stdout</h2>\n<p>默认是输出到 sys.stderr，在 kettle 中会报错。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import sys</span><br><span class=\"line\">logging.basicConfig(</span><br><span class=\"line\">    stream=sys.stdout</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h2 id=\"常见问题\">常见问题</h2>\n<p>Python.h：没有那个文件或目录<br>\nyum install python-devel</p>\n<h2 id=\"指定函数返回类型\">指定函数返回类型</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def getChrome(implicitly_wait_time=implicitly_wait_time) -&gt; webdriver:</span><br></pre></td></tr></table></figure>\n<h2 id=\"指定参数类型\">指定参数类型</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def __init__(self, driver:webdriver):</span><br></pre></td></tr></table></figure>\n<h2 id=\"Pycharm-中指定属性类型，进行代码提示\">Pycharm 中指定属性类型，进行代码提示</h2>\n<p>page = None  # type: Page<br>\n  log=None # type: logging</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import logging</span><br><span class=\"line\">from playwright.sync_api import Page</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">class DeployCommandManager:</span><br><span class=\"line\">    # page 对象，也就是浏览器中的页面</span><br><span class=\"line\">    page = None  # type: Page</span><br><span class=\"line\">    log=None # type: logging</span><br><span class=\"line\"></span><br><span class=\"line\">    def __init__(self, page):</span><br><span class=\"line\">        &quot;&quot;&quot;</span><br><span class=\"line\">        :param page:</span><br><span class=\"line\">        &quot;&quot;&quot;</span><br><span class=\"line\">        self.page = page</span><br><span class=\"line\">    def</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"Python-运维\">Python 运维</h2>\n<p>远程执行脚本</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\">logger = logging.getLogger(<span class=\"string\">&#x27;main&#x27;</span>)</span><br><span class=\"line\">logger.setLevel(level=logging.DEBUG)</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">not</span> os.path.exists(<span class=\"string\">&quot;logs&quot;</span>):</span><br><span class=\"line\">    os.mkdir(<span class=\"string\">&quot;logs&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 日志格式</span></span><br><span class=\"line\">formatter=logging.Formatter(<span class=\"string\">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\"># 输出到日志</span></span><br><span class=\"line\">handler = logging.FileHandler(<span class=\"string\">&#x27;logs/vaeopr.log&#x27;</span>)</span><br><span class=\"line\">handler.setLevel(logging.DEBUG)</span><br><span class=\"line\">handler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(handler)</span><br><span class=\"line\"><span class=\"comment\"># 数据到控制台</span></span><br><span class=\"line\">streamHandler=logging.StreamHandler()</span><br><span class=\"line\">streamHandler.setFormatter(formatter)</span><br><span class=\"line\">logger.addHandler(streamHandler)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 使用</span></span><br><span class=\"line\">logger.debug(<span class=\"string\">&quot;application start for file &#123;&#125;&quot;</span>.<span class=\"built_in\">format</span>(__file__))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 关闭连接</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> paramiko</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SSHClient</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self,hostname=<span class=\"string\">&quot;192.168.100.9&quot;</span>,port=<span class=\"number\">22</span>,username=<span class=\"string\">&quot;root&quot;</span>,password=<span class=\"string\">&quot;3ce7bbaddf3bd526f124e1709c61fb68&quot;</span></span>):</span><br><span class=\"line\">        self.__ssh = paramiko.SSHClient()</span><br><span class=\"line\">        <span class=\"comment\"># 允许将信任的主机自动加入到host_allow 列表，此方法必须放在connect方法的前面</span></span><br><span class=\"line\">        self.__ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span><br><span class=\"line\">        <span class=\"comment\"># 调用connect方法连接服务器</span></span><br><span class=\"line\">        self.__ssh.connect(hostname=hostname, port=port, username=username, password=password)</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">getError</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.__error</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">getOutput</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.__output</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__runCommand</span>(<span class=\"params\">self,cmd</span>):</span><br><span class=\"line\">        logger.debug(<span class=\"string\">&quot;command = [&#123;&#125;]&quot;</span>.<span class=\"built_in\">format</span>(cmd))</span><br><span class=\"line\">        stdin, stdout, stderr = self.__ssh.exec_command(cmd)</span><br><span class=\"line\">        self.__error=self.__decodeCommandRes(stderr)</span><br><span class=\"line\">        self.__output=self.__decodeCommandRes(stdout)</span><br><span class=\"line\">        logger.debug(<span class=\"string\">&quot;stderr: &#123;&#125;, stdout: &#123;&#125;&quot;</span>.<span class=\"built_in\">format</span>(self.__decodeCommandRes(stderr),self.__decodeCommandRes(stdout)))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.__error:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__decodeCommandRes</span>(<span class=\"params\">self,std</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> std.read().decode()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">exec</span>(<span class=\"params\">self, cmd</span>):</span><br><span class=\"line\">        self.__runCommand(cmd)</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  self</span><br><span class=\"line\"></span><br><span class=\"line\">ssh=SSHClient()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 添加快捷命令</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(ssh.<span class=\"built_in\">exec</span>(<span class=\"string\">&quot;cat ~/.bashrc|grep nvidia-smi&quot;</span>).getOutput())</span><br><span class=\"line\"><span class=\"built_in\">print</span>(ssh.<span class=\"built_in\">exec</span>(<span class=\"string\">&quot;cat ~/.ssh/authorized_keys&quot;</span>).getOutput())</span><br></pre></td></tr></table></figure>\n<h2 id=\"kwargs\">**kwargs</h2>\n<p><img src=\"static/img/1605300719a74be1fce4ca401678bb3.png\" alt=\"image.png\"></p>\n<h1>获取执行时间</h1>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">start_time = time.time()</span><br><span class=\"line\">your code </span><br><span class=\"line\">end_time = time.time()</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Epoch: &#123;&#125;, Test set ELBO: &#123;&#125;, time elapse for current epoch: &#123;&#125;&#x27;</span></span><br><span class=\"line\">\t  .<span class=\"built_in\">format</span>(epoch, elbo, end_time - start_time))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"更改当前工作目录\">更改当前工作目录</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.chdir(<span class=\"string\">&quot;/root/phd/Bagel-master&quot;</span>)   <span class=\"comment\">#修改当前工作目录</span></span><br><span class=\"line\">os.getcwd()    <span class=\"comment\">#获取当前工作目录</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"接口\">接口</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> abc</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">myinterface</span>(abc.ABC):</span><br><span class=\"line\"><span class=\"meta\">      @abc.abstractclassmethod</span></span><br><span class=\"line\">      <span class=\"keyword\">def</span> <span class=\"title function_\">display</span>():</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;This is Myclass&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Myclass</span>(<span class=\"title class_ inherited__\">myinterface</span>):</span><br><span class=\"line\">      <span class=\"keyword\">def</span> <span class=\"title function_\">display</span>():</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\">obj=Myclass() </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```</span><br><span class=\"line\"></span><br><span class=\"line\">## ERROR: Cannot Uninstall &#x27;PyYAML&#x27;. It is a Distutils Installed Project and Thus We Cannot Accurately Determine Which Files Belong to it Which Would Lead to Only a Partial Uninstall.</span><br><span class=\"line\"></span><br><span class=\"line\">```python</span><br><span class=\"line\">pip3 install --ignore-installed PyYAML </span><br></pre></td></tr></table></figure>\n"},{"title":"决策树 decision tree","date":"2022-11-26T12:29:31.000Z","updated":"2022-11-28T09:41:32.000Z","password":null,"message":null,"abstract":null,"aliases":["决策树 decision tree","决策树"],"_content":"- 先看结果, 再说原理和操作\n\n## 目标\n\n根据西瓜的 **属性**, 让 **决策树 (decision tree)** 给我们分出 \" 好瓜 \" 和 \" 不是好瓜 \"\n\n### 西瓜的数据\n\n西瓜的 **属性** 共包括: `色泽,根蒂,敲声,纹理,脐部,触感`  \n\n西瓜的 **标签**: `好瓜` (是/否)\n\n```python\n编号,色泽,根蒂,敲声,纹理,脐部,触感,好瓜\n1,青绿,蜷缩,浊响,清晰,凹陷,硬滑,是\n2,乌黑,蜷缩,沉闷,清晰,凹陷,硬滑,是\n3,乌黑,蜷缩,浊响,清晰,凹陷,硬滑,是\n4,青绿,蜷缩,沉闷,清晰,凹陷,硬滑,是\n5,浅白,蜷缩,浊响,清晰,凹陷,硬滑,是\n6,青绿,稍蜷,浊响,清晰,稍凹,软粘,是\n7,乌黑,稍蜷,浊响,稍糊,稍凹,软粘,是\n8,乌黑,稍蜷,浊响,清晰,稍凹,硬滑,是\n9,乌黑,稍蜷,沉闷,稍糊,稍凹,硬滑,否\n10,青绿,硬挺,清脆,清晰,平坦,软粘,否\n11,浅白,硬挺,清脆,模糊,平坦,硬滑,否\n12,浅白,蜷缩,浊响,模糊,平坦,软粘,否\n13,青绿,稍蜷,浊响,稍糊,凹陷,硬滑,否\n14,浅白,稍蜷,沉闷,稍糊,凹陷,硬滑,否\n15,乌黑,稍蜷,浊响,清晰,稍凹,软粘,否\n16,浅白,蜷缩,浊响,模糊,平坦,硬滑,否\n17,青绿,蜷缩,沉闷,稍糊,稍凹,硬滑,否\n```\n\n### 决策树分类结果展示\n\n![static/attachment/Pasted image 20221128102615.png](/images/36f2494692678be6a00e116ff9825209ef2a65cf.png)  \n来源: 周志华《机器学习》\n\n## 决策树 (decision tree) 是什么\n\n决策树 (decision tree) 是一类常见的机器学习分类模型, 是机器学习两类经典问题中的一个问题.\n\n## 决策树的构建步骤\n\n决策树的构建步骤主要包括如下步骤\n\n- 准备数据\n- 挑选要 \" 分叉 \" 的属性\n\t- 选信息增益最大的一个\n\t\t- 如果有多个属性的信息增益一样大, 随机取一个\n\t- (色泽,根蒂,敲声,纹理,脐部,触感)\n- ' 分叉 '\n- 递归回到第二步, 直到达到结束分叉的条件\n\n### 准备数据\n\n数据中需要包含 **属性值** 与 **标签值**,  \n数据样例:\n\n```python\n编号,色泽,根蒂,敲声,纹理,脐部,触感,好瓜\n1,青绿,蜷缩,浊响,清晰,凹陷,硬滑,是\n2,乌黑,蜷缩,沉闷,清晰,凹陷,硬滑,是\n3,乌黑,蜷缩,浊响,清晰,凹陷,硬滑,是\n```\n\n---\n\npython 实现:\n\n```python\ndata_xigua=pd.read_csv(\"西瓜数据集2.0.csv\")\ndata_xigua \n```\n\n![static/attachment/Pasted image 20221128113502.png](/images/5b3606bc366335e96009e6266a5d6b86092fc72d.png)\n\n### 挑选要 \" 分叉 \" 的属性\n\n目标: 我们需要在 6 个属性 ( {色泽,根蒂,敲声,纹理,脐部,触感} ) 中选择一个属性, 进行首次 \" 分叉 \".\n\nQ: 6 个属性选哪个最好?  \nA: 选 **信息增益** 最大的一个属性\n\n[[#信息增益]] 是什么 ?  \n[[#信息增益]] 也叫 ID3(Iterative Dichotomiser (迭代二分器)).\n\n---\n\n👉 通过计算 6 个属性的信息增益, 我们得到每个属性的信息增益如下:\n\n```python\n色泽 0.1081251652653652\n根蒂 0.14267495956679277\n敲声 0.14078143361499573\n纹理 0.3805918973682685\n脐部 0.28915878284167884\n触感 0.006046489176565473\n```\n\n**纹理** 的信息增益最大, 因此我们选择信息增益为第一个 \" 分叉点 \", 得到 \" 分叉 \" 结果:  \n![static/attachment/Pasted image 20221128140713.png](/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png)\n\n对应的数据:  \n![static/attachment/Pasted image 20221128141355.png](/images/68ce01c3af321af3fc2cf6da1d5537927157f090.png)\n\n### 递归分叉\n\n从上一步分分叉结果中:  \n![static/attachment/Pasted image 20221128140713.png](/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png)\n\n👉 我们以左下角的第一个节点 (**纹理=清晰**) 为根节点, 该结点包含的样例集合中有编号为｛1, 2, 3, 4, 5, 6, 8, 10, 15）的 9 个样例，可用属性集合为｛色泽，根蒂，敲声，脐部, 触感}, 计算每个属性在当前数据 (**纹理=清晰**) 上的信息增益\n\n```python\n-----------纹理=清晰的数据-----------\n色泽 0.04306839587828004\n根蒂 0.45810589515712374\n敲声 0.33085622540971754\n脐部 0.45810589515712374\n触感 0.45810589515712374 \n```\n\n👉 蒂“根蒂”、“脐部”、“触感” 3 个属性均取得了最大的信息增益，可任 选其中之一作为划分属性, 递归进行, 直到达到结束条件. 递归完成后, 我们将得到如下树:  \n![static/attachment/Pasted image 20221128154817.png](/images/4165a937f4c8ada78735d80ebb76ba95358b283f.png)\n\n---\n\npython 实现:\n\n```python\nimport pandas\nimport pandas as pd\nimport numpy as np\n\ndata_xigua = pd.read_csv(\"西瓜数据集2.0.csv\")\n\n\ndef ent(entropy_data: pandas.DataFrame):\n    # 瓜的总数\n    n_all = entropy_data.shape[0]\n\n    # \"是\"(是好瓜)与\"否\"(不是好瓜) 的数量\n    n_haogua = entropy_data[entropy_data['好瓜'] == '是'].shape[0]\n    n_not_haogua = n_all - n_haogua\n    p1 = n_haogua / n_all\n    p2 = n_not_haogua / n_all\n    # # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0\n    item_1 = p1 * np.log2(p1) if p1 != 0 else 0\n    item_2 = p2 * np.log2(p2) if p2 != 0 else 0\n    entropy = -(item_1 + item_2)\n    return entropy\n\n\n# 把上面的封装为一个函数\ndef entropy_attribute(data: pandas.DataFrame, key=\"色泽\"):\n    # 总数据量\n    _n_all_data = data.shape[0]\n\n    # 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.\n    # 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]\n\n    attr_entropies = []\n    attr_count = []\n    for _attr, group in data.groupby(key):\n        # print(\"======\\n\\n\", _attr, \"\\n\", group)\n        _n_group_all = group.shape[0]\n        attr_entropies.append(ent(group))\n        attr_count.append(_n_group_all)\n    res = ent(data) - np.sum(np.asarray(attr_count) / _n_all_data * np.array(attr_entropies))\n    return res\n\n\n# 把上面的封装为一个函数\ndef entropy_attribute_bak(data, key=\"色泽\"):\n    # 总数据量\n    _n_all_data = data.shape[0]\n\n    # 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.\n    # 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]\n    _gua_counts = []\n\n    for _attr, group in data.groupby(key):\n        # print(\"======\\n\\n\", _attr, \"\\n\", group)\n        _n_all = group.shape[0]\n        _n_haogua = group[group['好瓜'] == '是'].shape[0]\n        _n_not_haogua = _n_all - _n_haogua\n\n        # 数组的项目: 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量\n        _item = [_attr, _n_all, _n_haogua, _n_not_haogua]\n\n        _gua_counts.append(_item)\n    _gua_counts = np.asarray(_gua_counts)\n    # 每个取值的总数量\n    _value_all = _gua_counts[:, 1].astype('float')\n    # print(\"每个取值的总数量\", _value_all)\n    # 每个取值的交叉熵\n    _matrix_ent_dv = []\n    for g in _gua_counts:\n        # print(g)\n        # ['乌黑', 6, 4, 2]\n        # ['浅白', 5, 1, 4]\n        # ['青绿', 6, 3, 3]\n        g = np.asarray(g[1:], dtype=float)\n\n        # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0\n        item1 = (g[1] / g[0]) * np.log2(g[1] / g[0]) if g[1] / g[0] != 0 else 0\n        item2 = (g[2] / g[0]) * np.log2(g[2] / g[0]) if g[2] / g[0] != 0 else 0\n        _matrix_ent_dv.append(-(item1 + item2))\n\n    # 返回交叉熵\n    return ent(data) - np.sum(np.asarray(_value_all / _n_all_data) * np.asarray(_matrix_ent_dv))\n\n\nprint(\"\\n-----------纹理=清晰的数据-----------\")\ndata_wenli = data_xigua[data_xigua['纹理'] == '清晰']\nprint(\"色泽\", entropy_attribute(data_wenli, '色泽'))\nprint(\"根蒂\", entropy_attribute(data_wenli, '根蒂'))\nprint(\"敲声\", entropy_attribute(data_wenli, '敲声'))\nprint(\"脐部\", entropy_attribute(data_wenli, '脐部'))\nprint(\"触感\", entropy_attribute(data_wenli, '触感')) \n```\n\n### 递归截止条件\n\n对于每个节点, 一依次递归, 指导结束. 递归构建停止的条件\n\n- (无需划分) 当前结点包含的样本全属于同一类别，无需划分；\n- (无法划分) 当前 属性集为空，或是所有样本在所有属性上取值相同，无法划分;\n- (不能划分) 当前结点包含的样本集合为空，不能划分.\n\n## 决策树 (decision tree) 基础\n\n### 机器学习的两类经典问题\n\n回归和分类.\n\n### 分类问题\n\n是机器学习两类经典问题中的一个问题.\n\n例 1: 根据学生分数/作业提交率等判断 <u>学生是否是好学生</u>(分类)  \n\t![static/attachment/Pasted image 20221128081900.png](/images/9acc6865a65ea15430d42d4d3cc44f9793f6a715.png)\n\n例 2: (下文中称为: **西瓜数据集**) 根据 **西瓜** 的属性, 判断西瓜是否是好瓜  \n![static/attachment/Pasted image 20221128090249.png](/images/4fd944c16b3f85f74727b41fc78d87359054db4f.png)\n\n### 信息熵\n\n信息熵 (information entropy) 是度量 <u>数据信息量</u> 的一种方法 (例如,现实中 \" 你说话没有信息量 \", 这个 **信息量** 怎么度量)  \n\n#### 定义\n\n- 定义: $\\operatorname{entropy}(D)=\\operatorname{Ent}(D)=-\\sum_{k=1}^{|\\mathcal{Y}|} p_k \\log _2 p_k$  \n\t- D 是数据集, $p_k$ 表示第 $k$ 类数据集占所有数据集的 **比例**  \n\t\t- k 指标签\n\t- $|y|$ =$len(unique(y))$\n\t- 这里我们规定:  \n\t\t- $p_1$ 为正例, (是) 好瓜 的比例\n\t\t- $p_2$ 为反例, (否) 不是好瓜 的比例  \n$p_k, i \\in \\{1,2\\}$  \n$p_1$= $\\frac{8}{11}$  \n$p_2=3/11$ = $1-p_1$\n\n#### 计算实例 1\n\n例子计算西瓜数据集 D (所有数据) 的信息熵\n\n- 数据集 $D$ (西瓜数据) 中包含两类 ($\\{k_1=是(好瓜), k_2=否(不是好瓜)\\}$)\n\t- 以 $p$ 表示概率\n\t\t- $p_{k_1}=8/17$\n\t\t- $p_{k_2}=9/17$\n\t- $Ent(D)=-\\sum_1^2p_klog_2 p_k=-\\left(\\frac{8}{17} \\log _2 \\frac{8}{17}+\\frac{9}{17} \\log _2 \\frac{9}{17}\\right)=0.998$\n---\n\n代码实现  \n\n```python\n# 计算根节点(所有数据)的信息熵\n\n# \"是\"(是好瓜)与\"否\"(不是好瓜) 的数量\nn_haogua=data_xigua[data_xigua['好瓜']=='是'].shape[0]\nn_not_haogua=data_xigua[data_xigua['好瓜']=='否'].shape[0]\n# 瓜的总数\nn_all=n_haogua+n_not_haogua\nn_haogua,n_not_haogua,n_all\n\n\n# \"是\"(是好瓜)与\"否\"(不是好瓜) 的信息熵\np1=n_haogua/n_all\np2=n_not_haogua/n_all\nentropy=-(p1*np.log2(p1)+p2*np.log2(p2))\nentropy\n```\n\n执行结果:  \n![static/attachment/Pasted image 20221128122638.png](/images/82bf186bb7a7e0db263e43405521541f19e5b374.png)\n\n#### 计算实例 2\n\n\\计算属性 \" 色泽 \" 的信息熵\n\n- 从西瓜数据集 D 中, 我们知道色泽取值:｛青绿，乌黑，浅白｝\n- 用该属性对西瓜数据集 D 进行划分, 可以将 D 中所有的数据集划分为 3 类\n\t- $D^1$: 色泽=青绿, $D^1$ 包含的数据为 {1, 4, 6, 10, 13, 17}, $p_1=3/6,p_2=3/6$\n\t\t- $p_1$ : 好瓜的占比\n\t\t- $p_2$ : 不是好瓜的占比\n\t- $D^2$ 色泽=乌黑, $D^2$ 包含的数据为 { 2, 3, 7, 8, 9, 15}, $p_1=4/6, p_2=2/6$\n\t- $D^3$ 色泽=浅白, $D^3$ 包含的数据为 {5, 11, 12, 14, 16}, $p_1=1/5,p_2=4/5$\n- 青绿 ($D^1$)，乌黑 ($D^2$)，浅白 ($D^3$) 的信息熵分别为\n\t- $\\operatorname{Ent}\\left(D^1\\right)=-\\left(\\frac{3}{6} \\log _2 \\frac{3}{6}+\\frac{3}{6} \\log _2 \\frac{3}{6}\\right)=1.000$\n\t- $\\operatorname{Ent}\\left(D^2\\right)=-\\left(\\frac{4}{6} \\log _2 \\frac{4}{6}+\\frac{2}{6} \\log _2 \\frac{2}{6}\\right)=0.918$\n\t- $\\operatorname{Ent}\\left(D^3\\right)=-\\left(\\frac{1}{5} \\log _2 \\frac{1}{5}+\\frac{4}{5} \\log _2 \\frac{4}{5}\\right)=0.722$\n\n---\n\n代码实现\n\n```python\n# 青绿，乌黑，浅白的瓜\nsz_qinglv=data_xigua[data_xigua['色泽']=='青绿']\nsz_wuhei=data_xigua[data_xigua['色泽']=='乌黑'] \nsz_qianbai=data_xigua[data_xigua['色泽']=='浅白'] \n\n# 青绿，乌黑，浅白的中好瓜的数量\nn_sz_qinglv_haogua=sz_qinglv[sz_qinglv['好瓜']=='是'].shape[0]\nn_sz_wuhei_haogua=sz_wuhei[sz_wuhei['好瓜']=='是'].shape[0]\nn_sz_qianbai_haogua=sz_qianbai[sz_qianbai['好瓜']=='是'].shape[0]\nn_sz_qinglv_haogua,n_sz_wuhei_haogua,n_sz_qianbai_haogua\n\n# 青绿，乌黑，浅白的瓜的比例\np1=n_sz_qinglv_haogua/sz_qinglv.shape[0]\np2=n_sz_wuhei_haogua/sz_wuhei.shape[0]\np3=n_sz_qianbai_haogua/sz_qianbai.shape[0]\np1,p2,p3\n\n# 青绿，乌黑，浅白的瓜的信息熵\nentropy_qinglv=-(p1*np.log2(p1)+(1-p1)*np.log2(1-p1))\nentropy_wuhei=-(p2*np.log2(p2)+(1-p2)*np.log2(1-p2))\nentropy_qianbai=-(p3*np.log2(p3)+(1-p3)*np.log2(1-p3))\nentropy_qinglv,entropy_wuhei,entropy_qianbai\n```\n\n运行结果:  \n![static/attachment/Pasted image 20221128124416.png](/images/4547ae89def8d522551b0f2cdecdad5658ee8530.png)\n\n### 信息增益\n\n信息增益 (information gain) 是决策树中决定 **属性重要性** 的一种方法.\n\n#### 定义\n\n- $\\operatorname{Gain}(D, a)=\\operatorname{Ent}(D)-\\sum_{v=1}^V \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right)$\n\t- D: 参与计算的多条数据\n\t\t- 当前节点 (你马上要计算的那个节点) 的所有数据\n\t\t- 如西瓜数据集中的 17 条数据\n\t- a: 数据中的单个属性\n\t\t- 如 $a=色泽$\n\t\t- $a=纹理$\n\t- $D^V$: 假定离散属性 a 有 V 个 可能的取 值 $\\{a^1,a^2,\\dots,a^V\\}$, 若使用 a 来对样本集 D 进行划分，则会产生 V 个分支结点，其中第 V 个分支结点包含了 D 中所有在属性 a 上取值为 $a^v$ 的样本，记 为 $D^V$\n\t\t- 如属性色泽: $\\{a^1,a^2,\\dots,a^V\\}$ = $\\{a^1, a^2, a^3\\}$ = {青绿，乌黑，浅白}\n\t\t- 这里会产生 3 个分支节点,因为有三个属性 ({青绿，乌黑，浅白} ), 所以 $V=3$\n\t\t- $D^1$ 表示 **色泽=青绿** 的所有样本.\n\t\t- $D^2$ 表示 **色泽=乌黑** 的所有样本.\n\t\t- $D^3$ 表示?\n\t- $|D^V|$: $D^V$ 中值的个数 (len($D^V$) )\n\t- $Ent(D)$ : 整个数据的 [[#信息熵]]\n\t- $Ent(D^V)$ : $D^V$ 的信息熵\n\n#### 信息增益的特性\n\n信息增益越大，则意味着使用属性 a 来进行划分的效果越好\n\n#### 计算所有属性的信息增益\n\n$gain(D)=\\operatorname{Ent}(D)-\\sum_{v=1}^V \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right)$\n\n以色泽为例:\n$\\begin{aligned} \\operatorname{Gain}(D, \\text { 色泽 }) =\\operatorname{Ent}(D)-\\sum_{v=1}^3 \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right) =0.998-\\left(\\frac{6}{17} \\times 1.000+\\frac{6}{17} \\times 0.918+\\frac{5}{17} \\times 0.722\\right) =0.109 \\end{aligned}$\n---\n\n代码实现:\n\n```python\nimport pandas\nimport pandas as pd\nimport numpy as np\n\ndata_xigua = pd.read_csv(\"西瓜数据集2.0.csv\")\n\n\ndef ent(entropy_data: pandas.DataFrame):\n    # 瓜的总数\n    n_all = entropy_data.shape[0]\n\n    # \"是\"(是好瓜)与\"否\"(不是好瓜) 的数量\n    n_haogua = entropy_data[entropy_data['好瓜'] == '是'].shape[0]\n    n_not_haogua = n_all - n_haogua\n    p1 = n_haogua / n_all\n    p2 = n_not_haogua / n_all\n    # # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0\n    item_1 = p1 * np.log2(p1) if p1 != 0 else 0\n    item_2 = p2 * np.log2(p2) if p2 != 0 else 0\n    entropy = -(item_1 + item_2)\n    return entropy\n\n\n# 把上面的封装为一个函数\ndef entropy_attribute(data: pandas.DataFrame, key=\"色泽\"):\n    # 总数据量\n    _n_all_data = data.shape[0]\n\n    # 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.\n    # 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]\n\n    attr_entropies = []\n    attr_count = []\n    for _attr, group in data.groupby(key):\n        # print(\"======\\n\\n\", _attr, \"\\n\", group)\n        _n_group_all = group.shape[0]\n        attr_entropies.append(ent(group))\n        attr_count.append(_n_group_all)\n    res = ent(data) - np.sum(np.asarray(attr_count) / _n_all_data * np.array(attr_entropies))\n    return res\n\n\n# 把上面的封装为一个函数\ndef entropy_attribute_bak(data, key=\"色泽\"):\n    # 总数据量\n    _n_all_data = data.shape[0]\n\n    # 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.\n    # 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]\n    _gua_counts = []\n\n    for _attr, group in data.groupby(key):\n        # print(\"======\\n\\n\", _attr, \"\\n\", group)\n        _n_all = group.shape[0]\n        _n_haogua = group[group['好瓜'] == '是'].shape[0]\n        _n_not_haogua = _n_all - _n_haogua\n\n        # 数组的项目: 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量\n        _item = [_attr, _n_all, _n_haogua, _n_not_haogua]\n\n        _gua_counts.append(_item)\n    _gua_counts = np.asarray(_gua_counts)\n    # 每个取值的总数量\n    _value_all = _gua_counts[:, 1].astype('float')\n    # print(\"每个取值的总数量\", _value_all)\n    # 每个取值的交叉熵\n    _matrix_ent_dv = []\n    for g in _gua_counts:\n        # print(g)\n        # ['乌黑', 6, 4, 2]\n        # ['浅白', 5, 1, 4]\n        # ['青绿', 6, 3, 3]\n        g = np.asarray(g[1:], dtype=float)\n\n        # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0\n        item1 = (g[1] / g[0]) * np.log2(g[1] / g[0]) if g[1] / g[0] != 0 else 0\n        item2 = (g[2] / g[0]) * np.log2(g[2] / g[0]) if g[2] / g[0] != 0 else 0\n        _matrix_ent_dv.append(-(item1 + item2))\n\n    # 返回交叉熵\n    return ent(data) - np.sum(np.asarray(_value_all / _n_all_data) * np.asarray(_matrix_ent_dv))\n\n\nprint(\"-----------所有数据-----------\")\nprint(\"色泽\", entropy_attribute(data_xigua, '色泽'))\nprint(\"根蒂\", entropy_attribute(data_xigua, '根蒂'))\nprint(\"敲声\", entropy_attribute(data_xigua, '敲声'))\nprint(\"纹理\", entropy_attribute(data_xigua, '纹理'))\nprint(\"脐部\", entropy_attribute(data_xigua, '脐部'))\nprint(\"触感\", entropy_attribute(data_xigua, '触感'))\n```\n\n结果:\n\n```python\n-----------所有数据-----------\n色泽 0.1081251652653652\n根蒂 0.14267495956679277\n敲声 0.14078143361499573\n纹理 0.3805918973682685\n脐部 0.28915878284167884\n触感 0.006046489176565473\n```\n\n \n\n## 基于 Sk-learn 的实现\n\n高级内容 (选做作业)\n\n```python\nimport pandas\nimport pandas as pd\nimport numpy as np\nfrom sklearn import tree\nfrom sklearn.feature_extraction import DictVectorizer\n\n\ndata_xigua = pd.read_csv(\"西瓜数据集2.0.csv\")\nX: pd.DataFrame = data_xigua.iloc[:, 1:-1]\ny: pd.Series = data_xigua.iloc[:, -1]\nprint(X.head())\nprint(y.head())\n\n# 将字符串转为数字\nnormal_data = []\nx_maps = {}\nfor colname in X.columns:\n    value, map = pd.factorize(X[colname])\n    normal_data.append(value)\n    x_maps[colname] = map\n    # (array([0, 1, 1, 0, 2, 0, 1, 1, 1, 0, 2, 2, 0, 2, 1, 2, 0]), Index(['青绿', '乌黑', '浅白'], dtype='object'))\n    # (array([0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 0, 1, 1, 1, 0, 0]), Index(['蜷缩', '稍蜷', '硬挺'], dtype='object'))\n    # (array([0, 1, 0, 1, 0, 0, 0, 0, 1, 2, 2, 0, 0, 1, 0, 0, 1]), Index(['浊响', '沉闷', '清脆'], dtype='object'))\n    # (array([0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 2, 2, 1, 1, 0, 2, 1]), Index(['清晰', '稍糊', '模糊'], dtype='object'))\n    # (array([0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 0, 0, 1, 2, 1]), Index(['凹陷', '稍凹', '平坦'], dtype='object'))\n    # (array([0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0]), Index(['硬滑', '软粘'], dtype='object'))\n\nx_data = np.asarray(normal_data).T\n\n# 将\"字符\"转为数字\n\n\n\ny_data, y_maps = pd.factorize(y)\nprint(\"Xdata and ydata================================================================\")\nprint(x_data)\nprint(y_data)\n\n## start\nclf = tree.DecisionTreeClassifier()\nclf = clf.fit(x_data, y_data)\n## end\nres = tree.plot_tree(clf)\n\n```\n\n![static/attachment/Pasted image 20221128161247.png](/images/133a03eb24d1a706df56bc177f7585f919b74960.png)  \n[sklearn 决策树](http://127.0.0.1:8888/lab/workspaces/auto-b/tree/商业数据分析/sk-learn-决策树.ipynb)\n\n## 作业\n\n![[Docs/后续课程内容安排#AI 作业]]\n","source":"_posts/决策树decisiontree.md","raw":"---\ntitle: 决策树 decision tree\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-11-26 20:29:31 \nupdated: 2022-11-28 17:41:32 \npassword: \nmessage: \nabstract: \naliases:\n  - 决策树 decision tree\n  - 决策树\n---\n- 先看结果, 再说原理和操作\n\n## 目标\n\n根据西瓜的 **属性**, 让 **决策树 (decision tree)** 给我们分出 \" 好瓜 \" 和 \" 不是好瓜 \"\n\n### 西瓜的数据\n\n西瓜的 **属性** 共包括: `色泽,根蒂,敲声,纹理,脐部,触感`  \n\n西瓜的 **标签**: `好瓜` (是/否)\n\n```python\n编号,色泽,根蒂,敲声,纹理,脐部,触感,好瓜\n1,青绿,蜷缩,浊响,清晰,凹陷,硬滑,是\n2,乌黑,蜷缩,沉闷,清晰,凹陷,硬滑,是\n3,乌黑,蜷缩,浊响,清晰,凹陷,硬滑,是\n4,青绿,蜷缩,沉闷,清晰,凹陷,硬滑,是\n5,浅白,蜷缩,浊响,清晰,凹陷,硬滑,是\n6,青绿,稍蜷,浊响,清晰,稍凹,软粘,是\n7,乌黑,稍蜷,浊响,稍糊,稍凹,软粘,是\n8,乌黑,稍蜷,浊响,清晰,稍凹,硬滑,是\n9,乌黑,稍蜷,沉闷,稍糊,稍凹,硬滑,否\n10,青绿,硬挺,清脆,清晰,平坦,软粘,否\n11,浅白,硬挺,清脆,模糊,平坦,硬滑,否\n12,浅白,蜷缩,浊响,模糊,平坦,软粘,否\n13,青绿,稍蜷,浊响,稍糊,凹陷,硬滑,否\n14,浅白,稍蜷,沉闷,稍糊,凹陷,硬滑,否\n15,乌黑,稍蜷,浊响,清晰,稍凹,软粘,否\n16,浅白,蜷缩,浊响,模糊,平坦,硬滑,否\n17,青绿,蜷缩,沉闷,稍糊,稍凹,硬滑,否\n```\n\n### 决策树分类结果展示\n\n![static/attachment/Pasted image 20221128102615.png](/images/36f2494692678be6a00e116ff9825209ef2a65cf.png)  \n来源: 周志华《机器学习》\n\n## 决策树 (decision tree) 是什么\n\n决策树 (decision tree) 是一类常见的机器学习分类模型, 是机器学习两类经典问题中的一个问题.\n\n## 决策树的构建步骤\n\n决策树的构建步骤主要包括如下步骤\n\n- 准备数据\n- 挑选要 \" 分叉 \" 的属性\n\t- 选信息增益最大的一个\n\t\t- 如果有多个属性的信息增益一样大, 随机取一个\n\t- (色泽,根蒂,敲声,纹理,脐部,触感)\n- ' 分叉 '\n- 递归回到第二步, 直到达到结束分叉的条件\n\n### 准备数据\n\n数据中需要包含 **属性值** 与 **标签值**,  \n数据样例:\n\n```python\n编号,色泽,根蒂,敲声,纹理,脐部,触感,好瓜\n1,青绿,蜷缩,浊响,清晰,凹陷,硬滑,是\n2,乌黑,蜷缩,沉闷,清晰,凹陷,硬滑,是\n3,乌黑,蜷缩,浊响,清晰,凹陷,硬滑,是\n```\n\n---\n\npython 实现:\n\n```python\ndata_xigua=pd.read_csv(\"西瓜数据集2.0.csv\")\ndata_xigua \n```\n\n![static/attachment/Pasted image 20221128113502.png](/images/5b3606bc366335e96009e6266a5d6b86092fc72d.png)\n\n### 挑选要 \" 分叉 \" 的属性\n\n目标: 我们需要在 6 个属性 ( {色泽,根蒂,敲声,纹理,脐部,触感} ) 中选择一个属性, 进行首次 \" 分叉 \".\n\nQ: 6 个属性选哪个最好?  \nA: 选 **信息增益** 最大的一个属性\n\n[[#信息增益]] 是什么 ?  \n[[#信息增益]] 也叫 ID3(Iterative Dichotomiser (迭代二分器)).\n\n---\n\n👉 通过计算 6 个属性的信息增益, 我们得到每个属性的信息增益如下:\n\n```python\n色泽 0.1081251652653652\n根蒂 0.14267495956679277\n敲声 0.14078143361499573\n纹理 0.3805918973682685\n脐部 0.28915878284167884\n触感 0.006046489176565473\n```\n\n**纹理** 的信息增益最大, 因此我们选择信息增益为第一个 \" 分叉点 \", 得到 \" 分叉 \" 结果:  \n![static/attachment/Pasted image 20221128140713.png](/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png)\n\n对应的数据:  \n![static/attachment/Pasted image 20221128141355.png](/images/68ce01c3af321af3fc2cf6da1d5537927157f090.png)\n\n### 递归分叉\n\n从上一步分分叉结果中:  \n![static/attachment/Pasted image 20221128140713.png](/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png)\n\n👉 我们以左下角的第一个节点 (**纹理=清晰**) 为根节点, 该结点包含的样例集合中有编号为｛1, 2, 3, 4, 5, 6, 8, 10, 15）的 9 个样例，可用属性集合为｛色泽，根蒂，敲声，脐部, 触感}, 计算每个属性在当前数据 (**纹理=清晰**) 上的信息增益\n\n```python\n-----------纹理=清晰的数据-----------\n色泽 0.04306839587828004\n根蒂 0.45810589515712374\n敲声 0.33085622540971754\n脐部 0.45810589515712374\n触感 0.45810589515712374 \n```\n\n👉 蒂“根蒂”、“脐部”、“触感” 3 个属性均取得了最大的信息增益，可任 选其中之一作为划分属性, 递归进行, 直到达到结束条件. 递归完成后, 我们将得到如下树:  \n![static/attachment/Pasted image 20221128154817.png](/images/4165a937f4c8ada78735d80ebb76ba95358b283f.png)\n\n---\n\npython 实现:\n\n```python\nimport pandas\nimport pandas as pd\nimport numpy as np\n\ndata_xigua = pd.read_csv(\"西瓜数据集2.0.csv\")\n\n\ndef ent(entropy_data: pandas.DataFrame):\n    # 瓜的总数\n    n_all = entropy_data.shape[0]\n\n    # \"是\"(是好瓜)与\"否\"(不是好瓜) 的数量\n    n_haogua = entropy_data[entropy_data['好瓜'] == '是'].shape[0]\n    n_not_haogua = n_all - n_haogua\n    p1 = n_haogua / n_all\n    p2 = n_not_haogua / n_all\n    # # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0\n    item_1 = p1 * np.log2(p1) if p1 != 0 else 0\n    item_2 = p2 * np.log2(p2) if p2 != 0 else 0\n    entropy = -(item_1 + item_2)\n    return entropy\n\n\n# 把上面的封装为一个函数\ndef entropy_attribute(data: pandas.DataFrame, key=\"色泽\"):\n    # 总数据量\n    _n_all_data = data.shape[0]\n\n    # 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.\n    # 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]\n\n    attr_entropies = []\n    attr_count = []\n    for _attr, group in data.groupby(key):\n        # print(\"======\\n\\n\", _attr, \"\\n\", group)\n        _n_group_all = group.shape[0]\n        attr_entropies.append(ent(group))\n        attr_count.append(_n_group_all)\n    res = ent(data) - np.sum(np.asarray(attr_count) / _n_all_data * np.array(attr_entropies))\n    return res\n\n\n# 把上面的封装为一个函数\ndef entropy_attribute_bak(data, key=\"色泽\"):\n    # 总数据量\n    _n_all_data = data.shape[0]\n\n    # 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.\n    # 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]\n    _gua_counts = []\n\n    for _attr, group in data.groupby(key):\n        # print(\"======\\n\\n\", _attr, \"\\n\", group)\n        _n_all = group.shape[0]\n        _n_haogua = group[group['好瓜'] == '是'].shape[0]\n        _n_not_haogua = _n_all - _n_haogua\n\n        # 数组的项目: 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量\n        _item = [_attr, _n_all, _n_haogua, _n_not_haogua]\n\n        _gua_counts.append(_item)\n    _gua_counts = np.asarray(_gua_counts)\n    # 每个取值的总数量\n    _value_all = _gua_counts[:, 1].astype('float')\n    # print(\"每个取值的总数量\", _value_all)\n    # 每个取值的交叉熵\n    _matrix_ent_dv = []\n    for g in _gua_counts:\n        # print(g)\n        # ['乌黑', 6, 4, 2]\n        # ['浅白', 5, 1, 4]\n        # ['青绿', 6, 3, 3]\n        g = np.asarray(g[1:], dtype=float)\n\n        # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0\n        item1 = (g[1] / g[0]) * np.log2(g[1] / g[0]) if g[1] / g[0] != 0 else 0\n        item2 = (g[2] / g[0]) * np.log2(g[2] / g[0]) if g[2] / g[0] != 0 else 0\n        _matrix_ent_dv.append(-(item1 + item2))\n\n    # 返回交叉熵\n    return ent(data) - np.sum(np.asarray(_value_all / _n_all_data) * np.asarray(_matrix_ent_dv))\n\n\nprint(\"\\n-----------纹理=清晰的数据-----------\")\ndata_wenli = data_xigua[data_xigua['纹理'] == '清晰']\nprint(\"色泽\", entropy_attribute(data_wenli, '色泽'))\nprint(\"根蒂\", entropy_attribute(data_wenli, '根蒂'))\nprint(\"敲声\", entropy_attribute(data_wenli, '敲声'))\nprint(\"脐部\", entropy_attribute(data_wenli, '脐部'))\nprint(\"触感\", entropy_attribute(data_wenli, '触感')) \n```\n\n### 递归截止条件\n\n对于每个节点, 一依次递归, 指导结束. 递归构建停止的条件\n\n- (无需划分) 当前结点包含的样本全属于同一类别，无需划分；\n- (无法划分) 当前 属性集为空，或是所有样本在所有属性上取值相同，无法划分;\n- (不能划分) 当前结点包含的样本集合为空，不能划分.\n\n## 决策树 (decision tree) 基础\n\n### 机器学习的两类经典问题\n\n回归和分类.\n\n### 分类问题\n\n是机器学习两类经典问题中的一个问题.\n\n例 1: 根据学生分数/作业提交率等判断 <u>学生是否是好学生</u>(分类)  \n\t![static/attachment/Pasted image 20221128081900.png](/images/9acc6865a65ea15430d42d4d3cc44f9793f6a715.png)\n\n例 2: (下文中称为: **西瓜数据集**) 根据 **西瓜** 的属性, 判断西瓜是否是好瓜  \n![static/attachment/Pasted image 20221128090249.png](/images/4fd944c16b3f85f74727b41fc78d87359054db4f.png)\n\n### 信息熵\n\n信息熵 (information entropy) 是度量 <u>数据信息量</u> 的一种方法 (例如,现实中 \" 你说话没有信息量 \", 这个 **信息量** 怎么度量)  \n\n#### 定义\n\n- 定义: $\\operatorname{entropy}(D)=\\operatorname{Ent}(D)=-\\sum_{k=1}^{|\\mathcal{Y}|} p_k \\log _2 p_k$  \n\t- D 是数据集, $p_k$ 表示第 $k$ 类数据集占所有数据集的 **比例**  \n\t\t- k 指标签\n\t- $|y|$ =$len(unique(y))$\n\t- 这里我们规定:  \n\t\t- $p_1$ 为正例, (是) 好瓜 的比例\n\t\t- $p_2$ 为反例, (否) 不是好瓜 的比例  \n$p_k, i \\in \\{1,2\\}$  \n$p_1$= $\\frac{8}{11}$  \n$p_2=3/11$ = $1-p_1$\n\n#### 计算实例 1\n\n例子计算西瓜数据集 D (所有数据) 的信息熵\n\n- 数据集 $D$ (西瓜数据) 中包含两类 ($\\{k_1=是(好瓜), k_2=否(不是好瓜)\\}$)\n\t- 以 $p$ 表示概率\n\t\t- $p_{k_1}=8/17$\n\t\t- $p_{k_2}=9/17$\n\t- $Ent(D)=-\\sum_1^2p_klog_2 p_k=-\\left(\\frac{8}{17} \\log _2 \\frac{8}{17}+\\frac{9}{17} \\log _2 \\frac{9}{17}\\right)=0.998$\n---\n\n代码实现  \n\n```python\n# 计算根节点(所有数据)的信息熵\n\n# \"是\"(是好瓜)与\"否\"(不是好瓜) 的数量\nn_haogua=data_xigua[data_xigua['好瓜']=='是'].shape[0]\nn_not_haogua=data_xigua[data_xigua['好瓜']=='否'].shape[0]\n# 瓜的总数\nn_all=n_haogua+n_not_haogua\nn_haogua,n_not_haogua,n_all\n\n\n# \"是\"(是好瓜)与\"否\"(不是好瓜) 的信息熵\np1=n_haogua/n_all\np2=n_not_haogua/n_all\nentropy=-(p1*np.log2(p1)+p2*np.log2(p2))\nentropy\n```\n\n执行结果:  \n![static/attachment/Pasted image 20221128122638.png](/images/82bf186bb7a7e0db263e43405521541f19e5b374.png)\n\n#### 计算实例 2\n\n\\计算属性 \" 色泽 \" 的信息熵\n\n- 从西瓜数据集 D 中, 我们知道色泽取值:｛青绿，乌黑，浅白｝\n- 用该属性对西瓜数据集 D 进行划分, 可以将 D 中所有的数据集划分为 3 类\n\t- $D^1$: 色泽=青绿, $D^1$ 包含的数据为 {1, 4, 6, 10, 13, 17}, $p_1=3/6,p_2=3/6$\n\t\t- $p_1$ : 好瓜的占比\n\t\t- $p_2$ : 不是好瓜的占比\n\t- $D^2$ 色泽=乌黑, $D^2$ 包含的数据为 { 2, 3, 7, 8, 9, 15}, $p_1=4/6, p_2=2/6$\n\t- $D^3$ 色泽=浅白, $D^3$ 包含的数据为 {5, 11, 12, 14, 16}, $p_1=1/5,p_2=4/5$\n- 青绿 ($D^1$)，乌黑 ($D^2$)，浅白 ($D^3$) 的信息熵分别为\n\t- $\\operatorname{Ent}\\left(D^1\\right)=-\\left(\\frac{3}{6} \\log _2 \\frac{3}{6}+\\frac{3}{6} \\log _2 \\frac{3}{6}\\right)=1.000$\n\t- $\\operatorname{Ent}\\left(D^2\\right)=-\\left(\\frac{4}{6} \\log _2 \\frac{4}{6}+\\frac{2}{6} \\log _2 \\frac{2}{6}\\right)=0.918$\n\t- $\\operatorname{Ent}\\left(D^3\\right)=-\\left(\\frac{1}{5} \\log _2 \\frac{1}{5}+\\frac{4}{5} \\log _2 \\frac{4}{5}\\right)=0.722$\n\n---\n\n代码实现\n\n```python\n# 青绿，乌黑，浅白的瓜\nsz_qinglv=data_xigua[data_xigua['色泽']=='青绿']\nsz_wuhei=data_xigua[data_xigua['色泽']=='乌黑'] \nsz_qianbai=data_xigua[data_xigua['色泽']=='浅白'] \n\n# 青绿，乌黑，浅白的中好瓜的数量\nn_sz_qinglv_haogua=sz_qinglv[sz_qinglv['好瓜']=='是'].shape[0]\nn_sz_wuhei_haogua=sz_wuhei[sz_wuhei['好瓜']=='是'].shape[0]\nn_sz_qianbai_haogua=sz_qianbai[sz_qianbai['好瓜']=='是'].shape[0]\nn_sz_qinglv_haogua,n_sz_wuhei_haogua,n_sz_qianbai_haogua\n\n# 青绿，乌黑，浅白的瓜的比例\np1=n_sz_qinglv_haogua/sz_qinglv.shape[0]\np2=n_sz_wuhei_haogua/sz_wuhei.shape[0]\np3=n_sz_qianbai_haogua/sz_qianbai.shape[0]\np1,p2,p3\n\n# 青绿，乌黑，浅白的瓜的信息熵\nentropy_qinglv=-(p1*np.log2(p1)+(1-p1)*np.log2(1-p1))\nentropy_wuhei=-(p2*np.log2(p2)+(1-p2)*np.log2(1-p2))\nentropy_qianbai=-(p3*np.log2(p3)+(1-p3)*np.log2(1-p3))\nentropy_qinglv,entropy_wuhei,entropy_qianbai\n```\n\n运行结果:  \n![static/attachment/Pasted image 20221128124416.png](/images/4547ae89def8d522551b0f2cdecdad5658ee8530.png)\n\n### 信息增益\n\n信息增益 (information gain) 是决策树中决定 **属性重要性** 的一种方法.\n\n#### 定义\n\n- $\\operatorname{Gain}(D, a)=\\operatorname{Ent}(D)-\\sum_{v=1}^V \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right)$\n\t- D: 参与计算的多条数据\n\t\t- 当前节点 (你马上要计算的那个节点) 的所有数据\n\t\t- 如西瓜数据集中的 17 条数据\n\t- a: 数据中的单个属性\n\t\t- 如 $a=色泽$\n\t\t- $a=纹理$\n\t- $D^V$: 假定离散属性 a 有 V 个 可能的取 值 $\\{a^1,a^2,\\dots,a^V\\}$, 若使用 a 来对样本集 D 进行划分，则会产生 V 个分支结点，其中第 V 个分支结点包含了 D 中所有在属性 a 上取值为 $a^v$ 的样本，记 为 $D^V$\n\t\t- 如属性色泽: $\\{a^1,a^2,\\dots,a^V\\}$ = $\\{a^1, a^2, a^3\\}$ = {青绿，乌黑，浅白}\n\t\t- 这里会产生 3 个分支节点,因为有三个属性 ({青绿，乌黑，浅白} ), 所以 $V=3$\n\t\t- $D^1$ 表示 **色泽=青绿** 的所有样本.\n\t\t- $D^2$ 表示 **色泽=乌黑** 的所有样本.\n\t\t- $D^3$ 表示?\n\t- $|D^V|$: $D^V$ 中值的个数 (len($D^V$) )\n\t- $Ent(D)$ : 整个数据的 [[#信息熵]]\n\t- $Ent(D^V)$ : $D^V$ 的信息熵\n\n#### 信息增益的特性\n\n信息增益越大，则意味着使用属性 a 来进行划分的效果越好\n\n#### 计算所有属性的信息增益\n\n$gain(D)=\\operatorname{Ent}(D)-\\sum_{v=1}^V \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right)$\n\n以色泽为例:\n$\\begin{aligned} \\operatorname{Gain}(D, \\text { 色泽 }) =\\operatorname{Ent}(D)-\\sum_{v=1}^3 \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right) =0.998-\\left(\\frac{6}{17} \\times 1.000+\\frac{6}{17} \\times 0.918+\\frac{5}{17} \\times 0.722\\right) =0.109 \\end{aligned}$\n---\n\n代码实现:\n\n```python\nimport pandas\nimport pandas as pd\nimport numpy as np\n\ndata_xigua = pd.read_csv(\"西瓜数据集2.0.csv\")\n\n\ndef ent(entropy_data: pandas.DataFrame):\n    # 瓜的总数\n    n_all = entropy_data.shape[0]\n\n    # \"是\"(是好瓜)与\"否\"(不是好瓜) 的数量\n    n_haogua = entropy_data[entropy_data['好瓜'] == '是'].shape[0]\n    n_not_haogua = n_all - n_haogua\n    p1 = n_haogua / n_all\n    p2 = n_not_haogua / n_all\n    # # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0\n    item_1 = p1 * np.log2(p1) if p1 != 0 else 0\n    item_2 = p2 * np.log2(p2) if p2 != 0 else 0\n    entropy = -(item_1 + item_2)\n    return entropy\n\n\n# 把上面的封装为一个函数\ndef entropy_attribute(data: pandas.DataFrame, key=\"色泽\"):\n    # 总数据量\n    _n_all_data = data.shape[0]\n\n    # 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.\n    # 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]\n\n    attr_entropies = []\n    attr_count = []\n    for _attr, group in data.groupby(key):\n        # print(\"======\\n\\n\", _attr, \"\\n\", group)\n        _n_group_all = group.shape[0]\n        attr_entropies.append(ent(group))\n        attr_count.append(_n_group_all)\n    res = ent(data) - np.sum(np.asarray(attr_count) / _n_all_data * np.array(attr_entropies))\n    return res\n\n\n# 把上面的封装为一个函数\ndef entropy_attribute_bak(data, key=\"色泽\"):\n    # 总数据量\n    _n_all_data = data.shape[0]\n\n    # 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.\n    # 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]\n    _gua_counts = []\n\n    for _attr, group in data.groupby(key):\n        # print(\"======\\n\\n\", _attr, \"\\n\", group)\n        _n_all = group.shape[0]\n        _n_haogua = group[group['好瓜'] == '是'].shape[0]\n        _n_not_haogua = _n_all - _n_haogua\n\n        # 数组的项目: 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量\n        _item = [_attr, _n_all, _n_haogua, _n_not_haogua]\n\n        _gua_counts.append(_item)\n    _gua_counts = np.asarray(_gua_counts)\n    # 每个取值的总数量\n    _value_all = _gua_counts[:, 1].astype('float')\n    # print(\"每个取值的总数量\", _value_all)\n    # 每个取值的交叉熵\n    _matrix_ent_dv = []\n    for g in _gua_counts:\n        # print(g)\n        # ['乌黑', 6, 4, 2]\n        # ['浅白', 5, 1, 4]\n        # ['青绿', 6, 3, 3]\n        g = np.asarray(g[1:], dtype=float)\n\n        # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0\n        item1 = (g[1] / g[0]) * np.log2(g[1] / g[0]) if g[1] / g[0] != 0 else 0\n        item2 = (g[2] / g[0]) * np.log2(g[2] / g[0]) if g[2] / g[0] != 0 else 0\n        _matrix_ent_dv.append(-(item1 + item2))\n\n    # 返回交叉熵\n    return ent(data) - np.sum(np.asarray(_value_all / _n_all_data) * np.asarray(_matrix_ent_dv))\n\n\nprint(\"-----------所有数据-----------\")\nprint(\"色泽\", entropy_attribute(data_xigua, '色泽'))\nprint(\"根蒂\", entropy_attribute(data_xigua, '根蒂'))\nprint(\"敲声\", entropy_attribute(data_xigua, '敲声'))\nprint(\"纹理\", entropy_attribute(data_xigua, '纹理'))\nprint(\"脐部\", entropy_attribute(data_xigua, '脐部'))\nprint(\"触感\", entropy_attribute(data_xigua, '触感'))\n```\n\n结果:\n\n```python\n-----------所有数据-----------\n色泽 0.1081251652653652\n根蒂 0.14267495956679277\n敲声 0.14078143361499573\n纹理 0.3805918973682685\n脐部 0.28915878284167884\n触感 0.006046489176565473\n```\n\n \n\n## 基于 Sk-learn 的实现\n\n高级内容 (选做作业)\n\n```python\nimport pandas\nimport pandas as pd\nimport numpy as np\nfrom sklearn import tree\nfrom sklearn.feature_extraction import DictVectorizer\n\n\ndata_xigua = pd.read_csv(\"西瓜数据集2.0.csv\")\nX: pd.DataFrame = data_xigua.iloc[:, 1:-1]\ny: pd.Series = data_xigua.iloc[:, -1]\nprint(X.head())\nprint(y.head())\n\n# 将字符串转为数字\nnormal_data = []\nx_maps = {}\nfor colname in X.columns:\n    value, map = pd.factorize(X[colname])\n    normal_data.append(value)\n    x_maps[colname] = map\n    # (array([0, 1, 1, 0, 2, 0, 1, 1, 1, 0, 2, 2, 0, 2, 1, 2, 0]), Index(['青绿', '乌黑', '浅白'], dtype='object'))\n    # (array([0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 0, 1, 1, 1, 0, 0]), Index(['蜷缩', '稍蜷', '硬挺'], dtype='object'))\n    # (array([0, 1, 0, 1, 0, 0, 0, 0, 1, 2, 2, 0, 0, 1, 0, 0, 1]), Index(['浊响', '沉闷', '清脆'], dtype='object'))\n    # (array([0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 2, 2, 1, 1, 0, 2, 1]), Index(['清晰', '稍糊', '模糊'], dtype='object'))\n    # (array([0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 0, 0, 1, 2, 1]), Index(['凹陷', '稍凹', '平坦'], dtype='object'))\n    # (array([0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0]), Index(['硬滑', '软粘'], dtype='object'))\n\nx_data = np.asarray(normal_data).T\n\n# 将\"字符\"转为数字\n\n\n\ny_data, y_maps = pd.factorize(y)\nprint(\"Xdata and ydata================================================================\")\nprint(x_data)\nprint(y_data)\n\n## start\nclf = tree.DecisionTreeClassifier()\nclf = clf.fit(x_data, y_data)\n## end\nres = tree.plot_tree(clf)\n\n```\n\n![static/attachment/Pasted image 20221128161247.png](/images/133a03eb24d1a706df56bc177f7585f919b74960.png)  \n[sklearn 决策树](http://127.0.0.1:8888/lab/workspaces/auto-b/tree/商业数据分析/sk-learn-决策树.ipynb)\n\n## 作业\n\n![[Docs/后续课程内容安排#AI 作业]]\n","slug":"决策树decisiontree","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io6001siwv954k54m2f","content":"<ul>\n<li>先看结果, 再说原理和操作</li>\n</ul>\n<h2 id=\"目标\">目标</h2>\n<p>根据西瓜的 <strong>属性</strong>, 让 <strong>决策树 (decision tree)</strong> 给我们分出 &quot; 好瓜 &quot; 和 &quot; 不是好瓜 &quot;</p>\n<h3 id=\"西瓜的数据\">西瓜的数据</h3>\n<p>西瓜的 <strong>属性</strong> 共包括: <code>色泽,根蒂,敲声,纹理,脐部,触感</code></p>\n<p>西瓜的 <strong>标签</strong>: <code>好瓜</code> (是/否)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编号,色泽,根蒂,敲声,纹理,脐部,触感,好瓜</span><br><span class=\"line\"><span class=\"number\">1</span>,青绿,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">2</span>,乌黑,蜷缩,沉闷,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">3</span>,乌黑,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">4</span>,青绿,蜷缩,沉闷,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">5</span>,浅白,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">6</span>,青绿,稍蜷,浊响,清晰,稍凹,软粘,是</span><br><span class=\"line\"><span class=\"number\">7</span>,乌黑,稍蜷,浊响,稍糊,稍凹,软粘,是</span><br><span class=\"line\"><span class=\"number\">8</span>,乌黑,稍蜷,浊响,清晰,稍凹,硬滑,是</span><br><span class=\"line\"><span class=\"number\">9</span>,乌黑,稍蜷,沉闷,稍糊,稍凹,硬滑,否</span><br><span class=\"line\"><span class=\"number\">10</span>,青绿,硬挺,清脆,清晰,平坦,软粘,否</span><br><span class=\"line\"><span class=\"number\">11</span>,浅白,硬挺,清脆,模糊,平坦,硬滑,否</span><br><span class=\"line\"><span class=\"number\">12</span>,浅白,蜷缩,浊响,模糊,平坦,软粘,否</span><br><span class=\"line\"><span class=\"number\">13</span>,青绿,稍蜷,浊响,稍糊,凹陷,硬滑,否</span><br><span class=\"line\"><span class=\"number\">14</span>,浅白,稍蜷,沉闷,稍糊,凹陷,硬滑,否</span><br><span class=\"line\"><span class=\"number\">15</span>,乌黑,稍蜷,浊响,清晰,稍凹,软粘,否</span><br><span class=\"line\"><span class=\"number\">16</span>,浅白,蜷缩,浊响,模糊,平坦,硬滑,否</span><br><span class=\"line\"><span class=\"number\">17</span>,青绿,蜷缩,沉闷,稍糊,稍凹,硬滑,否</span><br></pre></td></tr></table></figure>\n<h3 id=\"决策树分类结果展示\">决策树分类结果展示</h3>\n<p><img src=\"/images/36f2494692678be6a00e116ff9825209ef2a65cf.png\" alt=\"static/attachment/Pasted image 20221128102615.png\"><br>\n来源: 周志华《机器学习》</p>\n<h2 id=\"决策树-decision-tree-是什么\">决策树 (decision tree) 是什么</h2>\n<p>决策树 (decision tree) 是一类常见的机器学习分类模型, 是机器学习两类经典问题中的一个问题.</p>\n<h2 id=\"决策树的构建步骤\">决策树的构建步骤</h2>\n<p>决策树的构建步骤主要包括如下步骤</p>\n<ul>\n<li>准备数据</li>\n<li>挑选要 &quot; 分叉 &quot; 的属性\n<ul>\n<li>选信息增益最大的一个\n<ul>\n<li>如果有多个属性的信息增益一样大, 随机取一个</li>\n</ul>\n</li>\n<li>(色泽,根蒂,敲声,纹理,脐部,触感)</li>\n</ul>\n</li>\n<li>’ 分叉 ’</li>\n<li>递归回到第二步, 直到达到结束分叉的条件</li>\n</ul>\n<h3 id=\"准备数据\">准备数据</h3>\n<p>数据中需要包含 <strong>属性值</strong> 与 <strong>标签值</strong>,<br>\n数据样例:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编号,色泽,根蒂,敲声,纹理,脐部,触感,好瓜</span><br><span class=\"line\"><span class=\"number\">1</span>,青绿,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">2</span>,乌黑,蜷缩,沉闷,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">3</span>,乌黑,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br></pre></td></tr></table></figure>\n<hr>\n<p>python 实现:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data_xigua=pd.read_csv(<span class=\"string\">&quot;西瓜数据集2.0.csv&quot;</span>)</span><br><span class=\"line\">data_xigua </span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/5b3606bc366335e96009e6266a5d6b86092fc72d.png\" alt=\"static/attachment/Pasted image 20221128113502.png\"></p>\n<h3 id=\"挑选要-分叉-的属性\">挑选要 &quot; 分叉 &quot; 的属性</h3>\n<p>目标: 我们需要在 6 个属性 ( {色泽,根蒂,敲声,纹理,脐部,触感} ) 中选择一个属性, 进行首次 &quot; 分叉 &quot;.</p>\n<p>Q: 6 个属性选哪个最好?<br>\nA: 选 <strong>信息增益</strong> 最大的一个属性</p>\n<p>[[#信息增益]] 是什么 ?<br>\n[[#信息增益]] 也叫 ID3(Iterative Dichotomiser (迭代二分器)).</p>\n<hr>\n<p>👉 通过计算 6 个属性的信息增益, 我们得到每个属性的信息增益如下:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">色泽 <span class=\"number\">0.1081251652653652</span></span><br><span class=\"line\">根蒂 <span class=\"number\">0.14267495956679277</span></span><br><span class=\"line\">敲声 <span class=\"number\">0.14078143361499573</span></span><br><span class=\"line\">纹理 <span class=\"number\">0.3805918973682685</span></span><br><span class=\"line\">脐部 <span class=\"number\">0.28915878284167884</span></span><br><span class=\"line\">触感 <span class=\"number\">0.006046489176565473</span></span><br></pre></td></tr></table></figure>\n<p><strong>纹理</strong> 的信息增益最大, 因此我们选择信息增益为第一个 &quot; 分叉点 &quot;, 得到 &quot; 分叉 &quot; 结果:<br>\n<img src=\"/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png\" alt=\"static/attachment/Pasted image 20221128140713.png\"></p>\n<p>对应的数据:<br>\n<img src=\"/images/68ce01c3af321af3fc2cf6da1d5537927157f090.png\" alt=\"static/attachment/Pasted image 20221128141355.png\"></p>\n<h3 id=\"递归分叉\">递归分叉</h3>\n<p>从上一步分分叉结果中:<br>\n<img src=\"/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png\" alt=\"static/attachment/Pasted image 20221128140713.png\"></p>\n<p>👉 我们以左下角的第一个节点 (<strong>纹理=清晰</strong>) 为根节点, 该结点包含的样例集合中有编号为｛1, 2, 3, 4, 5, 6, 8, 10, 15）的 9 个样例，可用属性集合为｛色泽，根蒂，敲声，脐部, 触感}, 计算每个属性在当前数据 (<strong>纹理=清晰</strong>) 上的信息增益</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-----------纹理=清晰的数据-----------</span><br><span class=\"line\">色泽 <span class=\"number\">0.04306839587828004</span></span><br><span class=\"line\">根蒂 <span class=\"number\">0.45810589515712374</span></span><br><span class=\"line\">敲声 <span class=\"number\">0.33085622540971754</span></span><br><span class=\"line\">脐部 <span class=\"number\">0.45810589515712374</span></span><br><span class=\"line\">触感 <span class=\"number\">0.45810589515712374</span> </span><br></pre></td></tr></table></figure>\n<p>👉 蒂“根蒂”、“脐部”、“触感” 3 个属性均取得了最大的信息增益，可任 选其中之一作为划分属性, 递归进行, 直到达到结束条件. 递归完成后, 我们将得到如下树:<br>\n<img src=\"/images/4165a937f4c8ada78735d80ebb76ba95358b283f.png\" alt=\"static/attachment/Pasted image 20221128154817.png\"></p>\n<hr>\n<p>python 实现:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">data_xigua = pd.read_csv(<span class=\"string\">&quot;西瓜数据集2.0.csv&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">ent</span>(<span class=\"params\">entropy_data: pandas.DataFrame</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 瓜的总数</span></span><br><span class=\"line\">    n_all = entropy_data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># &quot;是&quot;(是好瓜)与&quot;否&quot;(不是好瓜) 的数量</span></span><br><span class=\"line\">    n_haogua = entropy_data[entropy_data[<span class=\"string\">&#x27;好瓜&#x27;</span>] == <span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">    n_not_haogua = n_all - n_haogua</span><br><span class=\"line\">    p1 = n_haogua / n_all</span><br><span class=\"line\">    p2 = n_not_haogua / n_all</span><br><span class=\"line\">    <span class=\"comment\"># # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0</span></span><br><span class=\"line\">    item_1 = p1 * np.log2(p1) <span class=\"keyword\">if</span> p1 != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    item_2 = p2 * np.log2(p2) <span class=\"keyword\">if</span> p2 != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    entropy = -(item_1 + item_2)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> entropy</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 把上面的封装为一个函数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">entropy_attribute</span>(<span class=\"params\">data: pandas.DataFrame, key=<span class=\"string\">&quot;色泽&quot;</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># 总数据量</span></span><br><span class=\"line\">    _n_all_data = data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.</span></span><br><span class=\"line\">    <span class=\"comment\"># 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]</span></span><br><span class=\"line\"></span><br><span class=\"line\">    attr_entropies = []</span><br><span class=\"line\">    attr_count = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _attr, group <span class=\"keyword\">in</span> data.groupby(key):</span><br><span class=\"line\">        <span class=\"comment\"># print(&quot;======\\n\\n&quot;, _attr, &quot;\\n&quot;, group)</span></span><br><span class=\"line\">        _n_group_all = group.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        attr_entropies.append(ent(group))</span><br><span class=\"line\">        attr_count.append(_n_group_all)</span><br><span class=\"line\">    res = ent(data) - np.<span class=\"built_in\">sum</span>(np.asarray(attr_count) / _n_all_data * np.array(attr_entropies))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 把上面的封装为一个函数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">entropy_attribute_bak</span>(<span class=\"params\">data, key=<span class=\"string\">&quot;色泽&quot;</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># 总数据量</span></span><br><span class=\"line\">    _n_all_data = data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.</span></span><br><span class=\"line\">    <span class=\"comment\"># 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]</span></span><br><span class=\"line\">    _gua_counts = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _attr, group <span class=\"keyword\">in</span> data.groupby(key):</span><br><span class=\"line\">        <span class=\"comment\"># print(&quot;======\\n\\n&quot;, _attr, &quot;\\n&quot;, group)</span></span><br><span class=\"line\">        _n_all = group.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        _n_haogua = group[group[<span class=\"string\">&#x27;好瓜&#x27;</span>] == <span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        _n_not_haogua = _n_all - _n_haogua</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 数组的项目: 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量</span></span><br><span class=\"line\">        _item = [_attr, _n_all, _n_haogua, _n_not_haogua]</span><br><span class=\"line\"></span><br><span class=\"line\">        _gua_counts.append(_item)</span><br><span class=\"line\">    _gua_counts = np.asarray(_gua_counts)</span><br><span class=\"line\">    <span class=\"comment\"># 每个取值的总数量</span></span><br><span class=\"line\">    _value_all = _gua_counts[:, <span class=\"number\">1</span>].astype(<span class=\"string\">&#x27;float&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\"># print(&quot;每个取值的总数量&quot;, _value_all)</span></span><br><span class=\"line\">    <span class=\"comment\"># 每个取值的交叉熵</span></span><br><span class=\"line\">    _matrix_ent_dv = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> g <span class=\"keyword\">in</span> _gua_counts:</span><br><span class=\"line\">        <span class=\"comment\"># print(g)</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;乌黑&#x27;, 6, 4, 2]</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;浅白&#x27;, 5, 1, 4]</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;青绿&#x27;, 6, 3, 3]</span></span><br><span class=\"line\">        g = np.asarray(g[<span class=\"number\">1</span>:], dtype=<span class=\"built_in\">float</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0</span></span><br><span class=\"line\">        item1 = (g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>]) * np.log2(g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>]) <span class=\"keyword\">if</span> g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>] != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        item2 = (g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>]) * np.log2(g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>]) <span class=\"keyword\">if</span> g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>] != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        _matrix_ent_dv.append(-(item1 + item2))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 返回交叉熵</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ent(data) - np.<span class=\"built_in\">sum</span>(np.asarray(_value_all / _n_all_data) * np.asarray(_matrix_ent_dv))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;\\n-----------纹理=清晰的数据-----------&quot;</span>)</span><br><span class=\"line\">data_wenli = data_xigua[data_xigua[<span class=\"string\">&#x27;纹理&#x27;</span>] == <span class=\"string\">&#x27;清晰&#x27;</span>]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;色泽&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;色泽&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;根蒂&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;根蒂&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;敲声&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;敲声&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;脐部&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;脐部&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;触感&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;触感&#x27;</span>)) </span><br></pre></td></tr></table></figure>\n<h3 id=\"递归截止条件\">递归截止条件</h3>\n<p>对于每个节点, 一依次递归, 指导结束. 递归构建停止的条件</p>\n<ul>\n<li>(无需划分) 当前结点包含的样本全属于同一类别，无需划分；</li>\n<li>(无法划分) 当前 属性集为空，或是所有样本在所有属性上取值相同，无法划分;</li>\n<li>(不能划分) 当前结点包含的样本集合为空，不能划分.</li>\n</ul>\n<h2 id=\"决策树-decision-tree-基础\">决策树 (decision tree) 基础</h2>\n<h3 id=\"机器学习的两类经典问题\">机器学习的两类经典问题</h3>\n<p>回归和分类.</p>\n<h3 id=\"分类问题\">分类问题</h3>\n<p>是机器学习两类经典问题中的一个问题.</p>\n<p>例 1: 根据学生分数/作业提交率等判断 <u>学生是否是好学生</u>(分类)<br>\n<img src=\"/images/9acc6865a65ea15430d42d4d3cc44f9793f6a715.png\" alt=\"static/attachment/Pasted image 20221128081900.png\"></p>\n<p>例 2: (下文中称为: <strong>西瓜数据集</strong>) 根据 <strong>西瓜</strong> 的属性, 判断西瓜是否是好瓜<br>\n<img src=\"/images/4fd944c16b3f85f74727b41fc78d87359054db4f.png\" alt=\"static/attachment/Pasted image 20221128090249.png\"></p>\n<h3 id=\"信息熵\">信息熵</h3>\n<p>信息熵 (information entropy) 是度量 <u>数据信息量</u> 的一种方法 (例如,现实中 &quot; 你说话没有信息量 &quot;, 这个 <strong>信息量</strong> 怎么度量)</p>\n<h4 id=\"定义\">定义</h4>\n<ul>\n<li>定义: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">entropy</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant=\"normal\">∣</mi><mi mathvariant=\"script\">Y</mi><mi mathvariant=\"normal\">∣</mi></mrow></msubsup><msub><mi>p</mi><mi>k</mi></msub><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\operatorname{entropy}(D)=\\operatorname{Ent}(D)=-\\sum_{k=1}^{|\\mathcal{Y}|} p_k \\log _2 p_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\" style=\"margin-right:0.01389em;\">entropy</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3461em;vertical-align:-0.3013em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3987em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∣</span><span class=\"mord mathcal mtight\" style=\"margin-right:0.08222em;\">Y</span><span class=\"mord mtight\">∣</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3013em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>\n<ul>\n<li>D 是数据集, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 表示第 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> 类数据集占所有数据集的 <strong>比例</strong>\n<ul>\n<li>k 指标签</li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∣</mi><mi>y</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">|y|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord\">∣</span></span></span></span> =<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>u</mi><mi>n</mi><mi>i</mi><mi>q</mi><mi>u</mi><mi>e</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">len(unique(y))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">ni</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">e</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">))</span></span></span></span></li>\n<li>这里我们规定:\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为正例, (是) 好瓜 的比例</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为反例, (否) 不是好瓜 的比例<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>k</mi></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">p_k, i \\in \\{1,2\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mclose\">}</span></span></span></span><br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>= <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>8</mn><mn>11</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{8}{11}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">8</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span><br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>3</mn><mi mathvariant=\"normal\">/</mi><mn>11</mn></mrow><annotation encoding=\"application/x-tex\">p_2=3/11</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3/11</span></span></span></span> = <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>−</mo><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">1-p_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"计算实例-1\">计算实例 1</h4>\n<p>例子计算西瓜数据集 D (所有数据) 的信息熵</p>\n<ul>\n<li>数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> (西瓜数据) 中包含两类 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mi>k</mi><mn>1</mn></msub><mo>=</mo><mtext>是</mtext><mo stretchy=\"false\">(</mo><mtext>好瓜</mtext><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><msub><mi>k</mi><mn>2</mn></msub><mo>=</mo><mtext>否</mtext><mo stretchy=\"false\">(</mo><mtext>不是好瓜</mtext><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{k_1=是(好瓜), k_2=否(不是好瓜)\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord cjk_fallback\">是</span><span class=\"mopen\">(</span><span class=\"mord cjk_fallback\">好瓜</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord cjk_fallback\">否</span><span class=\"mopen\">(</span><span class=\"mord cjk_fallback\">不是好瓜</span><span class=\"mclose\">)}</span></span></span></span>)\n<ul>\n<li>以 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> 表示概率\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><msub><mi>k</mi><mn>1</mn></msub></msub><mo>=</mo><mn>8</mn><mi mathvariant=\"normal\">/</mi><mn>17</mn></mrow><annotation encoding=\"application/x-tex\">p_{k_1}=8/17</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6807em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3173em;\"><span style=\"top:-2.357em;margin-left:-0.0315em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">8/17</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><msub><mi>k</mi><mn>2</mn></msub></msub><mo>=</mo><mn>9</mn><mi mathvariant=\"normal\">/</mi><mn>17</mn></mrow><annotation encoding=\"application/x-tex\">p_{k_2}=9/17</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6807em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3173em;\"><span style=\"top:-2.357em;margin-left:-0.0315em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">9/17</span></span></span></span></li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo>−</mo><msubsup><mo>∑</mo><mn>1</mn><mn>2</mn></msubsup><msub><mi>p</mi><mi>k</mi></msub><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><msub><mi>p</mi><mi>k</mi></msub><mo>=</mo><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>8</mn><mn>17</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>8</mn><mn>17</mn></mfrac><mo>+</mo><mfrac><mn>9</mn><mn>17</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>9</mn><mn>17</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.998</mn></mrow><annotation encoding=\"application/x-tex\">Ent(D)=-\\sum_1^2p_klog_2 p_k=-\\left(\\frac{8}{17} \\log _2 \\frac{8}{17}+\\frac{9}{17} \\log _2 \\frac{9}{17}\\right)=0.998</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2537em;vertical-align:-0.2997em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">17</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">8</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">17</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">8</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">17</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">9</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">17</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">9</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.998</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n<hr>\n<p>代码实现</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 计算根节点(所有数据)的信息熵</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># &quot;是&quot;(是好瓜)与&quot;否&quot;(不是好瓜) 的数量</span></span><br><span class=\"line\">n_haogua=data_xigua[data_xigua[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">n_not_haogua=data_xigua[data_xigua[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;否&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"><span class=\"comment\"># 瓜的总数</span></span><br><span class=\"line\">n_all=n_haogua+n_not_haogua</span><br><span class=\"line\">n_haogua,n_not_haogua,n_all</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># &quot;是&quot;(是好瓜)与&quot;否&quot;(不是好瓜) 的信息熵</span></span><br><span class=\"line\">p1=n_haogua/n_all</span><br><span class=\"line\">p2=n_not_haogua/n_all</span><br><span class=\"line\">entropy=-(p1*np.log2(p1)+p2*np.log2(p2))</span><br><span class=\"line\">entropy</span><br></pre></td></tr></table></figure>\n<p>执行结果:<br>\n<img src=\"/images/82bf186bb7a7e0db263e43405521541f19e5b374.png\" alt=\"static/attachment/Pasted image 20221128122638.png\"></p>\n<h4 id=\"计算实例-2\">计算实例 2</h4>\n<p>\\计算属性 &quot; 色泽 &quot; 的信息熵</p>\n<ul>\n<li>从西瓜数据集 D 中, 我们知道色泽取值:｛青绿，乌黑，浅白｝</li>\n<li>用该属性对西瓜数据集 D 进行划分, 可以将 D 中所有的数据集划分为 3 类\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span>: 色泽=青绿, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> 包含的数据为 {1, 4, 6, 10, 13, 17}, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mn>3</mn><mi mathvariant=\"normal\">/</mi><mn>6</mn><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>3</mn><mi mathvariant=\"normal\">/</mi><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">p_1=3/6,p_2=3/6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3/6</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3/6</span></span></span></span>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> : 好瓜的占比</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> : 不是好瓜的占比</li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> 色泽=乌黑, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> 包含的数据为 { 2, 3, 7, 8, 9, 15}, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mn>4</mn><mi mathvariant=\"normal\">/</mi><mn>6</mn><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn><mi mathvariant=\"normal\">/</mi><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">p_1=4/6, p_2=2/6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">4/6</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">2/6</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span> 色泽=浅白, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span> 包含的数据为 {5, 11, 12, 14, 16}, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>5</mn><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>4</mn><mi mathvariant=\"normal\">/</mi><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">p_1=1/5,p_2=4/5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">4/5</span></span></span></span></li>\n</ul>\n</li>\n<li>青绿 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span>)，乌黑 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>)，浅白 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span>) 的信息熵分别为\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mn>1</mn></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>3</mn><mn>6</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>3</mn><mn>6</mn></mfrac><mo>+</mo><mfrac><mn>3</mn><mn>6</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>3</mn><mn>6</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>1.000</mn></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Ent}\\left(D^1\\right)=-\\left(\\frac{3}{6} \\log _2 \\frac{3}{6}+\\frac{3}{6} \\log _2 \\frac{3}{6}\\right)=1.000</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1.000</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mn>2</mn></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>4</mn><mn>6</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>4</mn><mn>6</mn></mfrac><mo>+</mo><mfrac><mn>2</mn><mn>6</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>2</mn><mn>6</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.918</mn></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Ent}\\left(D^2\\right)=-\\left(\\frac{4}{6} \\log _2 \\frac{4}{6}+\\frac{2}{6} \\log _2 \\frac{2}{6}\\right)=0.918</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.918</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mn>3</mn></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>1</mn><mn>5</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>1</mn><mn>5</mn></mfrac><mo>+</mo><mfrac><mn>4</mn><mn>5</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>4</mn><mn>5</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.722</mn></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Ent}\\left(D^3\\right)=-\\left(\\frac{1}{5} \\log _2 \\frac{1}{5}+\\frac{4}{5} \\log _2 \\frac{4}{5}\\right)=0.722</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.722</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n<hr>\n<p>代码实现</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 青绿，乌黑，浅白的瓜</span></span><br><span class=\"line\">sz_qinglv=data_xigua[data_xigua[<span class=\"string\">&#x27;色泽&#x27;</span>]==<span class=\"string\">&#x27;青绿&#x27;</span>]</span><br><span class=\"line\">sz_wuhei=data_xigua[data_xigua[<span class=\"string\">&#x27;色泽&#x27;</span>]==<span class=\"string\">&#x27;乌黑&#x27;</span>] </span><br><span class=\"line\">sz_qianbai=data_xigua[data_xigua[<span class=\"string\">&#x27;色泽&#x27;</span>]==<span class=\"string\">&#x27;浅白&#x27;</span>] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 青绿，乌黑，浅白的中好瓜的数量</span></span><br><span class=\"line\">n_sz_qinglv_haogua=sz_qinglv[sz_qinglv[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">n_sz_wuhei_haogua=sz_wuhei[sz_wuhei[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">n_sz_qianbai_haogua=sz_qianbai[sz_qianbai[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">n_sz_qinglv_haogua,n_sz_wuhei_haogua,n_sz_qianbai_haogua</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 青绿，乌黑，浅白的瓜的比例</span></span><br><span class=\"line\">p1=n_sz_qinglv_haogua/sz_qinglv.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">p2=n_sz_wuhei_haogua/sz_wuhei.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">p3=n_sz_qianbai_haogua/sz_qianbai.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">p1,p2,p3</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 青绿，乌黑，浅白的瓜的信息熵</span></span><br><span class=\"line\">entropy_qinglv=-(p1*np.log2(p1)+(<span class=\"number\">1</span>-p1)*np.log2(<span class=\"number\">1</span>-p1))</span><br><span class=\"line\">entropy_wuhei=-(p2*np.log2(p2)+(<span class=\"number\">1</span>-p2)*np.log2(<span class=\"number\">1</span>-p2))</span><br><span class=\"line\">entropy_qianbai=-(p3*np.log2(p3)+(<span class=\"number\">1</span>-p3)*np.log2(<span class=\"number\">1</span>-p3))</span><br><span class=\"line\">entropy_qinglv,entropy_wuhei,entropy_qianbai</span><br></pre></td></tr></table></figure>\n<p>运行结果:<br>\n<img src=\"/images/4547ae89def8d522551b0f2cdecdad5658ee8530.png\" alt=\"static/attachment/Pasted image 20221128124416.png\"></p>\n<h3 id=\"信息增益\">信息增益</h3>\n<p>信息增益 (information gain) 是决策树中决定 <strong>属性重要性</strong> 的一种方法.</p>\n<h4 id=\"定义-2\">定义</h4>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Gain</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></msubsup><mfrac><mrow><mo fence=\"true\">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">∣</mo></mrow><mrow><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow></mfrac><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Gain}(D, a)=\\operatorname{Ent}(D)-\\sum_{v=1}^V \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Gain</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∣</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mtight\">∣</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"minner mtight\"><span class=\"mopen mtight delimcenter\" style=\"top:0em;\"><span class=\"mtight\">∣</span></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose mtight delimcenter\" style=\"top:0em;\"><span class=\"mtight\">∣</span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>\n<ul>\n<li>D: 参与计算的多条数据\n<ul>\n<li>当前节点 (你马上要计算的那个节点) 的所有数据</li>\n<li>如西瓜数据集中的 17 条数据</li>\n</ul>\n</li>\n<li>a: 数据中的单个属性\n<ul>\n<li>如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>=</mo><mtext>色泽</mtext></mrow><annotation encoding=\"application/x-tex\">a=色泽</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">色泽</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>=</mo><mtext>纹理</mtext></mrow><annotation encoding=\"application/x-tex\">a=纹理</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">纹理</span></span></span></span></li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span>: 假定离散属性 a 有 V 个 可能的取 值 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msup><mi>a</mi><mi>V</mi></msup><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{a^1,a^2,\\dots,a^V\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0913em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, 若使用 a 来对样本集 D 进行划分，则会产生 V 个分支结点，其中第 V 个分支结点包含了 D 中所有在属性 a 上取值为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>a</mi><mi>v</mi></msup></mrow><annotation encoding=\"application/x-tex\">a^v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span></span></span></span> 的样本，记 为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span>\n<ul>\n<li>如属性色泽: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msup><mi>a</mi><mi>V</mi></msup><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{a^1,a^2,\\dots,a^V\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0913em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> = <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>3</mn></msup><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{a^1, a^2, a^3\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> = {青绿，乌黑，浅白}</li>\n<li>这里会产生 3 个分支节点,因为有三个属性 ({青绿，乌黑，浅白} ), 所以 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">V=3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> 表示 <strong>色泽=青绿</strong> 的所有样本.</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> 表示 <strong>色泽=乌黑</strong> 的所有样本.</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span> 表示?</li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∣</mi><msup><mi>D</mi><mi>V</mi></msup><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">|D^V|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0913em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span><span class=\"mord\">∣</span></span></span></span>: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span> 中值的个数 (len(<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span>) )</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Ent(D)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span></span></span></span> : 整个数据的 [[#信息熵]]</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">(</mo><msup><mi>D</mi><mi>V</mi></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Ent(D^V)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0913em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> : <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span> 的信息熵</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"信息增益的特性\">信息增益的特性</h4>\n<p>信息增益越大，则意味着使用属性 a 来进行划分的效果越好</p>\n<h4 id=\"计算所有属性的信息增益\">计算所有属性的信息增益</h4>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></msubsup><mfrac><mrow><mo fence=\"true\">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">∣</mo></mrow><mrow><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow></mfrac><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">gain(D)=\\operatorname{Ent}(D)-\\sum_{v=1}^V \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">ain</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∣</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mtight\">∣</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"minner mtight\"><span class=\"mopen mtight delimcenter\" style=\"top:0em;\"><span class=\"mtight\">∣</span></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose mtight delimcenter\" style=\"top:0em;\"><span class=\"mtight\">∣</span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></p>\n<h2 id=\"以色泽为例-begin-aligned-operatorname-Gain-D-text-色泽-operatorname-Ent-D-sum-v-1-3-frac-left-D-v-right-D-operatorname-Ent-left-D-v-right-0-998-left-frac-6-17-times-1-000-frac-6-17-times-0-918-frac-5-17-times-0-722-right-0-109-end-aligned\">以色泽为例:<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi mathvariant=\"normal\">Gain</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo separator=\"true\">,</mo><mtext> 色泽 </mtext><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></munderover><mfrac><mrow><mo fence=\"true\">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">∣</mo></mrow><mrow><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow></mfrac><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.998</mn><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>6</mn><mn>17</mn></mfrac><mo>×</mo><mn>1.000</mn><mo>+</mo><mfrac><mn>6</mn><mn>17</mn></mfrac><mo>×</mo><mn>0.918</mn><mo>+</mo><mfrac><mn>5</mn><mn>17</mn></mfrac><mo>×</mo><mn>0.722</mn><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.109</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} \\operatorname{Gain}(D, \\text { 色泽 }) =\\operatorname{Ent}(D)-\\sum_{v=1}^3 \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right) =0.998-\\left(\\frac{6}{17} \\times 1.000+\\frac{6}{17} \\times 0.918+\\frac{5}{17} \\times 0.722\\right) =0.109 \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.3682em;vertical-align:-1.4341em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9341em;\"><span style=\"top:-3.9341em;\"><span class=\"pstrut\" style=\"height:3.8011em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mord mathrm\">Gain</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord\"> </span><span class=\"mord cjk_fallback\">色泽</span><span class=\"mord\"> </span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8011em;\"><span style=\"top:-1.8829em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2671em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">∣</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">∣</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.936em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7144em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0.998</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">17</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">1.000</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">17</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">0.918</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">17</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">0.722</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0.109</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4341em;\"><span></span></span></span></span></span></span></span></span></span></span></h2>\n<p>代码实现:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">data_xigua = pd.read_csv(<span class=\"string\">&quot;西瓜数据集2.0.csv&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">ent</span>(<span class=\"params\">entropy_data: pandas.DataFrame</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 瓜的总数</span></span><br><span class=\"line\">    n_all = entropy_data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># &quot;是&quot;(是好瓜)与&quot;否&quot;(不是好瓜) 的数量</span></span><br><span class=\"line\">    n_haogua = entropy_data[entropy_data[<span class=\"string\">&#x27;好瓜&#x27;</span>] == <span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">    n_not_haogua = n_all - n_haogua</span><br><span class=\"line\">    p1 = n_haogua / n_all</span><br><span class=\"line\">    p2 = n_not_haogua / n_all</span><br><span class=\"line\">    <span class=\"comment\"># # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0</span></span><br><span class=\"line\">    item_1 = p1 * np.log2(p1) <span class=\"keyword\">if</span> p1 != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    item_2 = p2 * np.log2(p2) <span class=\"keyword\">if</span> p2 != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    entropy = -(item_1 + item_2)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> entropy</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 把上面的封装为一个函数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">entropy_attribute</span>(<span class=\"params\">data: pandas.DataFrame, key=<span class=\"string\">&quot;色泽&quot;</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># 总数据量</span></span><br><span class=\"line\">    _n_all_data = data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.</span></span><br><span class=\"line\">    <span class=\"comment\"># 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]</span></span><br><span class=\"line\"></span><br><span class=\"line\">    attr_entropies = []</span><br><span class=\"line\">    attr_count = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _attr, group <span class=\"keyword\">in</span> data.groupby(key):</span><br><span class=\"line\">        <span class=\"comment\"># print(&quot;======\\n\\n&quot;, _attr, &quot;\\n&quot;, group)</span></span><br><span class=\"line\">        _n_group_all = group.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        attr_entropies.append(ent(group))</span><br><span class=\"line\">        attr_count.append(_n_group_all)</span><br><span class=\"line\">    res = ent(data) - np.<span class=\"built_in\">sum</span>(np.asarray(attr_count) / _n_all_data * np.array(attr_entropies))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 把上面的封装为一个函数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">entropy_attribute_bak</span>(<span class=\"params\">data, key=<span class=\"string\">&quot;色泽&quot;</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># 总数据量</span></span><br><span class=\"line\">    _n_all_data = data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.</span></span><br><span class=\"line\">    <span class=\"comment\"># 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]</span></span><br><span class=\"line\">    _gua_counts = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _attr, group <span class=\"keyword\">in</span> data.groupby(key):</span><br><span class=\"line\">        <span class=\"comment\"># print(&quot;======\\n\\n&quot;, _attr, &quot;\\n&quot;, group)</span></span><br><span class=\"line\">        _n_all = group.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        _n_haogua = group[group[<span class=\"string\">&#x27;好瓜&#x27;</span>] == <span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        _n_not_haogua = _n_all - _n_haogua</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 数组的项目: 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量</span></span><br><span class=\"line\">        _item = [_attr, _n_all, _n_haogua, _n_not_haogua]</span><br><span class=\"line\"></span><br><span class=\"line\">        _gua_counts.append(_item)</span><br><span class=\"line\">    _gua_counts = np.asarray(_gua_counts)</span><br><span class=\"line\">    <span class=\"comment\"># 每个取值的总数量</span></span><br><span class=\"line\">    _value_all = _gua_counts[:, <span class=\"number\">1</span>].astype(<span class=\"string\">&#x27;float&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\"># print(&quot;每个取值的总数量&quot;, _value_all)</span></span><br><span class=\"line\">    <span class=\"comment\"># 每个取值的交叉熵</span></span><br><span class=\"line\">    _matrix_ent_dv = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> g <span class=\"keyword\">in</span> _gua_counts:</span><br><span class=\"line\">        <span class=\"comment\"># print(g)</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;乌黑&#x27;, 6, 4, 2]</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;浅白&#x27;, 5, 1, 4]</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;青绿&#x27;, 6, 3, 3]</span></span><br><span class=\"line\">        g = np.asarray(g[<span class=\"number\">1</span>:], dtype=<span class=\"built_in\">float</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0</span></span><br><span class=\"line\">        item1 = (g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>]) * np.log2(g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>]) <span class=\"keyword\">if</span> g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>] != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        item2 = (g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>]) * np.log2(g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>]) <span class=\"keyword\">if</span> g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>] != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        _matrix_ent_dv.append(-(item1 + item2))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 返回交叉熵</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ent(data) - np.<span class=\"built_in\">sum</span>(np.asarray(_value_all / _n_all_data) * np.asarray(_matrix_ent_dv))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;-----------所有数据-----------&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;色泽&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;色泽&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;根蒂&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;根蒂&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;敲声&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;敲声&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;纹理&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;纹理&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;脐部&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;脐部&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;触感&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;触感&#x27;</span>))</span><br></pre></td></tr></table></figure>\n<p>结果:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-----------所有数据-----------</span><br><span class=\"line\">色泽 <span class=\"number\">0.1081251652653652</span></span><br><span class=\"line\">根蒂 <span class=\"number\">0.14267495956679277</span></span><br><span class=\"line\">敲声 <span class=\"number\">0.14078143361499573</span></span><br><span class=\"line\">纹理 <span class=\"number\">0.3805918973682685</span></span><br><span class=\"line\">脐部 <span class=\"number\">0.28915878284167884</span></span><br><span class=\"line\">触感 <span class=\"number\">0.006046489176565473</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"基于-Sk-learn-的实现\">基于 Sk-learn 的实现</h2>\n<p>高级内容 (选做作业)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn <span class=\"keyword\">import</span> tree</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn.feature_extraction <span class=\"keyword\">import</span> DictVectorizer</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">data_xigua = pd.read_csv(<span class=\"string\">&quot;西瓜数据集2.0.csv&quot;</span>)</span><br><span class=\"line\">X: pd.DataFrame = data_xigua.iloc[:, <span class=\"number\">1</span>:-<span class=\"number\">1</span>]</span><br><span class=\"line\">y: pd.Series = data_xigua.iloc[:, -<span class=\"number\">1</span>]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(X.head())</span><br><span class=\"line\"><span class=\"built_in\">print</span>(y.head())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将字符串转为数字</span></span><br><span class=\"line\">normal_data = []</span><br><span class=\"line\">x_maps = &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> colname <span class=\"keyword\">in</span> X.columns:</span><br><span class=\"line\">    value, <span class=\"built_in\">map</span> = pd.factorize(X[colname])</span><br><span class=\"line\">    normal_data.append(value)</span><br><span class=\"line\">    x_maps[colname] = <span class=\"built_in\">map</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 1, 1, 0, 2, 0, 1, 1, 1, 0, 2, 2, 0, 2, 1, 2, 0]), Index([&#x27;青绿&#x27;, &#x27;乌黑&#x27;, &#x27;浅白&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 0, 1, 1, 1, 0, 0]), Index([&#x27;蜷缩&#x27;, &#x27;稍蜷&#x27;, &#x27;硬挺&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 1, 0, 1, 0, 0, 0, 0, 1, 2, 2, 0, 0, 1, 0, 0, 1]), Index([&#x27;浊响&#x27;, &#x27;沉闷&#x27;, &#x27;清脆&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 2, 2, 1, 1, 0, 2, 1]), Index([&#x27;清晰&#x27;, &#x27;稍糊&#x27;, &#x27;模糊&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 0, 0, 1, 2, 1]), Index([&#x27;凹陷&#x27;, &#x27;稍凹&#x27;, &#x27;平坦&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0]), Index([&#x27;硬滑&#x27;, &#x27;软粘&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\"></span><br><span class=\"line\">x_data = np.asarray(normal_data).T</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将&quot;字符&quot;转为数字</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">y_data, y_maps = pd.factorize(y)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Xdata and ydata================================================================&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(x_data)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(y_data)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## start</span></span><br><span class=\"line\">clf = tree.DecisionTreeClassifier()</span><br><span class=\"line\">clf = clf.fit(x_data, y_data)</span><br><span class=\"line\"><span class=\"comment\">## end</span></span><br><span class=\"line\">res = tree.plot_tree(clf)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/133a03eb24d1a706df56bc177f7585f919b74960.png\" alt=\"static/attachment/Pasted image 20221128161247.png\"><br>\n<a href=\"http://127.0.0.1:8888/lab/workspaces/auto-b/tree/%E5%95%86%E4%B8%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/sk-learn-%E5%86%B3%E7%AD%96%E6%A0%91.ipynb\">sklearn 决策树</a></p>\n<h2 id=\"作业\">作业</h2>\n<p>![[Docs/后续课程内容安排#AI 作业]]</p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover3.jpg","excerpt":"","more":"<ul>\n<li>先看结果, 再说原理和操作</li>\n</ul>\n<h2 id=\"目标\">目标</h2>\n<p>根据西瓜的 <strong>属性</strong>, 让 <strong>决策树 (decision tree)</strong> 给我们分出 &quot; 好瓜 &quot; 和 &quot; 不是好瓜 &quot;</p>\n<h3 id=\"西瓜的数据\">西瓜的数据</h3>\n<p>西瓜的 <strong>属性</strong> 共包括: <code>色泽,根蒂,敲声,纹理,脐部,触感</code></p>\n<p>西瓜的 <strong>标签</strong>: <code>好瓜</code> (是/否)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编号,色泽,根蒂,敲声,纹理,脐部,触感,好瓜</span><br><span class=\"line\"><span class=\"number\">1</span>,青绿,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">2</span>,乌黑,蜷缩,沉闷,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">3</span>,乌黑,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">4</span>,青绿,蜷缩,沉闷,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">5</span>,浅白,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">6</span>,青绿,稍蜷,浊响,清晰,稍凹,软粘,是</span><br><span class=\"line\"><span class=\"number\">7</span>,乌黑,稍蜷,浊响,稍糊,稍凹,软粘,是</span><br><span class=\"line\"><span class=\"number\">8</span>,乌黑,稍蜷,浊响,清晰,稍凹,硬滑,是</span><br><span class=\"line\"><span class=\"number\">9</span>,乌黑,稍蜷,沉闷,稍糊,稍凹,硬滑,否</span><br><span class=\"line\"><span class=\"number\">10</span>,青绿,硬挺,清脆,清晰,平坦,软粘,否</span><br><span class=\"line\"><span class=\"number\">11</span>,浅白,硬挺,清脆,模糊,平坦,硬滑,否</span><br><span class=\"line\"><span class=\"number\">12</span>,浅白,蜷缩,浊响,模糊,平坦,软粘,否</span><br><span class=\"line\"><span class=\"number\">13</span>,青绿,稍蜷,浊响,稍糊,凹陷,硬滑,否</span><br><span class=\"line\"><span class=\"number\">14</span>,浅白,稍蜷,沉闷,稍糊,凹陷,硬滑,否</span><br><span class=\"line\"><span class=\"number\">15</span>,乌黑,稍蜷,浊响,清晰,稍凹,软粘,否</span><br><span class=\"line\"><span class=\"number\">16</span>,浅白,蜷缩,浊响,模糊,平坦,硬滑,否</span><br><span class=\"line\"><span class=\"number\">17</span>,青绿,蜷缩,沉闷,稍糊,稍凹,硬滑,否</span><br></pre></td></tr></table></figure>\n<h3 id=\"决策树分类结果展示\">决策树分类结果展示</h3>\n<p><img src=\"/images/36f2494692678be6a00e116ff9825209ef2a65cf.png\" alt=\"static/attachment/Pasted image 20221128102615.png\"><br>\n来源: 周志华《机器学习》</p>\n<h2 id=\"决策树-decision-tree-是什么\">决策树 (decision tree) 是什么</h2>\n<p>决策树 (decision tree) 是一类常见的机器学习分类模型, 是机器学习两类经典问题中的一个问题.</p>\n<h2 id=\"决策树的构建步骤\">决策树的构建步骤</h2>\n<p>决策树的构建步骤主要包括如下步骤</p>\n<ul>\n<li>准备数据</li>\n<li>挑选要 &quot; 分叉 &quot; 的属性\n<ul>\n<li>选信息增益最大的一个\n<ul>\n<li>如果有多个属性的信息增益一样大, 随机取一个</li>\n</ul>\n</li>\n<li>(色泽,根蒂,敲声,纹理,脐部,触感)</li>\n</ul>\n</li>\n<li>’ 分叉 ’</li>\n<li>递归回到第二步, 直到达到结束分叉的条件</li>\n</ul>\n<h3 id=\"准备数据\">准备数据</h3>\n<p>数据中需要包含 <strong>属性值</strong> 与 <strong>标签值</strong>,<br>\n数据样例:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编号,色泽,根蒂,敲声,纹理,脐部,触感,好瓜</span><br><span class=\"line\"><span class=\"number\">1</span>,青绿,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">2</span>,乌黑,蜷缩,沉闷,清晰,凹陷,硬滑,是</span><br><span class=\"line\"><span class=\"number\">3</span>,乌黑,蜷缩,浊响,清晰,凹陷,硬滑,是</span><br></pre></td></tr></table></figure>\n<hr>\n<p>python 实现:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data_xigua=pd.read_csv(<span class=\"string\">&quot;西瓜数据集2.0.csv&quot;</span>)</span><br><span class=\"line\">data_xigua </span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/5b3606bc366335e96009e6266a5d6b86092fc72d.png\" alt=\"static/attachment/Pasted image 20221128113502.png\"></p>\n<h3 id=\"挑选要-分叉-的属性\">挑选要 &quot; 分叉 &quot; 的属性</h3>\n<p>目标: 我们需要在 6 个属性 ( {色泽,根蒂,敲声,纹理,脐部,触感} ) 中选择一个属性, 进行首次 &quot; 分叉 &quot;.</p>\n<p>Q: 6 个属性选哪个最好?<br>\nA: 选 <strong>信息增益</strong> 最大的一个属性</p>\n<p>[[#信息增益]] 是什么 ?<br>\n[[#信息增益]] 也叫 ID3(Iterative Dichotomiser (迭代二分器)).</p>\n<hr>\n<p>👉 通过计算 6 个属性的信息增益, 我们得到每个属性的信息增益如下:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">色泽 <span class=\"number\">0.1081251652653652</span></span><br><span class=\"line\">根蒂 <span class=\"number\">0.14267495956679277</span></span><br><span class=\"line\">敲声 <span class=\"number\">0.14078143361499573</span></span><br><span class=\"line\">纹理 <span class=\"number\">0.3805918973682685</span></span><br><span class=\"line\">脐部 <span class=\"number\">0.28915878284167884</span></span><br><span class=\"line\">触感 <span class=\"number\">0.006046489176565473</span></span><br></pre></td></tr></table></figure>\n<p><strong>纹理</strong> 的信息增益最大, 因此我们选择信息增益为第一个 &quot; 分叉点 &quot;, 得到 &quot; 分叉 &quot; 结果:<br>\n<img src=\"/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png\" alt=\"static/attachment/Pasted image 20221128140713.png\"></p>\n<p>对应的数据:<br>\n<img src=\"/images/68ce01c3af321af3fc2cf6da1d5537927157f090.png\" alt=\"static/attachment/Pasted image 20221128141355.png\"></p>\n<h3 id=\"递归分叉\">递归分叉</h3>\n<p>从上一步分分叉结果中:<br>\n<img src=\"/images/a75ba65438f575f4b3ef567312e611840f91cfaf.png\" alt=\"static/attachment/Pasted image 20221128140713.png\"></p>\n<p>👉 我们以左下角的第一个节点 (<strong>纹理=清晰</strong>) 为根节点, 该结点包含的样例集合中有编号为｛1, 2, 3, 4, 5, 6, 8, 10, 15）的 9 个样例，可用属性集合为｛色泽，根蒂，敲声，脐部, 触感}, 计算每个属性在当前数据 (<strong>纹理=清晰</strong>) 上的信息增益</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-----------纹理=清晰的数据-----------</span><br><span class=\"line\">色泽 <span class=\"number\">0.04306839587828004</span></span><br><span class=\"line\">根蒂 <span class=\"number\">0.45810589515712374</span></span><br><span class=\"line\">敲声 <span class=\"number\">0.33085622540971754</span></span><br><span class=\"line\">脐部 <span class=\"number\">0.45810589515712374</span></span><br><span class=\"line\">触感 <span class=\"number\">0.45810589515712374</span> </span><br></pre></td></tr></table></figure>\n<p>👉 蒂“根蒂”、“脐部”、“触感” 3 个属性均取得了最大的信息增益，可任 选其中之一作为划分属性, 递归进行, 直到达到结束条件. 递归完成后, 我们将得到如下树:<br>\n<img src=\"/images/4165a937f4c8ada78735d80ebb76ba95358b283f.png\" alt=\"static/attachment/Pasted image 20221128154817.png\"></p>\n<hr>\n<p>python 实现:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">data_xigua = pd.read_csv(<span class=\"string\">&quot;西瓜数据集2.0.csv&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">ent</span>(<span class=\"params\">entropy_data: pandas.DataFrame</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 瓜的总数</span></span><br><span class=\"line\">    n_all = entropy_data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># &quot;是&quot;(是好瓜)与&quot;否&quot;(不是好瓜) 的数量</span></span><br><span class=\"line\">    n_haogua = entropy_data[entropy_data[<span class=\"string\">&#x27;好瓜&#x27;</span>] == <span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">    n_not_haogua = n_all - n_haogua</span><br><span class=\"line\">    p1 = n_haogua / n_all</span><br><span class=\"line\">    p2 = n_not_haogua / n_all</span><br><span class=\"line\">    <span class=\"comment\"># # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0</span></span><br><span class=\"line\">    item_1 = p1 * np.log2(p1) <span class=\"keyword\">if</span> p1 != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    item_2 = p2 * np.log2(p2) <span class=\"keyword\">if</span> p2 != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    entropy = -(item_1 + item_2)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> entropy</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 把上面的封装为一个函数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">entropy_attribute</span>(<span class=\"params\">data: pandas.DataFrame, key=<span class=\"string\">&quot;色泽&quot;</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># 总数据量</span></span><br><span class=\"line\">    _n_all_data = data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.</span></span><br><span class=\"line\">    <span class=\"comment\"># 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]</span></span><br><span class=\"line\"></span><br><span class=\"line\">    attr_entropies = []</span><br><span class=\"line\">    attr_count = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _attr, group <span class=\"keyword\">in</span> data.groupby(key):</span><br><span class=\"line\">        <span class=\"comment\"># print(&quot;======\\n\\n&quot;, _attr, &quot;\\n&quot;, group)</span></span><br><span class=\"line\">        _n_group_all = group.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        attr_entropies.append(ent(group))</span><br><span class=\"line\">        attr_count.append(_n_group_all)</span><br><span class=\"line\">    res = ent(data) - np.<span class=\"built_in\">sum</span>(np.asarray(attr_count) / _n_all_data * np.array(attr_entropies))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 把上面的封装为一个函数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">entropy_attribute_bak</span>(<span class=\"params\">data, key=<span class=\"string\">&quot;色泽&quot;</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># 总数据量</span></span><br><span class=\"line\">    _n_all_data = data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.</span></span><br><span class=\"line\">    <span class=\"comment\"># 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]</span></span><br><span class=\"line\">    _gua_counts = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _attr, group <span class=\"keyword\">in</span> data.groupby(key):</span><br><span class=\"line\">        <span class=\"comment\"># print(&quot;======\\n\\n&quot;, _attr, &quot;\\n&quot;, group)</span></span><br><span class=\"line\">        _n_all = group.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        _n_haogua = group[group[<span class=\"string\">&#x27;好瓜&#x27;</span>] == <span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        _n_not_haogua = _n_all - _n_haogua</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 数组的项目: 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量</span></span><br><span class=\"line\">        _item = [_attr, _n_all, _n_haogua, _n_not_haogua]</span><br><span class=\"line\"></span><br><span class=\"line\">        _gua_counts.append(_item)</span><br><span class=\"line\">    _gua_counts = np.asarray(_gua_counts)</span><br><span class=\"line\">    <span class=\"comment\"># 每个取值的总数量</span></span><br><span class=\"line\">    _value_all = _gua_counts[:, <span class=\"number\">1</span>].astype(<span class=\"string\">&#x27;float&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\"># print(&quot;每个取值的总数量&quot;, _value_all)</span></span><br><span class=\"line\">    <span class=\"comment\"># 每个取值的交叉熵</span></span><br><span class=\"line\">    _matrix_ent_dv = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> g <span class=\"keyword\">in</span> _gua_counts:</span><br><span class=\"line\">        <span class=\"comment\"># print(g)</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;乌黑&#x27;, 6, 4, 2]</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;浅白&#x27;, 5, 1, 4]</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;青绿&#x27;, 6, 3, 3]</span></span><br><span class=\"line\">        g = np.asarray(g[<span class=\"number\">1</span>:], dtype=<span class=\"built_in\">float</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0</span></span><br><span class=\"line\">        item1 = (g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>]) * np.log2(g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>]) <span class=\"keyword\">if</span> g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>] != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        item2 = (g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>]) * np.log2(g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>]) <span class=\"keyword\">if</span> g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>] != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        _matrix_ent_dv.append(-(item1 + item2))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 返回交叉熵</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ent(data) - np.<span class=\"built_in\">sum</span>(np.asarray(_value_all / _n_all_data) * np.asarray(_matrix_ent_dv))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;\\n-----------纹理=清晰的数据-----------&quot;</span>)</span><br><span class=\"line\">data_wenli = data_xigua[data_xigua[<span class=\"string\">&#x27;纹理&#x27;</span>] == <span class=\"string\">&#x27;清晰&#x27;</span>]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;色泽&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;色泽&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;根蒂&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;根蒂&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;敲声&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;敲声&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;脐部&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;脐部&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;触感&quot;</span>, entropy_attribute(data_wenli, <span class=\"string\">&#x27;触感&#x27;</span>)) </span><br></pre></td></tr></table></figure>\n<h3 id=\"递归截止条件\">递归截止条件</h3>\n<p>对于每个节点, 一依次递归, 指导结束. 递归构建停止的条件</p>\n<ul>\n<li>(无需划分) 当前结点包含的样本全属于同一类别，无需划分；</li>\n<li>(无法划分) 当前 属性集为空，或是所有样本在所有属性上取值相同，无法划分;</li>\n<li>(不能划分) 当前结点包含的样本集合为空，不能划分.</li>\n</ul>\n<h2 id=\"决策树-decision-tree-基础\">决策树 (decision tree) 基础</h2>\n<h3 id=\"机器学习的两类经典问题\">机器学习的两类经典问题</h3>\n<p>回归和分类.</p>\n<h3 id=\"分类问题\">分类问题</h3>\n<p>是机器学习两类经典问题中的一个问题.</p>\n<p>例 1: 根据学生分数/作业提交率等判断 <u>学生是否是好学生</u>(分类)<br>\n<img src=\"/images/9acc6865a65ea15430d42d4d3cc44f9793f6a715.png\" alt=\"static/attachment/Pasted image 20221128081900.png\"></p>\n<p>例 2: (下文中称为: <strong>西瓜数据集</strong>) 根据 <strong>西瓜</strong> 的属性, 判断西瓜是否是好瓜<br>\n<img src=\"/images/4fd944c16b3f85f74727b41fc78d87359054db4f.png\" alt=\"static/attachment/Pasted image 20221128090249.png\"></p>\n<h3 id=\"信息熵\">信息熵</h3>\n<p>信息熵 (information entropy) 是度量 <u>数据信息量</u> 的一种方法 (例如,现实中 &quot; 你说话没有信息量 &quot;, 这个 <strong>信息量</strong> 怎么度量)</p>\n<h4 id=\"定义\">定义</h4>\n<ul>\n<li>定义: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">entropy</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant=\"normal\">∣</mi><mi mathvariant=\"script\">Y</mi><mi mathvariant=\"normal\">∣</mi></mrow></msubsup><msub><mi>p</mi><mi>k</mi></msub><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\operatorname{entropy}(D)=\\operatorname{Ent}(D)=-\\sum_{k=1}^{|\\mathcal{Y}|} p_k \\log _2 p_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\" style=\"margin-right:0.01389em;\">entropy</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3461em;vertical-align:-0.3013em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0448em;\"><span style=\"top:-2.3987em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2198em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∣</span><span class=\"mord mathcal mtight\" style=\"margin-right:0.08222em;\">Y</span><span class=\"mord mtight\">∣</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3013em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>\n<ul>\n<li>D 是数据集, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 表示第 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> 类数据集占所有数据集的 <strong>比例</strong>\n<ul>\n<li>k 指标签</li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∣</mi><mi>y</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">|y|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord\">∣</span></span></span></span> =<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>u</mi><mi>n</mi><mi>i</mi><mi>q</mi><mi>u</mi><mi>e</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">len(unique(y))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">ni</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">e</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">))</span></span></span></span></li>\n<li>这里我们规定:\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为正例, (是) 好瓜 的比例</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为反例, (否) 不是好瓜 的比例<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>k</mi></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>∈</mo><mo stretchy=\"false\">{</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">p_k, i \\in \\{1,2\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mclose\">}</span></span></span></span><br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>= <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>8</mn><mn>11</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{8}{11}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">11</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">8</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span><br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>3</mn><mi mathvariant=\"normal\">/</mi><mn>11</mn></mrow><annotation encoding=\"application/x-tex\">p_2=3/11</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3/11</span></span></span></span> = <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>−</mo><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">1-p_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"计算实例-1\">计算实例 1</h4>\n<p>例子计算西瓜数据集 D (所有数据) 的信息熵</p>\n<ul>\n<li>数据集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> (西瓜数据) 中包含两类 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mi>k</mi><mn>1</mn></msub><mo>=</mo><mtext>是</mtext><mo stretchy=\"false\">(</mo><mtext>好瓜</mtext><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><msub><mi>k</mi><mn>2</mn></msub><mo>=</mo><mtext>否</mtext><mo stretchy=\"false\">(</mo><mtext>不是好瓜</mtext><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{k_1=是(好瓜), k_2=否(不是好瓜)\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord cjk_fallback\">是</span><span class=\"mopen\">(</span><span class=\"mord cjk_fallback\">好瓜</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord cjk_fallback\">否</span><span class=\"mopen\">(</span><span class=\"mord cjk_fallback\">不是好瓜</span><span class=\"mclose\">)}</span></span></span></span>)\n<ul>\n<li>以 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> 表示概率\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><msub><mi>k</mi><mn>1</mn></msub></msub><mo>=</mo><mn>8</mn><mi mathvariant=\"normal\">/</mi><mn>17</mn></mrow><annotation encoding=\"application/x-tex\">p_{k_1}=8/17</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6807em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3173em;\"><span style=\"top:-2.357em;margin-left:-0.0315em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">8/17</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><msub><mi>k</mi><mn>2</mn></msub></msub><mo>=</mo><mn>9</mn><mi mathvariant=\"normal\">/</mi><mn>17</mn></mrow><annotation encoding=\"application/x-tex\">p_{k_2}=9/17</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6807em;vertical-align:-0.2501em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3173em;\"><span style=\"top:-2.357em;margin-left:-0.0315em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2501em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">9/17</span></span></span></span></li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo>−</mo><msubsup><mo>∑</mo><mn>1</mn><mn>2</mn></msubsup><msub><mi>p</mi><mi>k</mi></msub><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><msub><mi>p</mi><mi>k</mi></msub><mo>=</mo><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>8</mn><mn>17</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>8</mn><mn>17</mn></mfrac><mo>+</mo><mfrac><mn>9</mn><mn>17</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>9</mn><mn>17</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.998</mn></mrow><annotation encoding=\"application/x-tex\">Ent(D)=-\\sum_1^2p_klog_2 p_k=-\\left(\\frac{8}{17} \\log _2 \\frac{8}{17}+\\frac{9}{17} \\log _2 \\frac{9}{17}\\right)=0.998</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2537em;vertical-align:-0.2997em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">17</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">8</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">17</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">8</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">17</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">9</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">17</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">9</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.998</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n<hr>\n<p>代码实现</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 计算根节点(所有数据)的信息熵</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># &quot;是&quot;(是好瓜)与&quot;否&quot;(不是好瓜) 的数量</span></span><br><span class=\"line\">n_haogua=data_xigua[data_xigua[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">n_not_haogua=data_xigua[data_xigua[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;否&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"><span class=\"comment\"># 瓜的总数</span></span><br><span class=\"line\">n_all=n_haogua+n_not_haogua</span><br><span class=\"line\">n_haogua,n_not_haogua,n_all</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># &quot;是&quot;(是好瓜)与&quot;否&quot;(不是好瓜) 的信息熵</span></span><br><span class=\"line\">p1=n_haogua/n_all</span><br><span class=\"line\">p2=n_not_haogua/n_all</span><br><span class=\"line\">entropy=-(p1*np.log2(p1)+p2*np.log2(p2))</span><br><span class=\"line\">entropy</span><br></pre></td></tr></table></figure>\n<p>执行结果:<br>\n<img src=\"/images/82bf186bb7a7e0db263e43405521541f19e5b374.png\" alt=\"static/attachment/Pasted image 20221128122638.png\"></p>\n<h4 id=\"计算实例-2\">计算实例 2</h4>\n<p>\\计算属性 &quot; 色泽 &quot; 的信息熵</p>\n<ul>\n<li>从西瓜数据集 D 中, 我们知道色泽取值:｛青绿，乌黑，浅白｝</li>\n<li>用该属性对西瓜数据集 D 进行划分, 可以将 D 中所有的数据集划分为 3 类\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span>: 色泽=青绿, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> 包含的数据为 {1, 4, 6, 10, 13, 17}, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mn>3</mn><mi mathvariant=\"normal\">/</mi><mn>6</mn><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>3</mn><mi mathvariant=\"normal\">/</mi><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">p_1=3/6,p_2=3/6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3/6</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3/6</span></span></span></span>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> : 好瓜的占比</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> : 不是好瓜的占比</li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> 色泽=乌黑, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> 包含的数据为 { 2, 3, 7, 8, 9, 15}, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mn>4</mn><mi mathvariant=\"normal\">/</mi><mn>6</mn><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn><mi mathvariant=\"normal\">/</mi><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">p_1=4/6, p_2=2/6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">4/6</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">2/6</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span> 色泽=浅白, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span> 包含的数据为 {5, 11, 12, 14, 16}, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>5</mn><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>4</mn><mi mathvariant=\"normal\">/</mi><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">p_1=1/5,p_2=4/5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">4/5</span></span></span></span></li>\n</ul>\n</li>\n<li>青绿 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span>)，乌黑 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>)，浅白 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span>) 的信息熵分别为\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mn>1</mn></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>3</mn><mn>6</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>3</mn><mn>6</mn></mfrac><mo>+</mo><mfrac><mn>3</mn><mn>6</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>3</mn><mn>6</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>1.000</mn></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Ent}\\left(D^1\\right)=-\\left(\\frac{3}{6} \\log _2 \\frac{3}{6}+\\frac{3}{6} \\log _2 \\frac{3}{6}\\right)=1.000</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1.000</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mn>2</mn></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>4</mn><mn>6</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>4</mn><mn>6</mn></mfrac><mo>+</mo><mfrac><mn>2</mn><mn>6</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>2</mn><mn>6</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.918</mn></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Ent}\\left(D^2\\right)=-\\left(\\frac{4}{6} \\log _2 \\frac{4}{6}+\\frac{2}{6} \\log _2 \\frac{2}{6}\\right)=0.918</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">6</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.918</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mn>3</mn></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>1</mn><mn>5</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>1</mn><mn>5</mn></mfrac><mo>+</mo><mfrac><mn>4</mn><mn>5</mn></mfrac><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mfrac><mn>4</mn><mn>5</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.722</mn></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Ent}\\left(D^3\\right)=-\\left(\\frac{1}{5} \\log _2 \\frac{1}{5}+\\frac{4}{5} \\log _2 \\frac{4}{5}\\right)=0.722</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2em;vertical-align:-0.35em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2441em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.722</span></span></span></span></li>\n</ul>\n</li>\n</ul>\n<hr>\n<p>代码实现</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 青绿，乌黑，浅白的瓜</span></span><br><span class=\"line\">sz_qinglv=data_xigua[data_xigua[<span class=\"string\">&#x27;色泽&#x27;</span>]==<span class=\"string\">&#x27;青绿&#x27;</span>]</span><br><span class=\"line\">sz_wuhei=data_xigua[data_xigua[<span class=\"string\">&#x27;色泽&#x27;</span>]==<span class=\"string\">&#x27;乌黑&#x27;</span>] </span><br><span class=\"line\">sz_qianbai=data_xigua[data_xigua[<span class=\"string\">&#x27;色泽&#x27;</span>]==<span class=\"string\">&#x27;浅白&#x27;</span>] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 青绿，乌黑，浅白的中好瓜的数量</span></span><br><span class=\"line\">n_sz_qinglv_haogua=sz_qinglv[sz_qinglv[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">n_sz_wuhei_haogua=sz_wuhei[sz_wuhei[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">n_sz_qianbai_haogua=sz_qianbai[sz_qianbai[<span class=\"string\">&#x27;好瓜&#x27;</span>]==<span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">n_sz_qinglv_haogua,n_sz_wuhei_haogua,n_sz_qianbai_haogua</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 青绿，乌黑，浅白的瓜的比例</span></span><br><span class=\"line\">p1=n_sz_qinglv_haogua/sz_qinglv.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">p2=n_sz_wuhei_haogua/sz_wuhei.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">p3=n_sz_qianbai_haogua/sz_qianbai.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">p1,p2,p3</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 青绿，乌黑，浅白的瓜的信息熵</span></span><br><span class=\"line\">entropy_qinglv=-(p1*np.log2(p1)+(<span class=\"number\">1</span>-p1)*np.log2(<span class=\"number\">1</span>-p1))</span><br><span class=\"line\">entropy_wuhei=-(p2*np.log2(p2)+(<span class=\"number\">1</span>-p2)*np.log2(<span class=\"number\">1</span>-p2))</span><br><span class=\"line\">entropy_qianbai=-(p3*np.log2(p3)+(<span class=\"number\">1</span>-p3)*np.log2(<span class=\"number\">1</span>-p3))</span><br><span class=\"line\">entropy_qinglv,entropy_wuhei,entropy_qianbai</span><br></pre></td></tr></table></figure>\n<p>运行结果:<br>\n<img src=\"/images/4547ae89def8d522551b0f2cdecdad5658ee8530.png\" alt=\"static/attachment/Pasted image 20221128124416.png\"></p>\n<h3 id=\"信息增益\">信息增益</h3>\n<p>信息增益 (information gain) 是决策树中决定 <strong>属性重要性</strong> 的一种方法.</p>\n<h4 id=\"定义-2\">定义</h4>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Gain</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></msubsup><mfrac><mrow><mo fence=\"true\">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">∣</mo></mrow><mrow><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow></mfrac><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Gain}(D, a)=\\operatorname{Ent}(D)-\\sum_{v=1}^V \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Gain</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∣</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mtight\">∣</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"minner mtight\"><span class=\"mopen mtight delimcenter\" style=\"top:0em;\"><span class=\"mtight\">∣</span></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose mtight delimcenter\" style=\"top:0em;\"><span class=\"mtight\">∣</span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>\n<ul>\n<li>D: 参与计算的多条数据\n<ul>\n<li>当前节点 (你马上要计算的那个节点) 的所有数据</li>\n<li>如西瓜数据集中的 17 条数据</li>\n</ul>\n</li>\n<li>a: 数据中的单个属性\n<ul>\n<li>如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>=</mo><mtext>色泽</mtext></mrow><annotation encoding=\"application/x-tex\">a=色泽</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">色泽</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>=</mo><mtext>纹理</mtext></mrow><annotation encoding=\"application/x-tex\">a=纹理</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord cjk_fallback\">纹理</span></span></span></span></li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span>: 假定离散属性 a 有 V 个 可能的取 值 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msup><mi>a</mi><mi>V</mi></msup><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{a^1,a^2,\\dots,a^V\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0913em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>, 若使用 a 来对样本集 D 进行划分，则会产生 V 个分支结点，其中第 V 个分支结点包含了 D 中所有在属性 a 上取值为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>a</mi><mi>v</mi></msup></mrow><annotation encoding=\"application/x-tex\">a^v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span></span></span></span> 的样本，记 为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span>\n<ul>\n<li>如属性色泽: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msup><mi>a</mi><mi>V</mi></msup><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{a^1,a^2,\\dots,a^V\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0913em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> = <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msup><mi>a</mi><mn>1</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>2</mn></msup><mo separator=\"true\">,</mo><msup><mi>a</mi><mn>3</mn></msup><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{a^1, a^2, a^3\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> = {青绿，乌黑，浅白}</li>\n<li>这里会产生 3 个分支节点,因为有三个属性 ({青绿，乌黑，浅白} ), 所以 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">V=3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> 表示 <strong>色泽=青绿</strong> 的所有样本.</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> 表示 <strong>色泽=乌黑</strong> 的所有样本.</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">D^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span> 表示?</li>\n</ul>\n</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∣</mi><msup><mi>D</mi><mi>V</mi></msup><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">|D^V|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0913em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span><span class=\"mord\">∣</span></span></span></span>: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span> 中值的个数 (len(<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span>) )</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Ent(D)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span></span></span></span> : 整个数据的 [[#信息熵]]</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">(</mo><msup><mi>D</mi><mi>V</mi></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Ent(D^V)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0913em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> : <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mi>V</mi></msup></mrow><annotation encoding=\"application/x-tex\">D^V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8413em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span></span></span></span></span></span></span> 的信息熵</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"信息增益的特性\">信息增益的特性</h4>\n<p>信息增益越大，则意味着使用属性 a 来进行划分的效果越好</p>\n<h4 id=\"计算所有属性的信息增益\">计算所有属性的信息增益</h4>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></msubsup><mfrac><mrow><mo fence=\"true\">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">∣</mo></mrow><mrow><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow></mfrac><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">gain(D)=\\operatorname{Ent}(D)-\\sum_{v=1}^V \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">ain</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∣</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mtight\">∣</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"minner mtight\"><span class=\"mopen mtight delimcenter\" style=\"top:0em;\"><span class=\"mtight\">∣</span></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose mtight delimcenter\" style=\"top:0em;\"><span class=\"mtight\">∣</span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></p>\n<h2 id=\"以色泽为例-begin-aligned-operatorname-Gain-D-text-色泽-operatorname-Ent-D-sum-v-1-3-frac-left-D-v-right-D-operatorname-Ent-left-D-v-right-0-998-left-frac-6-17-times-1-000-frac-6-17-times-0-918-frac-5-17-times-0-722-right-0-109-end-aligned\">以色泽为例:<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi mathvariant=\"normal\">Gain</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo separator=\"true\">,</mo><mtext> 色泽 </mtext><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></munderover><mfrac><mrow><mo fence=\"true\">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">∣</mo></mrow><mrow><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow></mfrac><mi mathvariant=\"normal\">Ent</mi><mo>⁡</mo><mrow><mo fence=\"true\">(</mo><msup><mi>D</mi><mi>v</mi></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.998</mn><mo>−</mo><mrow><mo fence=\"true\">(</mo><mfrac><mn>6</mn><mn>17</mn></mfrac><mo>×</mo><mn>1.000</mn><mo>+</mo><mfrac><mn>6</mn><mn>17</mn></mfrac><mo>×</mo><mn>0.918</mn><mo>+</mo><mfrac><mn>5</mn><mn>17</mn></mfrac><mo>×</mo><mn>0.722</mn><mo fence=\"true\">)</mo></mrow><mo>=</mo><mn>0.109</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned} \\operatorname{Gain}(D, \\text { 色泽 }) =\\operatorname{Ent}(D)-\\sum_{v=1}^3 \\frac{\\left|D^v\\right|}{|D|} \\operatorname{Ent}\\left(D^v\\right) =0.998-\\left(\\frac{6}{17} \\times 1.000+\\frac{6}{17} \\times 0.918+\\frac{5}{17} \\times 0.722\\right) =0.109 \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.3682em;vertical-align:-1.4341em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9341em;\"><span style=\"top:-3.9341em;\"><span class=\"pstrut\" style=\"height:3.8011em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mord mathrm\">Gain</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord\"> </span><span class=\"mord cjk_fallback\">色泽</span><span class=\"mord\"> </span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8011em;\"><span style=\"top:-1.8829em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2671em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">∣</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">∣</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">∣</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.936em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mord mathrm\">Ent</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7144em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0.998</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">17</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">1.000</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">17</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">0.918</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">17</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">0.722</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0.109</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4341em;\"><span></span></span></span></span></span></span></span></span></span></span></h2>\n<p>代码实现:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">data_xigua = pd.read_csv(<span class=\"string\">&quot;西瓜数据集2.0.csv&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">ent</span>(<span class=\"params\">entropy_data: pandas.DataFrame</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 瓜的总数</span></span><br><span class=\"line\">    n_all = entropy_data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># &quot;是&quot;(是好瓜)与&quot;否&quot;(不是好瓜) 的数量</span></span><br><span class=\"line\">    n_haogua = entropy_data[entropy_data[<span class=\"string\">&#x27;好瓜&#x27;</span>] == <span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">    n_not_haogua = n_all - n_haogua</span><br><span class=\"line\">    p1 = n_haogua / n_all</span><br><span class=\"line\">    p2 = n_not_haogua / n_all</span><br><span class=\"line\">    <span class=\"comment\"># # 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0</span></span><br><span class=\"line\">    item_1 = p1 * np.log2(p1) <span class=\"keyword\">if</span> p1 != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    item_2 = p2 * np.log2(p2) <span class=\"keyword\">if</span> p2 != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    entropy = -(item_1 + item_2)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> entropy</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 把上面的封装为一个函数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">entropy_attribute</span>(<span class=\"params\">data: pandas.DataFrame, key=<span class=\"string\">&quot;色泽&quot;</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># 总数据量</span></span><br><span class=\"line\">    _n_all_data = data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.</span></span><br><span class=\"line\">    <span class=\"comment\"># 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]</span></span><br><span class=\"line\"></span><br><span class=\"line\">    attr_entropies = []</span><br><span class=\"line\">    attr_count = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _attr, group <span class=\"keyword\">in</span> data.groupby(key):</span><br><span class=\"line\">        <span class=\"comment\"># print(&quot;======\\n\\n&quot;, _attr, &quot;\\n&quot;, group)</span></span><br><span class=\"line\">        _n_group_all = group.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        attr_entropies.append(ent(group))</span><br><span class=\"line\">        attr_count.append(_n_group_all)</span><br><span class=\"line\">    res = ent(data) - np.<span class=\"built_in\">sum</span>(np.asarray(attr_count) / _n_all_data * np.array(attr_entropies))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 把上面的封装为一个函数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">entropy_attribute_bak</span>(<span class=\"params\">data, key=<span class=\"string\">&quot;色泽&quot;</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># 总数据量</span></span><br><span class=\"line\">    _n_all_data = data.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 属性 key 中每个取值所得的 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量.</span></span><br><span class=\"line\">    <span class=\"comment\"># 数据表示方法: [[色泽名称, 总数量, 好瓜的数量, 不好瓜的数量],...]</span></span><br><span class=\"line\">    _gua_counts = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _attr, group <span class=\"keyword\">in</span> data.groupby(key):</span><br><span class=\"line\">        <span class=\"comment\"># print(&quot;======\\n\\n&quot;, _attr, &quot;\\n&quot;, group)</span></span><br><span class=\"line\">        _n_all = group.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        _n_haogua = group[group[<span class=\"string\">&#x27;好瓜&#x27;</span>] == <span class=\"string\">&#x27;是&#x27;</span>].shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">        _n_not_haogua = _n_all - _n_haogua</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 数组的项目: 色泽名称, 总数量, 好瓜的数量, 不好瓜的数量</span></span><br><span class=\"line\">        _item = [_attr, _n_all, _n_haogua, _n_not_haogua]</span><br><span class=\"line\"></span><br><span class=\"line\">        _gua_counts.append(_item)</span><br><span class=\"line\">    _gua_counts = np.asarray(_gua_counts)</span><br><span class=\"line\">    <span class=\"comment\"># 每个取值的总数量</span></span><br><span class=\"line\">    _value_all = _gua_counts[:, <span class=\"number\">1</span>].astype(<span class=\"string\">&#x27;float&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\"># print(&quot;每个取值的总数量&quot;, _value_all)</span></span><br><span class=\"line\">    <span class=\"comment\"># 每个取值的交叉熵</span></span><br><span class=\"line\">    _matrix_ent_dv = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> g <span class=\"keyword\">in</span> _gua_counts:</span><br><span class=\"line\">        <span class=\"comment\"># print(g)</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;乌黑&#x27;, 6, 4, 2]</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;浅白&#x27;, 5, 1, 4]</span></span><br><span class=\"line\">        <span class=\"comment\"># [&#x27;青绿&#x27;, 6, 3, 3]</span></span><br><span class=\"line\">        g = np.asarray(g[<span class=\"number\">1</span>:], dtype=<span class=\"built_in\">float</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 计算信息嫡时约定：若 p = 0, 则 p log_2 p = 0</span></span><br><span class=\"line\">        item1 = (g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>]) * np.log2(g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>]) <span class=\"keyword\">if</span> g[<span class=\"number\">1</span>] / g[<span class=\"number\">0</span>] != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        item2 = (g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>]) * np.log2(g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>]) <span class=\"keyword\">if</span> g[<span class=\"number\">2</span>] / g[<span class=\"number\">0</span>] != <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        _matrix_ent_dv.append(-(item1 + item2))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 返回交叉熵</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ent(data) - np.<span class=\"built_in\">sum</span>(np.asarray(_value_all / _n_all_data) * np.asarray(_matrix_ent_dv))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;-----------所有数据-----------&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;色泽&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;色泽&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;根蒂&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;根蒂&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;敲声&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;敲声&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;纹理&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;纹理&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;脐部&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;脐部&#x27;</span>))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;触感&quot;</span>, entropy_attribute(data_xigua, <span class=\"string\">&#x27;触感&#x27;</span>))</span><br></pre></td></tr></table></figure>\n<p>结果:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-----------所有数据-----------</span><br><span class=\"line\">色泽 <span class=\"number\">0.1081251652653652</span></span><br><span class=\"line\">根蒂 <span class=\"number\">0.14267495956679277</span></span><br><span class=\"line\">敲声 <span class=\"number\">0.14078143361499573</span></span><br><span class=\"line\">纹理 <span class=\"number\">0.3805918973682685</span></span><br><span class=\"line\">脐部 <span class=\"number\">0.28915878284167884</span></span><br><span class=\"line\">触感 <span class=\"number\">0.006046489176565473</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"基于-Sk-learn-的实现\">基于 Sk-learn 的实现</h2>\n<p>高级内容 (选做作业)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn <span class=\"keyword\">import</span> tree</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn.feature_extraction <span class=\"keyword\">import</span> DictVectorizer</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">data_xigua = pd.read_csv(<span class=\"string\">&quot;西瓜数据集2.0.csv&quot;</span>)</span><br><span class=\"line\">X: pd.DataFrame = data_xigua.iloc[:, <span class=\"number\">1</span>:-<span class=\"number\">1</span>]</span><br><span class=\"line\">y: pd.Series = data_xigua.iloc[:, -<span class=\"number\">1</span>]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(X.head())</span><br><span class=\"line\"><span class=\"built_in\">print</span>(y.head())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将字符串转为数字</span></span><br><span class=\"line\">normal_data = []</span><br><span class=\"line\">x_maps = &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> colname <span class=\"keyword\">in</span> X.columns:</span><br><span class=\"line\">    value, <span class=\"built_in\">map</span> = pd.factorize(X[colname])</span><br><span class=\"line\">    normal_data.append(value)</span><br><span class=\"line\">    x_maps[colname] = <span class=\"built_in\">map</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 1, 1, 0, 2, 0, 1, 1, 1, 0, 2, 2, 0, 2, 1, 2, 0]), Index([&#x27;青绿&#x27;, &#x27;乌黑&#x27;, &#x27;浅白&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 0, 1, 1, 1, 0, 0]), Index([&#x27;蜷缩&#x27;, &#x27;稍蜷&#x27;, &#x27;硬挺&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 1, 0, 1, 0, 0, 0, 0, 1, 2, 2, 0, 0, 1, 0, 0, 1]), Index([&#x27;浊响&#x27;, &#x27;沉闷&#x27;, &#x27;清脆&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 2, 2, 1, 1, 0, 2, 1]), Index([&#x27;清晰&#x27;, &#x27;稍糊&#x27;, &#x27;模糊&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 0, 0, 1, 2, 1]), Index([&#x27;凹陷&#x27;, &#x27;稍凹&#x27;, &#x27;平坦&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\">    <span class=\"comment\"># (array([0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0]), Index([&#x27;硬滑&#x27;, &#x27;软粘&#x27;], dtype=&#x27;object&#x27;))</span></span><br><span class=\"line\"></span><br><span class=\"line\">x_data = np.asarray(normal_data).T</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将&quot;字符&quot;转为数字</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">y_data, y_maps = pd.factorize(y)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Xdata and ydata================================================================&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(x_data)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(y_data)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## start</span></span><br><span class=\"line\">clf = tree.DecisionTreeClassifier()</span><br><span class=\"line\">clf = clf.fit(x_data, y_data)</span><br><span class=\"line\"><span class=\"comment\">## end</span></span><br><span class=\"line\">res = tree.plot_tree(clf)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/133a03eb24d1a706df56bc177f7585f919b74960.png\" alt=\"static/attachment/Pasted image 20221128161247.png\"><br>\n<a href=\"http://127.0.0.1:8888/lab/workspaces/auto-b/tree/%E5%95%86%E4%B8%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/sk-learn-%E5%86%B3%E7%AD%96%E6%A0%91.ipynb\">sklearn 决策树</a></p>\n<h2 id=\"作业\">作业</h2>\n<p>![[Docs/后续课程内容安排#AI 作业]]</p>\n"},{"title":"商业数据分析-01-大纲","date":"2022-10-24T05:15:09.000Z","updated":"2022-11-25T23:26:17.000Z","aliases":["商业数据分析-01-大纲"],"_content":"\n\n\n## Summary\n\n- 成绩说明\n\t- 实验成绩组成\n\t- 平时成绩\n\t- 课堂大作业\n\t- 补充说明\n- 商业数据分析中常见的技术\n\t- 商业数据分析中 4 大问题\n\t\t- （数据）获取\n\t\t- 处理\n\t\t- 分析\n\t\t- 建模\n\t- 实验课程解决什么问题\n\t- 数据获取技术\n\t\t- 什么是数据获取\n\t\t\t- 例子 1\n\t\t\t- 例子 2\n\t\t\t- 例子 3\n\t\t- 常用的数据获取方法\n\t\t\t- 数据库提取🤪⏰\n\t\t\t- 网页爬取🥶⏰\n\t\t\t- 用户填写🤪⏰\n\t\t\t- 表格读取🤪⏰\n\t\t\t- Optical Character Recognition, OCR（纸质、图片）🥶⏰\n\t\t\t- Web 爬虫🥶⏰\n\t\t- 例子 1:\n\t\t\t- 需求：获取国美网站中的手机数据，并保存为 csv 文件\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开网站\n\t\t\t\t\t- 选择需要获取的数据\n\t\t\t\t\t- 开始采集\n\t\t\t\t\t- 保存数据\n\t\t\t\t- 例子演示（现场）\n\t- 数据处理技术\n\t\t- 什么是数据处理技术\n\t\t\t- 例子 1\n\t\t\t- 例子 2\n\t\t\t- 例子 3\n\t\t- 常用的数据处理方法\n\t\t\t- 脚本处理（任何场景）\n\t\t\t- 专业软件（SPSS、Excel、Kettle）（特定场景）\n\t\t\t- 可视化编程（UDI）（特定场景）\n\t\t- 例子 2：\n\t\t\t- 需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开 UDI\n\t\t\t\t\t- 创建工作流\n\t\t\t\t\t- 运行\n\t\t\t\t\t- 查看结果\n\t\t\t\t- 例子演示（现场）\n\t\t- Why 可视化编程？Not Excel?\n\t\t\t- 场景不同\n\t\t\t\t- 如定时运行\n\t\t\t\t- 体量大（TB）\n\t\t\t\t- 运行时间长（>1H)\n\t\t\t\t- 需要支持多种数据源\n\t\t- 例子 3：\n\t\t\t- 需求：将数据中的价格字段变为数字，并存储为新表\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开 UDI\n\t\t\t\t\t- 创建工作流\n\t\t\t\t\t- 运行\n\t\t\t\t\t- 查看结果\n\t\t\t\t- 例子演示（现场）\n\t- 数据可视化技术\n\t\t- 什么是数据可视化技术\n\t\t\t- 例子 1\n\t\t\t- 例子 2\n\t\t\t- 例子 3\n\t\t- 常用可视化方案（法）\n\t\t\t- 脚本处理（任何场景）\n\t\t\t- 专业软件（Tableau、SPSS、PowerBI）（特定场景）\n\t\t\t- VA\n\t\t- 例子 4：\n\t\t\t- 需求：读取收集数据，并统计平均价格\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t\t- 编程（Plotly、Matplotlib、Seabon）\n\t\t\t\t- 专业软件（VA/PowerBI/Tableau/Spss）\n\t\t\t\t- 手画\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开 VA\n\t\t\t\t\t- 建立数据源\n\t\t\t\t\t- 创建数据集\n\t\t\t\t\t- 建立工作表\n\t\t\t\t- 例子演示（现场）\n\t- 数据建模技术\n\t\t- 什么是数据建模\n\t\t\t- 例子 1\n\t\t\t- 例子 2\n\t\t\t- 例子 3\n\t\t- 常用的建模工具\n\t\t\t- 脚本处理（任何场景）\n\t\t\t- 专业软件（SPSS、Excel、Kettle）（特定场景）\n\t\t\t- 可视化编程（UDI）（特定场景）\n\t\t- 例子 5：\n\t\t\t- 需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开 UDI\n\t\t\t\t\t- 创建工作流\n\t\t\t\t\t- 运行\n\t\t\t\t\t- 查看结果\n\t\t\t\t- 例子演示（现场）\n","source":"_posts/商业数据分析-01-大纲.md","raw":"---\ntitle: 商业数据分析-01-大纲\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-10-24 13:15:09 \nupdated: 2022-11-26 07:26:17 \naliases:\n  - 商业数据分析-01-大纲\n---\n\n\n\n## Summary\n\n- 成绩说明\n\t- 实验成绩组成\n\t- 平时成绩\n\t- 课堂大作业\n\t- 补充说明\n- 商业数据分析中常见的技术\n\t- 商业数据分析中 4 大问题\n\t\t- （数据）获取\n\t\t- 处理\n\t\t- 分析\n\t\t- 建模\n\t- 实验课程解决什么问题\n\t- 数据获取技术\n\t\t- 什么是数据获取\n\t\t\t- 例子 1\n\t\t\t- 例子 2\n\t\t\t- 例子 3\n\t\t- 常用的数据获取方法\n\t\t\t- 数据库提取🤪⏰\n\t\t\t- 网页爬取🥶⏰\n\t\t\t- 用户填写🤪⏰\n\t\t\t- 表格读取🤪⏰\n\t\t\t- Optical Character Recognition, OCR（纸质、图片）🥶⏰\n\t\t\t- Web 爬虫🥶⏰\n\t\t- 例子 1:\n\t\t\t- 需求：获取国美网站中的手机数据，并保存为 csv 文件\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开网站\n\t\t\t\t\t- 选择需要获取的数据\n\t\t\t\t\t- 开始采集\n\t\t\t\t\t- 保存数据\n\t\t\t\t- 例子演示（现场）\n\t- 数据处理技术\n\t\t- 什么是数据处理技术\n\t\t\t- 例子 1\n\t\t\t- 例子 2\n\t\t\t- 例子 3\n\t\t- 常用的数据处理方法\n\t\t\t- 脚本处理（任何场景）\n\t\t\t- 专业软件（SPSS、Excel、Kettle）（特定场景）\n\t\t\t- 可视化编程（UDI）（特定场景）\n\t\t- 例子 2：\n\t\t\t- 需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开 UDI\n\t\t\t\t\t- 创建工作流\n\t\t\t\t\t- 运行\n\t\t\t\t\t- 查看结果\n\t\t\t\t- 例子演示（现场）\n\t\t- Why 可视化编程？Not Excel?\n\t\t\t- 场景不同\n\t\t\t\t- 如定时运行\n\t\t\t\t- 体量大（TB）\n\t\t\t\t- 运行时间长（>1H)\n\t\t\t\t- 需要支持多种数据源\n\t\t- 例子 3：\n\t\t\t- 需求：将数据中的价格字段变为数字，并存储为新表\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开 UDI\n\t\t\t\t\t- 创建工作流\n\t\t\t\t\t- 运行\n\t\t\t\t\t- 查看结果\n\t\t\t\t- 例子演示（现场）\n\t- 数据可视化技术\n\t\t- 什么是数据可视化技术\n\t\t\t- 例子 1\n\t\t\t- 例子 2\n\t\t\t- 例子 3\n\t\t- 常用可视化方案（法）\n\t\t\t- 脚本处理（任何场景）\n\t\t\t- 专业软件（Tableau、SPSS、PowerBI）（特定场景）\n\t\t\t- VA\n\t\t- 例子 4：\n\t\t\t- 需求：读取收集数据，并统计平均价格\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t\t- 编程（Plotly、Matplotlib、Seabon）\n\t\t\t\t- 专业软件（VA/PowerBI/Tableau/Spss）\n\t\t\t\t- 手画\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开 VA\n\t\t\t\t\t- 建立数据源\n\t\t\t\t\t- 创建数据集\n\t\t\t\t\t- 建立工作表\n\t\t\t\t- 例子演示（现场）\n\t- 数据建模技术\n\t\t- 什么是数据建模\n\t\t\t- 例子 1\n\t\t\t- 例子 2\n\t\t\t- 例子 3\n\t\t- 常用的建模工具\n\t\t\t- 脚本处理（任何场景）\n\t\t\t- 专业软件（SPSS、Excel、Kettle）（特定场景）\n\t\t\t- 可视化编程（UDI）（特定场景）\n\t\t- 例子 5：\n\t\t\t- 需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL\n\t\t\t- 有多少种方法解决这个问题？\n\t\t\t- 可能的方法列表\n\t\t\t- 典型例子说明\n\t\t\t\t- 基于什么技术\n\t\t\t\t\t- 技术特点\n\t\t\t\t\t- 为什么选这个技术\n\t\t\t\t- 流程说明（获取数据分为哪些步骤）\n\t\t\t\t\t- 打开 UDI\n\t\t\t\t\t- 创建工作流\n\t\t\t\t\t- 运行\n\t\t\t\t\t- 查看结果\n\t\t\t\t- 例子演示（现场）\n","slug":"商业数据分析-01-大纲","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io6001viwv91todcl6e","content":"<h2 id=\"Summary\">Summary</h2>\n<ul>\n<li>成绩说明\n<ul>\n<li>实验成绩组成</li>\n<li>平时成绩</li>\n<li>课堂大作业</li>\n<li>补充说明</li>\n</ul>\n</li>\n<li>商业数据分析中常见的技术\n<ul>\n<li>商业数据分析中 4 大问题\n<ul>\n<li>（数据）获取</li>\n<li>处理</li>\n<li>分析</li>\n<li>建模</li>\n</ul>\n</li>\n<li>实验课程解决什么问题</li>\n<li>数据获取技术\n<ul>\n<li>什么是数据获取\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的数据获取方法\n<ul>\n<li>数据库提取🤪⏰</li>\n<li>网页爬取🥶⏰</li>\n<li>用户填写🤪⏰</li>\n<li>表格读取🤪⏰</li>\n<li>Optical Character Recognition, OCR（纸质、图片）🥶⏰</li>\n<li>Web 爬虫🥶⏰</li>\n</ul>\n</li>\n<li>例子 1:\n<ul>\n<li>需求：获取国美网站中的手机数据，并保存为 csv 文件</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开网站</li>\n<li>选择需要获取的数据</li>\n<li>开始采集</li>\n<li>保存数据</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>数据处理技术\n<ul>\n<li>什么是数据处理技术\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的数据处理方法\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（SPSS、Excel、Kettle）（特定场景）</li>\n<li>可视化编程（UDI）（特定场景）</li>\n</ul>\n</li>\n<li>例子 2：\n<ul>\n<li>需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Why 可视化编程？Not Excel?\n<ul>\n<li>场景不同\n<ul>\n<li>如定时运行</li>\n<li>体量大（TB）</li>\n<li>运行时间长（&gt;1H)</li>\n<li>需要支持多种数据源</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>例子 3：\n<ul>\n<li>需求：将数据中的价格字段变为数字，并存储为新表</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>数据可视化技术\n<ul>\n<li>什么是数据可视化技术\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用可视化方案（法）\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（Tableau、SPSS、PowerBI）（特定场景）</li>\n<li>VA</li>\n</ul>\n</li>\n<li>例子 4：\n<ul>\n<li>需求：读取收集数据，并统计平均价格</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表\n<ul>\n<li>编程（Plotly、Matplotlib、Seabon）</li>\n<li>专业软件（VA/PowerBI/Tableau/Spss）</li>\n<li>手画</li>\n</ul>\n</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 VA</li>\n<li>建立数据源</li>\n<li>创建数据集</li>\n<li>建立工作表</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>数据建模技术\n<ul>\n<li>什么是数据建模\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的建模工具\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（SPSS、Excel、Kettle）（特定场景）</li>\n<li>可视化编程（UDI）（特定场景）</li>\n</ul>\n</li>\n<li>例子 5：\n<ul>\n<li>需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover7.JPG","excerpt":"","more":"<h2 id=\"Summary\">Summary</h2>\n<ul>\n<li>成绩说明\n<ul>\n<li>实验成绩组成</li>\n<li>平时成绩</li>\n<li>课堂大作业</li>\n<li>补充说明</li>\n</ul>\n</li>\n<li>商业数据分析中常见的技术\n<ul>\n<li>商业数据分析中 4 大问题\n<ul>\n<li>（数据）获取</li>\n<li>处理</li>\n<li>分析</li>\n<li>建模</li>\n</ul>\n</li>\n<li>实验课程解决什么问题</li>\n<li>数据获取技术\n<ul>\n<li>什么是数据获取\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的数据获取方法\n<ul>\n<li>数据库提取🤪⏰</li>\n<li>网页爬取🥶⏰</li>\n<li>用户填写🤪⏰</li>\n<li>表格读取🤪⏰</li>\n<li>Optical Character Recognition, OCR（纸质、图片）🥶⏰</li>\n<li>Web 爬虫🥶⏰</li>\n</ul>\n</li>\n<li>例子 1:\n<ul>\n<li>需求：获取国美网站中的手机数据，并保存为 csv 文件</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开网站</li>\n<li>选择需要获取的数据</li>\n<li>开始采集</li>\n<li>保存数据</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>数据处理技术\n<ul>\n<li>什么是数据处理技术\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的数据处理方法\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（SPSS、Excel、Kettle）（特定场景）</li>\n<li>可视化编程（UDI）（特定场景）</li>\n</ul>\n</li>\n<li>例子 2：\n<ul>\n<li>需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Why 可视化编程？Not Excel?\n<ul>\n<li>场景不同\n<ul>\n<li>如定时运行</li>\n<li>体量大（TB）</li>\n<li>运行时间长（&gt;1H)</li>\n<li>需要支持多种数据源</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>例子 3：\n<ul>\n<li>需求：将数据中的价格字段变为数字，并存储为新表</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>数据可视化技术\n<ul>\n<li>什么是数据可视化技术\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用可视化方案（法）\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（Tableau、SPSS、PowerBI）（特定场景）</li>\n<li>VA</li>\n</ul>\n</li>\n<li>例子 4：\n<ul>\n<li>需求：读取收集数据，并统计平均价格</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表\n<ul>\n<li>编程（Plotly、Matplotlib、Seabon）</li>\n<li>专业软件（VA/PowerBI/Tableau/Spss）</li>\n<li>手画</li>\n</ul>\n</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 VA</li>\n<li>建立数据源</li>\n<li>创建数据集</li>\n<li>建立工作表</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>数据建模技术\n<ul>\n<li>什么是数据建模\n<ul>\n<li>例子 1</li>\n<li>例子 2</li>\n<li>例子 3</li>\n</ul>\n</li>\n<li>常用的建模工具\n<ul>\n<li>脚本处理（任何场景）</li>\n<li>专业软件（SPSS、Excel、Kettle）（特定场景）</li>\n<li>可视化编程（UDI）（特定场景）</li>\n</ul>\n</li>\n<li>例子 5：\n<ul>\n<li>需求：将（爬取的）手机数据 (CSV) 中的数据保存到 MySQL</li>\n<li>有多少种方法解决这个问题？</li>\n<li>可能的方法列表</li>\n<li>典型例子说明\n<ul>\n<li>基于什么技术\n<ul>\n<li>技术特点</li>\n<li>为什么选这个技术</li>\n</ul>\n</li>\n<li>流程说明（获取数据分为哪些步骤）\n<ul>\n<li>打开 UDI</li>\n<li>创建工作流</li>\n<li>运行</li>\n<li>查看结果</li>\n</ul>\n</li>\n<li>例子演示（现场）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"数智教育 数据可视化创新大赛 数据分析","date":"2022-11-14T06:53:52.000Z","updated":"2022-11-25T10:19:33.000Z","aliases":["数智教育 数据可视化创新大赛 数据分析"],"_content":"\n## 基本信息\n\n比赛信息: <https://tianchi.aliyun.com/competition/entrance/231704/information>  \n[数据集下载](https://github.com/wu-uw/tianchi-shuzhijiaoyu)\n\n### 数据集基本信息\n\n7 个 `.csv` 文件, 包括学生/教师/考试等信息, 文件列表:\n\n```python\n1_teacher.csv \n2_student_info.csv\n3_kaoqin.csv\n4_kaoqintype.csv\n5_chengji.csv\n6_exam_type.csv\n7_consumption.csv\n```\n\n数据说明: `《数智教育》数仓说明.pdf`\n\n表关系数理:\n\n![Excalidraw/“数智教育”数据可视化创新大赛 数据分析 2022-11-14 15.08.04.excalidraw](/images/c1a12a9ba30d2cf99a4abb9fb760ef05bdb2ebd3.excalidraw)\n\n## 分析点\n\n- 男生周总消费, 女生周总消费 (双轴折线图)\n\t- x: 月份\n\t- y1: 男生总消费\n\t- y2: 女生总消费\n- 统计每个班级作弊人数\n\t- x: 班级\n\t- y: 作弊人数\n- 平均成绩最高的三个班\n\t- x: 班级\n\t- y: 平均成绩\n- 总消费 TOP10 的学生\n\t- x: 学生姓名\n\t- y: 总消费\n- ….\n\n## 成果预估\n\n成果中包含了整个数据仓库的内容  \n![Excalidraw/数智教育 数据可视化创新大赛 数据分析 2022-11-14 15.40.38.excalidraw](/images/0604c22058d3ccf00ede971042b84e2b07499e65.excalidraw)\n\n## 数据学生平均成绩\n\n```sql\nselect tmp.*,bf_Name from (select mes_StudentID, avg(mes_Score) as ave_score\n      from ods_chengji\n               left join ods_student_info on ods_chengji.mes_StudentID = ods_student_info.bf_studentid\n      group by mes_StudentID) as tmp\n    left join ods_student_info on tmp.mes_StudentID=ods_student_info.bf_StudentID where ods_student_info.bf_Name !=''\n```\n\n执行结果:  \n![static/attachment/Pasted image 20221121141312.png](/images/1b1e89cdf915e9f65674687924ace1a5670a2bda.png)\n\n例子  \n<https://uniplore.feishu.cn/drive/folder/fldcnHPNtoxz3qZlq676vbdGxbz?from=space_persnoal_filelist>  \n<https://uniplore.feishu.cn/drive/folder/fldcnxHFhAY7zUPN95NQD8aeKZg>\n","source":"_posts/数智教育数据可视化创新大赛数据分析.md","raw":"---\ntitle: 数智教育 数据可视化创新大赛 数据分析\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-11-14 14:53:52 \nupdated: 2022-11-25 18:19:33 \naliases:\n  - 数智教育 数据可视化创新大赛 数据分析\n---\n\n## 基本信息\n\n比赛信息: <https://tianchi.aliyun.com/competition/entrance/231704/information>  \n[数据集下载](https://github.com/wu-uw/tianchi-shuzhijiaoyu)\n\n### 数据集基本信息\n\n7 个 `.csv` 文件, 包括学生/教师/考试等信息, 文件列表:\n\n```python\n1_teacher.csv \n2_student_info.csv\n3_kaoqin.csv\n4_kaoqintype.csv\n5_chengji.csv\n6_exam_type.csv\n7_consumption.csv\n```\n\n数据说明: `《数智教育》数仓说明.pdf`\n\n表关系数理:\n\n![Excalidraw/“数智教育”数据可视化创新大赛 数据分析 2022-11-14 15.08.04.excalidraw](/images/c1a12a9ba30d2cf99a4abb9fb760ef05bdb2ebd3.excalidraw)\n\n## 分析点\n\n- 男生周总消费, 女生周总消费 (双轴折线图)\n\t- x: 月份\n\t- y1: 男生总消费\n\t- y2: 女生总消费\n- 统计每个班级作弊人数\n\t- x: 班级\n\t- y: 作弊人数\n- 平均成绩最高的三个班\n\t- x: 班级\n\t- y: 平均成绩\n- 总消费 TOP10 的学生\n\t- x: 学生姓名\n\t- y: 总消费\n- ….\n\n## 成果预估\n\n成果中包含了整个数据仓库的内容  \n![Excalidraw/数智教育 数据可视化创新大赛 数据分析 2022-11-14 15.40.38.excalidraw](/images/0604c22058d3ccf00ede971042b84e2b07499e65.excalidraw)\n\n## 数据学生平均成绩\n\n```sql\nselect tmp.*,bf_Name from (select mes_StudentID, avg(mes_Score) as ave_score\n      from ods_chengji\n               left join ods_student_info on ods_chengji.mes_StudentID = ods_student_info.bf_studentid\n      group by mes_StudentID) as tmp\n    left join ods_student_info on tmp.mes_StudentID=ods_student_info.bf_StudentID where ods_student_info.bf_Name !=''\n```\n\n执行结果:  \n![static/attachment/Pasted image 20221121141312.png](/images/1b1e89cdf915e9f65674687924ace1a5670a2bda.png)\n\n例子  \n<https://uniplore.feishu.cn/drive/folder/fldcnHPNtoxz3qZlq676vbdGxbz?from=space_persnoal_filelist>  \n<https://uniplore.feishu.cn/drive/folder/fldcnxHFhAY7zUPN95NQD8aeKZg>\n","slug":"数智教育数据可视化创新大赛数据分析","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io7001yiwv9gkz42t1f","content":"<h2 id=\"基本信息\">基本信息</h2>\n<p>比赛信息: <a href=\"https://tianchi.aliyun.com/competition/entrance/231704/information\">https://tianchi.aliyun.com/competition/entrance/231704/information</a><br>\n<a href=\"https://github.com/wu-uw/tianchi-shuzhijiaoyu\">数据集下载</a></p>\n<h3 id=\"数据集基本信息\">数据集基本信息</h3>\n<p>7 个 <code>.csv</code> 文件, 包括学生/教师/考试等信息, 文件列表:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1_teacher.csv </span><br><span class=\"line\">2_student_info.csv</span><br><span class=\"line\">3_kaoqin.csv</span><br><span class=\"line\">4_kaoqintype.csv</span><br><span class=\"line\">5_chengji.csv</span><br><span class=\"line\">6_exam_type.csv</span><br><span class=\"line\">7_consumption.csv</span><br></pre></td></tr></table></figure>\n<p>数据说明: <code>《数智教育》数仓说明.pdf</code></p>\n<p>表关系数理:</p>\n<p><img src=\"/images/c1a12a9ba30d2cf99a4abb9fb760ef05bdb2ebd3.excalidraw\" alt=\"Excalidraw/“数智教育”数据可视化创新大赛 数据分析 2022-11-14 15.08.04.excalidraw\"></p>\n<h2 id=\"分析点\">分析点</h2>\n<ul>\n<li>男生周总消费, 女生周总消费 (双轴折线图)\n<ul>\n<li>x: 月份</li>\n<li>y1: 男生总消费</li>\n<li>y2: 女生总消费</li>\n</ul>\n</li>\n<li>统计每个班级作弊人数\n<ul>\n<li>x: 班级</li>\n<li>y: 作弊人数</li>\n</ul>\n</li>\n<li>平均成绩最高的三个班\n<ul>\n<li>x: 班级</li>\n<li>y: 平均成绩</li>\n</ul>\n</li>\n<li>总消费 TOP10 的学生\n<ul>\n<li>x: 学生姓名</li>\n<li>y: 总消费</li>\n</ul>\n</li>\n<li>….</li>\n</ul>\n<h2 id=\"成果预估\">成果预估</h2>\n<p>成果中包含了整个数据仓库的内容<br>\n<img src=\"/images/0604c22058d3ccf00ede971042b84e2b07499e65.excalidraw\" alt=\"Excalidraw/数智教育 数据可视化创新大赛 数据分析 2022-11-14 15.40.38.excalidraw\"></p>\n<h2 id=\"数据学生平均成绩\">数据学生平均成绩</h2>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> tmp.<span class=\"operator\">*</span>,bf_Name <span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> mes_StudentID, <span class=\"built_in\">avg</span>(mes_Score) <span class=\"keyword\">as</span> ave_score</span><br><span class=\"line\">      <span class=\"keyword\">from</span> ods_chengji</span><br><span class=\"line\">               <span class=\"keyword\">left</span> <span class=\"keyword\">join</span> ods_student_info <span class=\"keyword\">on</span> ods_chengji.mes_StudentID <span class=\"operator\">=</span> ods_student_info.bf_studentid</span><br><span class=\"line\">      <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> mes_StudentID) <span class=\"keyword\">as</span> tmp</span><br><span class=\"line\">    <span class=\"keyword\">left</span> <span class=\"keyword\">join</span> ods_student_info <span class=\"keyword\">on</span> tmp.mes_StudentID<span class=\"operator\">=</span>ods_student_info.bf_StudentID <span class=\"keyword\">where</span> ods_student_info.bf_Name <span class=\"operator\">!=</span><span class=\"string\">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>执行结果:<br>\n<img src=\"/images/1b1e89cdf915e9f65674687924ace1a5670a2bda.png\" alt=\"static/attachment/Pasted image 20221121141312.png\"></p>\n<p>例子<br>\n<a href=\"https://uniplore.feishu.cn/drive/folder/fldcnHPNtoxz3qZlq676vbdGxbz?from=space_persnoal_filelist\">https://uniplore.feishu.cn/drive/folder/fldcnHPNtoxz3qZlq676vbdGxbz?from=space_persnoal_filelist</a><br>\n<a href=\"https://uniplore.feishu.cn/drive/folder/fldcnxHFhAY7zUPN95NQD8aeKZg\">https://uniplore.feishu.cn/drive/folder/fldcnxHFhAY7zUPN95NQD8aeKZg</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover8.JPG","excerpt":"","more":"<h2 id=\"基本信息\">基本信息</h2>\n<p>比赛信息: <a href=\"https://tianchi.aliyun.com/competition/entrance/231704/information\">https://tianchi.aliyun.com/competition/entrance/231704/information</a><br>\n<a href=\"https://github.com/wu-uw/tianchi-shuzhijiaoyu\">数据集下载</a></p>\n<h3 id=\"数据集基本信息\">数据集基本信息</h3>\n<p>7 个 <code>.csv</code> 文件, 包括学生/教师/考试等信息, 文件列表:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1_teacher.csv </span><br><span class=\"line\">2_student_info.csv</span><br><span class=\"line\">3_kaoqin.csv</span><br><span class=\"line\">4_kaoqintype.csv</span><br><span class=\"line\">5_chengji.csv</span><br><span class=\"line\">6_exam_type.csv</span><br><span class=\"line\">7_consumption.csv</span><br></pre></td></tr></table></figure>\n<p>数据说明: <code>《数智教育》数仓说明.pdf</code></p>\n<p>表关系数理:</p>\n<p><img src=\"/images/c1a12a9ba30d2cf99a4abb9fb760ef05bdb2ebd3.excalidraw\" alt=\"Excalidraw/“数智教育”数据可视化创新大赛 数据分析 2022-11-14 15.08.04.excalidraw\"></p>\n<h2 id=\"分析点\">分析点</h2>\n<ul>\n<li>男生周总消费, 女生周总消费 (双轴折线图)\n<ul>\n<li>x: 月份</li>\n<li>y1: 男生总消费</li>\n<li>y2: 女生总消费</li>\n</ul>\n</li>\n<li>统计每个班级作弊人数\n<ul>\n<li>x: 班级</li>\n<li>y: 作弊人数</li>\n</ul>\n</li>\n<li>平均成绩最高的三个班\n<ul>\n<li>x: 班级</li>\n<li>y: 平均成绩</li>\n</ul>\n</li>\n<li>总消费 TOP10 的学生\n<ul>\n<li>x: 学生姓名</li>\n<li>y: 总消费</li>\n</ul>\n</li>\n<li>….</li>\n</ul>\n<h2 id=\"成果预估\">成果预估</h2>\n<p>成果中包含了整个数据仓库的内容<br>\n<img src=\"/images/0604c22058d3ccf00ede971042b84e2b07499e65.excalidraw\" alt=\"Excalidraw/数智教育 数据可视化创新大赛 数据分析 2022-11-14 15.40.38.excalidraw\"></p>\n<h2 id=\"数据学生平均成绩\">数据学生平均成绩</h2>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> tmp.<span class=\"operator\">*</span>,bf_Name <span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> mes_StudentID, <span class=\"built_in\">avg</span>(mes_Score) <span class=\"keyword\">as</span> ave_score</span><br><span class=\"line\">      <span class=\"keyword\">from</span> ods_chengji</span><br><span class=\"line\">               <span class=\"keyword\">left</span> <span class=\"keyword\">join</span> ods_student_info <span class=\"keyword\">on</span> ods_chengji.mes_StudentID <span class=\"operator\">=</span> ods_student_info.bf_studentid</span><br><span class=\"line\">      <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> mes_StudentID) <span class=\"keyword\">as</span> tmp</span><br><span class=\"line\">    <span class=\"keyword\">left</span> <span class=\"keyword\">join</span> ods_student_info <span class=\"keyword\">on</span> tmp.mes_StudentID<span class=\"operator\">=</span>ods_student_info.bf_StudentID <span class=\"keyword\">where</span> ods_student_info.bf_Name <span class=\"operator\">!=</span><span class=\"string\">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>执行结果:<br>\n<img src=\"/images/1b1e89cdf915e9f65674687924ace1a5670a2bda.png\" alt=\"static/attachment/Pasted image 20221121141312.png\"></p>\n<p>例子<br>\n<a href=\"https://uniplore.feishu.cn/drive/folder/fldcnHPNtoxz3qZlq676vbdGxbz?from=space_persnoal_filelist\">https://uniplore.feishu.cn/drive/folder/fldcnHPNtoxz3qZlq676vbdGxbz?from=space_persnoal_filelist</a><br>\n<a href=\"https://uniplore.feishu.cn/drive/folder/fldcnxHFhAY7zUPN95NQD8aeKZg\">https://uniplore.feishu.cn/drive/folder/fldcnxHFhAY7zUPN95NQD8aeKZg</a></p>\n"},{"title":"相关资料","date":"2022-11-14T07:13:13.000Z","updated":"2022-11-30T13:40:47.000Z","password":null,"message":null,"abstract":null,"aliases":["相关资料"],"_content":"- 机器学习相关书籍\n   - 机器学习相关书籍\n\t  - 链接: <https://pan.baidu.com/s/1SvYjfBCzGupUECGnUcd5Kg?pwd=yhta> 提取码: yhta\n   - Scikit-learn 视频推荐\n\t  - <https://www.bilibili.com/video/BV1aV411e7CJ?p=5&vd_source=dfbc322c387caba8f290f66c006d6d6c>\n","source":"_posts/相关资料.md","raw":"---\ntitle: 相关资料\ntags:\n- 培训材料/贵州大学商业数据分析\n- public \ndate: 2022-11-14 15:13:13 \nupdated: 2022-11-30 21:40:47 \npassword: \nmessage: \nabstract: \naliases:\n  - 相关资料\n---\n- 机器学习相关书籍\n   - 机器学习相关书籍\n\t  - 链接: <https://pan.baidu.com/s/1SvYjfBCzGupUECGnUcd5Kg?pwd=yhta> 提取码: yhta\n   - Scikit-learn 视频推荐\n\t  - <https://www.bilibili.com/video/BV1aV411e7CJ?p=5&vd_source=dfbc322c387caba8f290f66c006d6d6c>\n","slug":"相关资料","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02io70020iwv91u2hd6hv","content":"<ul>\n<li>机器学习相关书籍\n<ul>\n<li>机器学习相关书籍\n<ul>\n<li>链接: <a href=\"https://pan.baidu.com/s/1SvYjfBCzGupUECGnUcd5Kg?pwd=yhta\">https://pan.baidu.com/s/1SvYjfBCzGupUECGnUcd5Kg?pwd=yhta</a> 提取码: yhta</li>\n</ul>\n</li>\n<li>Scikit-learn 视频推荐\n<ul>\n<li><a href=\"https://www.bilibili.com/video/BV1aV411e7CJ?p=5&amp;vd_source=dfbc322c387caba8f290f66c006d6d6c\">https://www.bilibili.com/video/BV1aV411e7CJ?p=5&amp;vd_source=dfbc322c387caba8f290f66c006d6d6c</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover1.JPG","excerpt":"","more":"<ul>\n<li>机器学习相关书籍\n<ul>\n<li>机器学习相关书籍\n<ul>\n<li>链接: <a href=\"https://pan.baidu.com/s/1SvYjfBCzGupUECGnUcd5Kg?pwd=yhta\">https://pan.baidu.com/s/1SvYjfBCzGupUECGnUcd5Kg?pwd=yhta</a> 提取码: yhta</li>\n</ul>\n</li>\n<li>Scikit-learn 视频推荐\n<ul>\n<li><a href=\"https://www.bilibili.com/video/BV1aV411e7CJ?p=5&amp;vd_source=dfbc322c387caba8f290f66c006d6d6c\">https://www.bilibili.com/video/BV1aV411e7CJ?p=5&amp;vd_source=dfbc322c387caba8f290f66c006d6d6c</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"表格解读的方法","date":"2022-12-11T01:59:37.000Z","updated":"2022-12-11T02:08:55.000Z","aliases":["表格解读的方法","表格的分析方式","Untitled 3"],"_content":"\n## Coca: vertical/horizontal View\n\nWe report aﬃliation F1-score and accuracy in Table 2. From the **vertical view** of the table, some methods perform poorly in AIOps because there are anomalous samples in the training set, which leads to high false negative rates. On the other hand, for the UCR dataset, methods such as OC-SVM, Deep SVDD, and TS-TCC-AD have higher F1-score but lower accuracy. That’s because the accuracy metric is binary (anomaly found or not), and it indicates these methods’ results are close to the correct range of ground truth anomaly but not fall within it.\n\nFrom the **horizontal view** of the table, four conclusions can be drawn. First, in shallow methods, RCF with RPA F1-score over 34% performs well and even outperforms some deep methods, showing that RCF methods are good baselines in time-series AD. Second, TS-TCC-AD outperforms Deep SVDD, indicating that CL learns representations at high levels of semantics and discards some low-level information that is useless for AD. It also further conﬁrms that the pre-trained deep model limits the performance of two-staged AD methods. Third, DAGMM and LSTM-ED perform better than other deep baselines, indicating the normality assumptions of clustering and reconstruction are more relevant to the nature of AD. Last, the proposed COCA outperforms all baselines on both datasets, demonstrating the eﬀectiveness and robustness of ensemble multiple normality assumptions.  \n![static/attachment/Pasted image 20221211100022.png](/images/c8d9fae679b67b805a9e12f320e70dc8fca10aa1.png)\n","source":"_posts/表格解读的方法.md","raw":"---\ntitle: 表格解读的方法\ntags:\n  - public\ndate: 2022-12-11 09:59:37 \nupdated: 2022-12-11 10:08:55 \ncategories:\n  - uncategory\naliases:\n  - 表格解读的方法\n  - 表格的分析方式\n  - Untitled 3\n---\n\n## Coca: vertical/horizontal View\n\nWe report aﬃliation F1-score and accuracy in Table 2. From the **vertical view** of the table, some methods perform poorly in AIOps because there are anomalous samples in the training set, which leads to high false negative rates. On the other hand, for the UCR dataset, methods such as OC-SVM, Deep SVDD, and TS-TCC-AD have higher F1-score but lower accuracy. That’s because the accuracy metric is binary (anomaly found or not), and it indicates these methods’ results are close to the correct range of ground truth anomaly but not fall within it.\n\nFrom the **horizontal view** of the table, four conclusions can be drawn. First, in shallow methods, RCF with RPA F1-score over 34% performs well and even outperforms some deep methods, showing that RCF methods are good baselines in time-series AD. Second, TS-TCC-AD outperforms Deep SVDD, indicating that CL learns representations at high levels of semantics and discards some low-level information that is useless for AD. It also further conﬁrms that the pre-trained deep model limits the performance of two-staged AD methods. Third, DAGMM and LSTM-ED perform better than other deep baselines, indicating the normality assumptions of clustering and reconstruction are more relevant to the nature of AD. Last, the proposed COCA outperforms all baselines on both datasets, demonstrating the eﬀectiveness and robustness of ensemble multiple normality assumptions.  \n![static/attachment/Pasted image 20221211100022.png](/images/c8d9fae679b67b805a9e12f320e70dc8fca10aa1.png)\n","slug":"表格解读的方法","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02ioa002wiwv9d0km38rl","content":"<h2 id=\"Coca-vertical-horizontal-View\">Coca: vertical/horizontal View</h2>\n<p>We report aﬃliation F1-score and accuracy in Table 2. From the <strong>vertical view</strong> of the table, some methods perform poorly in AIOps because there are anomalous samples in the training set, which leads to high false negative rates. On the other hand, for the UCR dataset, methods such as OC-SVM, Deep SVDD, and TS-TCC-AD have higher F1-score but lower accuracy. That’s because the accuracy metric is binary (anomaly found or not), and it indicates these methods’ results are close to the correct range of ground truth anomaly but not fall within it.</p>\n<p>From the <strong>horizontal view</strong> of the table, four conclusions can be drawn. First, in shallow methods, RCF with RPA F1-score over 34% performs well and even outperforms some deep methods, showing that RCF methods are good baselines in time-series AD. Second, TS-TCC-AD outperforms Deep SVDD, indicating that CL learns representations at high levels of semantics and discards some low-level information that is useless for AD. It also further conﬁrms that the pre-trained deep model limits the performance of two-staged AD methods. Third, DAGMM and LSTM-ED perform better than other deep baselines, indicating the normality assumptions of clustering and reconstruction are more relevant to the nature of AD. Last, the proposed COCA outperforms all baselines on both datasets, demonstrating the eﬀectiveness and robustness of ensemble multiple normality assumptions.<br>\n<img src=\"/images/c8d9fae679b67b805a9e12f320e70dc8fca10aa1.png\" alt=\"static/attachment/Pasted image 20221211100022.png\"></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover8.JPG","excerpt":"","more":"<h2 id=\"Coca-vertical-horizontal-View\">Coca: vertical/horizontal View</h2>\n<p>We report aﬃliation F1-score and accuracy in Table 2. From the <strong>vertical view</strong> of the table, some methods perform poorly in AIOps because there are anomalous samples in the training set, which leads to high false negative rates. On the other hand, for the UCR dataset, methods such as OC-SVM, Deep SVDD, and TS-TCC-AD have higher F1-score but lower accuracy. That’s because the accuracy metric is binary (anomaly found or not), and it indicates these methods’ results are close to the correct range of ground truth anomaly but not fall within it.</p>\n<p>From the <strong>horizontal view</strong> of the table, four conclusions can be drawn. First, in shallow methods, RCF with RPA F1-score over 34% performs well and even outperforms some deep methods, showing that RCF methods are good baselines in time-series AD. Second, TS-TCC-AD outperforms Deep SVDD, indicating that CL learns representations at high levels of semantics and discards some low-level information that is useless for AD. It also further conﬁrms that the pre-trained deep model limits the performance of two-staged AD methods. Third, DAGMM and LSTM-ED perform better than other deep baselines, indicating the normality assumptions of clustering and reconstruction are more relevant to the nature of AD. Last, the proposed COCA outperforms all baselines on both datasets, demonstrating the eﬀectiveness and robustness of ensemble multiple normality assumptions.<br>\n<img src=\"/images/c8d9fae679b67b805a9e12f320e70dc8fca10aa1.png\" alt=\"static/attachment/Pasted image 20221211100022.png\"></p>\n"},{"title":"重定向","date":"2022-12-10T13:56:35.000Z","updated":"2022-12-10T13:58:30.000Z","aliases":["重定向"],"_content":"\n页面已经重定向到:  \nhttps://www.gwusun.top/research/3b3d48494943.html\n","source":"_posts/重定向.md","raw":"---\ntitle: 重定向\ntags:\n  - docs\n  - public\ndate: 2022-12-10 21:56:35 \nupdated: 2022-12-10 21:58:30 \npermalink: '/p/3b3d48494943/index.html'\ncategories:\n  - uncategory\naliases:\n  - 重定向\n---\n\n页面已经重定向到:  \nhttps://www.gwusun.top/research/3b3d48494943.html\n","slug":"重定向","published":1,"__permalink":"/p/3b3d48494943/index.html","comments":1,"layout":"post","photos":[],"link":"","_id":"clbm02ioa002xiwv9c8cl429f","content":"<p>页面已经重定向到:<br>\n<a href=\"https://www.gwusun.top/research/3b3d48494943.html\">https://www.gwusun.top/research/3b3d48494943.html</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover6.JPG","excerpt":"","more":"<p>页面已经重定向到:<br>\n<a href=\"https://www.gwusun.top/research/3b3d48494943.html\">https://www.gwusun.top/research/3b3d48494943.html</a></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"clbm02inq0003iwv966pr7gy2","category_id":"clbm02ins0006iwv9aku0fkbx","_id":"clbm02inw000giwv97dhu3uuh"},{"post_id":"clbm02int0007iwv92r3ghshg","category_id":"clbm02inu000biwv9fjj5esmi","_id":"clbm02iny000niwv9aw0f2tck"},{"post_id":"clbm02iny000piwv93tt9dfmd","category_id":"clbm02inw000kiwv9cn48fd46","_id":"clbm02io1000ziwv9cre924zq"},{"post_id":"clbm02inw000fiwv9agwc3jsy","category_id":"clbm02inw000kiwv9cn48fd46","_id":"clbm02io10012iwv92c6hadk1"},{"post_id":"clbm02io0000viwv97tjtb5rh","category_id":"clbm02inu000biwv9fjj5esmi","_id":"clbm02io20016iwv99we7d68j"},{"post_id":"clbm02inx000miwv9cx1wdk69","category_id":"clbm02inw000kiwv9cn48fd46","_id":"clbm02io20019iwv9arw1e7pj"},{"post_id":"clbm02io0000yiwv9968xdon2","category_id":"clbm02inu000biwv9fjj5esmi","_id":"clbm02io2001diwv98r5k9mle"},{"post_id":"clbm02io10015iwv92cw25s12","category_id":"clbm02inw000kiwv9cn48fd46","_id":"clbm02io3001giwv90twtf51m"},{"post_id":"clbm02io20018iwv9csh837le","category_id":"clbm02inw000kiwv9cn48fd46","_id":"clbm02io5001kiwv99ko4band"},{"post_id":"clbm02io2001ciwv92qxb02ad","category_id":"clbm02inw000kiwv9cn48fd46","_id":"clbm02io5001niwv9ef3vbd21"},{"post_id":"clbm02io5001miwv908xcc08m","category_id":"clbm02inw000kiwv9cn48fd46","_id":"clbm02io7001wiwv9d4op2j8f"},{"post_id":"clbm02ioa002wiwv9d0km38rl","category_id":"clbm02inu000biwv9fjj5esmi","_id":"clbm02iob0030iwv94b2ghp5f"},{"post_id":"clbm02ioa002xiwv9c8cl429f","category_id":"clbm02inu000biwv9fjj5esmi","_id":"clbm02iob0032iwv96sky9941"}],"PostTag":[{"post_id":"clbm02inu000aiwv9cheo0iaj","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02inv000eiwv92j3fg3j3"},{"post_id":"clbm02inu000aiwv9cheo0iaj","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02inw000hiwv9ecizhaho"},{"post_id":"clbm02ino0001iwv9657bc76b","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02inx000liwv98fqq54xp"},{"post_id":"clbm02ino0001iwv9657bc76b","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02iny000oiwv9ap9z0adn"},{"post_id":"clbm02inv000ciwv93hfp993f","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02inz000riwv9hey79y1t"},{"post_id":"clbm02inv000ciwv93hfp993f","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io0000uiwv9fw6y8yim"},{"post_id":"clbm02inw000iiwv91edf9xql","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io0000xiwv93oaef0tc"},{"post_id":"clbm02inw000iiwv91edf9xql","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io10010iwv996y2gnul"},{"post_id":"clbm02inq0003iwv966pr7gy2","tag_id":"clbm02inv000diwv91yvod978","_id":"clbm02io10014iwv9cmzyays5"},{"post_id":"clbm02inq0003iwv966pr7gy2","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io20017iwv99hhv9u3n"},{"post_id":"clbm02inz000siwv945vn8h9a","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io2001biwv937du4gsg"},{"post_id":"clbm02inz000siwv945vn8h9a","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io3001eiwv9411o8rj1"},{"post_id":"clbm02ins0005iwv94ead1pxk","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io3001iiwv9b10j4pu5"},{"post_id":"clbm02ins0005iwv94ead1pxk","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io5001liwv9et4geane"},{"post_id":"clbm02io10011iwv9bbp601h1","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io5001oiwv9729r9ri1"},{"post_id":"clbm02io10015iwv92cw25s12","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io6001riwv9ho813zi0"},{"post_id":"clbm02int0007iwv92r3ghshg","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io6001tiwv9fkloe8yi"},{"post_id":"clbm02int0007iwv92r3ghshg","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io7001xiwv97dc087ap"},{"post_id":"clbm02int0008iwv9hstk49le","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io7001ziwv90algdewu"},{"post_id":"clbm02int0008iwv9hstk49le","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io70022iwv9cilf6p8z"},{"post_id":"clbm02io3001fiwv9ajcc50vb","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io70023iwv9grd58tx9"},{"post_id":"clbm02inw000fiwv9agwc3jsy","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io80025iwv97tne5dhx"},{"post_id":"clbm02inw000fiwv9agwc3jsy","tag_id":"clbm02io3001hiwv94xyw17xv","_id":"clbm02io80026iwv92lxh77k6"},{"post_id":"clbm02io5001miwv908xcc08m","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io80028iwv9apip3ozn"},{"post_id":"clbm02inx000miwv9cx1wdk69","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io80029iwv946txdppp"},{"post_id":"clbm02inx000miwv9cx1wdk69","tag_id":"clbm02io3001hiwv94xyw17xv","_id":"clbm02io8002biwv9a4xzdx3z"},{"post_id":"clbm02io6001siwv954k54m2f","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io8002ciwv98guw7kge"},{"post_id":"clbm02io6001siwv954k54m2f","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io8002eiwv9e45iadoc"},{"post_id":"clbm02io6001viwv91todcl6e","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io8002fiwv92wjg420h"},{"post_id":"clbm02io6001viwv91todcl6e","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io9002giwv93ftwfx2k"},{"post_id":"clbm02io7001yiwv9gkz42t1f","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io9002hiwv9c9r21vkc"},{"post_id":"clbm02io7001yiwv9gkz42t1f","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io9002iiwv9ccabc3vb"},{"post_id":"clbm02io70020iwv91u2hd6hv","tag_id":"clbm02inr0004iwv97evw5go4","_id":"clbm02io9002jiwv95b0zczcn"},{"post_id":"clbm02io70020iwv91u2hd6hv","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io9002kiwv9b69t0ohf"},{"post_id":"clbm02iny000piwv93tt9dfmd","tag_id":"clbm02io6001uiwv9bqffeqs5","_id":"clbm02io9002liwv9dck8fegp"},{"post_id":"clbm02iny000piwv93tt9dfmd","tag_id":"clbm02io3001hiwv94xyw17xv","_id":"clbm02io9002miwv92dzd7wqp"},{"post_id":"clbm02iny000piwv93tt9dfmd","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io9002niwv9d2u25ksl"},{"post_id":"clbm02io0000viwv97tjtb5rh","tag_id":"clbm02io6001uiwv9bqffeqs5","_id":"clbm02io9002oiwv99b957kt0"},{"post_id":"clbm02io0000viwv97tjtb5rh","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io9002piwv9br9q8pj6"},{"post_id":"clbm02io0000yiwv9968xdon2","tag_id":"clbm02io6001uiwv9bqffeqs5","_id":"clbm02io9002qiwv9b9ik8hhg"},{"post_id":"clbm02io0000yiwv9968xdon2","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io9002riwv906tweuch"},{"post_id":"clbm02io20018iwv9csh837le","tag_id":"clbm02io6001uiwv9bqffeqs5","_id":"clbm02io9002siwv9h4849ojh"},{"post_id":"clbm02io20018iwv9csh837le","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io9002tiwv98jj9h5en"},{"post_id":"clbm02io2001ciwv92qxb02ad","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02io9002uiwv96apg2ciy"},{"post_id":"clbm02io2001ciwv92qxb02ad","tag_id":"clbm02io3001hiwv94xyw17xv","_id":"clbm02io9002viwv921dh1k4w"},{"post_id":"clbm02ioa002wiwv9d0km38rl","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02ioa002yiwv9dfu4flhn"},{"post_id":"clbm02ioa002xiwv9c8cl429f","tag_id":"clbm02io6001uiwv9bqffeqs5","_id":"clbm02iob002ziwv99dzj9jtu"},{"post_id":"clbm02ioa002xiwv9c8cl429f","tag_id":"clbm02inu0009iwv9env82157","_id":"clbm02iob0031iwv96s91b8qb"}],"Tag":[{"name":"培训材料/贵州大学商业数据分析","_id":"clbm02inr0004iwv97evw5go4"},{"name":"public","_id":"clbm02inu0009iwv9env82157"},{"name":"培训材料/贵州商学院","_id":"clbm02inv000diwv91yvod978"},{"name":"research","_id":"clbm02io3001hiwv94xyw17xv"},{"name":"docs","_id":"clbm02io6001uiwv9bqffeqs5"}]}}